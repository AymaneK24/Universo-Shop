import{A as Of,B as kf,C as gu,D as Ff,E as Vf,F as fn,a as U,b as ye,c as y0,d as L,e as v0,f as du,g as _0,h as w0,i as E0,j as Rf,k as I0,l as C0,m as Pf,n as D0,o as b0,p as ir,q as oa,r as or,s as hu,t as sa,u as T0,v as S0,w as fu,x as pu,y as tt,z as Nf}from"./chunk-LNBT3LOM.js";function A0(n,e){return Object.is(n,e)}var nt=null,mu=!1,yu=1,sr=Symbol("SIGNAL");function _e(n){let e=nt;return nt=n,e}function x0(){return nt}var ca={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Uf(n){if(mu)throw new Error("");if(nt===null)return;nt.consumerOnSignalRead(n);let e=nt.nextProducerIndex++;if(Eu(nt),e<nt.producerNode.length&&nt.producerNode[e]!==n&&aa(nt)){let t=nt.producerNode[e];wu(t,nt.producerIndexOfThis[e])}nt.producerNode[e]!==n&&(nt.producerNode[e]=n,nt.producerIndexOfThis[e]=aa(nt)?N0(n,nt,e):0),nt.producerLastReadVersion[e]=n.version}function LM(){yu++}function M0(n){if(!(aa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===yu)){if(!n.producerMustRecompute(n)&&!$f(n)){n.dirty=!1,n.lastCleanEpoch=yu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=yu}}function R0(n){if(n.liveConsumerNode===void 0)return;let e=mu;mu=!0;try{for(let t of n.liveConsumerNode)t.dirty||jM(t)}finally{mu=e}}function P0(){return nt?.consumerAllowSignalWrites!==!1}function jM(n){n.dirty=!0,R0(n),n.consumerMarkedDirty?.(n)}function _u(n){return n&&(n.nextProducerIndex=0),_e(n)}function Bf(n,e){if(_e(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(aa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)wu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function $f(n){Eu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(M0(t),r!==t.version))return!0}return!1}function zf(n){if(Eu(n),aa(n))for(let e=0;e<n.producerNode.length;e++)wu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function N0(n,e,t){if(O0(n),n.liveConsumerNode.length===0&&k0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=N0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function wu(n,e){if(O0(n),n.liveConsumerNode.length===1&&k0(n))for(let r=0;r<n.producerNode.length;r++)wu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Eu(i),i.producerIndexOfThis[r]=e}}function aa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Eu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function O0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function k0(n){return n.producerNode!==void 0}function F0(n){let e=Object.create(UM);e.computation=n;let t=()=>{if(M0(e),Uf(e),e.value===vu)throw e.error;return e.value};return t[sr]=e,t}var Lf=Symbol("UNSET"),jf=Symbol("COMPUTING"),vu=Symbol("ERRORED"),UM=ye(U({},ca),{value:Lf,dirty:!0,error:null,equal:A0,producerMustRecompute(n){return n.value===Lf||n.value===jf},producerRecomputeValue(n){if(n.value===jf)throw new Error("Detected cycle in computations.");let e=n.value;n.value=jf;let t=_u(n),r;try{r=n.computation()}catch(i){r=vu,n.error=i}finally{Bf(n,t)}if(e!==Lf&&e!==vu&&r!==vu&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function BM(){throw new Error}var V0=BM;function L0(){V0()}function j0(n){V0=n}var $M=null;function U0(n){let e=Object.create($0);e.value=n;let t=()=>(Uf(e),e.value);return t[sr]=e,t}function Hf(n,e){P0()||L0(),n.equal(n.value,e)||(n.value=e,zM(n))}function B0(n,e){P0()||L0(),Hf(n,e(n.value))}var $0=ye(U({},ca),{equal:A0,value:void 0});function zM(n){n.version++,LM(),R0(n),$M?.()}function ie(n){return typeof n=="function"}function po(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Iu=po(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function _i(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ke=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ie(r))try{r()}catch(o){e=o instanceof Iu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{z0(o)}catch(s){e=e??[],s instanceof Iu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Iu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)z0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&_i(t,e)}remove(e){let{_finalizers:t}=this;t&&_i(t,e),e instanceof n&&e._removeParent(this)}};Ke.EMPTY=(()=>{let n=new Ke;return n.closed=!0,n})();var qf=Ke.EMPTY;function Cu(n){return n instanceof Ke||n&&"closed"in n&&ie(n.remove)&&ie(n.add)&&ie(n.unsubscribe)}function z0(n){ie(n)?n():n.unsubscribe()}var pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var go={setTimeout(n,e,...t){let{delegate:r}=go;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=go;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Du(n){go.setTimeout(()=>{let{onUnhandledError:e}=pn;if(e)e(n);else throw n})}function ua(){}var H0=Gf("C",void 0,void 0);function q0(n){return Gf("E",void 0,n)}function G0(n){return Gf("N",n,void 0)}function Gf(n,e,t){return{kind:n,value:e,error:t}}var wi=null;function mo(n){if(pn.useDeprecatedSynchronousErrorHandling){let e=!wi;if(e&&(wi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=wi;if(wi=null,t)throw r}}else n()}function W0(n){pn.useDeprecatedSynchronousErrorHandling&&wi&&(wi.errorThrown=!0,wi.error=n)}var Ei=class extends Ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Cu(e)&&e.add(this)):this.destination=GM}static create(e,t,r){return new ar(e,t,r)}next(e){this.isStopped?Kf(G0(e),this):this._next(e)}error(e){this.isStopped?Kf(q0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Kf(H0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},HM=Function.prototype.bind;function Wf(n,e){return HM.call(n,e)}var Qf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){bu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){bu(r)}else bu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){bu(t)}}},ar=class extends Ei{constructor(e,t,r){super();let i;if(ie(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&pn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Wf(e.next,o),error:e.error&&Wf(e.error,o),complete:e.complete&&Wf(e.complete,o)}):i=e}this.destination=new Qf(i)}};function bu(n){pn.useDeprecatedSynchronousErrorHandling?W0(n):Du(n)}function qM(n){throw n}function Kf(n,e){let{onStoppedNotification:t}=pn;t&&go.setTimeout(()=>t(n,e))}var GM={closed:!0,next:ua,error:qM,complete:ua};var yo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function zt(n){return n}function Tu(...n){return Yf(n)}function Yf(n){return n.length===0?zt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var oe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=KM(t)?t:new ar(t,r,i);return mo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=K0(r),new r((i,o)=>{let s=new ar({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[yo](){return this}pipe(...t){return Yf(t)(this)}toPromise(t){return t=K0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function K0(n){var e;return(e=n??pn.Promise)!==null&&e!==void 0?e:Promise}function WM(n){return n&&ie(n.next)&&ie(n.error)&&ie(n.complete)}function KM(n){return n&&n instanceof Ei||WM(n)&&Cu(n)}function Zf(n){return ie(n?.lift)}function fe(n){return e=>{if(Zf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(n,e,t,r,i){return new Jf(n,e,t,r,i)}var Jf=class extends Ei{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function vo(){return fe((n,e)=>{let t=null;n._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var _o=class extends oe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Zf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ke;let t=this.getSubject();e.add(this.source.subscribe(pe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ke.EMPTY)}return e}refCount(){return vo()(this)}};var Q0=po(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Be=(()=>{class n extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Su(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Q0}next(t){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?qf:(this.currentObservers=null,o.push(t),new Ke(()=>{this.currentObservers=null,_i(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new oe;return t.source=this,t}}return n.create=(e,t)=>new Su(e,t),n})(),Su=class extends Be{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:qf}};var $e=class extends Be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var la={now(){return(la.delegate||Date).now()},delegate:void 0};var Au=class extends Be{constructor(e=1/0,t=1/0,r=la){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}};var xu=class extends Ke{constructor(e,t){super()}schedule(e,t=0){return this}};var da={setInterval(n,e,...t){let{delegate:r}=da;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=da;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var wo=class extends xu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return da.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&da.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,_i(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Eo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Eo.now=la.now;var Io=class extends Eo{constructor(e,t=Eo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var ha=new Io(wo);var Mu=class extends wo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ru=class extends Io{};var Xf=new Ru(Mu);var xt=new oe(n=>n.complete());function Y0(n){return n&&ie(n.schedule)}function ep(n){return n[n.length-1]}function Pu(n){return ie(ep(n))?n.pop():void 0}function Mn(n){return Y0(ep(n))?n.pop():void 0}function Z0(n,e){return typeof ep(n)=="number"?n.pop():e}var Nu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ou(n){return ie(n?.then)}function ku(n){return ie(n[yo])}function Fu(n){return Symbol.asyncIterator&&ie(n?.[Symbol.asyncIterator])}function Vu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function QM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Lu=QM();function ju(n){return ie(n?.[Lu])}function Uu(n){return _0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield du(t.read());if(i)return yield du(void 0);yield yield du(r)}}finally{t.releaseLock()}})}function Bu(n){return ie(n?.getReader)}function je(n){if(n instanceof oe)return n;if(n!=null){if(ku(n))return YM(n);if(Nu(n))return ZM(n);if(Ou(n))return JM(n);if(Fu(n))return J0(n);if(ju(n))return XM(n);if(Bu(n))return eR(n)}throw Vu(n)}function YM(n){return new oe(e=>{let t=n[yo]();if(ie(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ZM(n){return new oe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function JM(n){return new oe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Du)})}function XM(n){return new oe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function J0(n){return new oe(e=>{tR(n,e).catch(t=>e.error(t))})}function eR(n){return J0(Uu(n))}function tR(n,e){var t,r,i,o;return v0(this,void 0,void 0,function*(){try{for(t=w0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Vt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ht(n,e=0){return fe((t,r)=>{t.subscribe(pe(r,i=>Vt(r,n,()=>r.next(i),e),()=>Vt(r,n,()=>r.complete(),e),i=>Vt(r,n,()=>r.error(i),e)))})}function en(n,e=0){return fe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function X0(n,e){return je(n).pipe(en(e),Ht(e))}function eE(n,e){return je(n).pipe(en(e),Ht(e))}function tE(n,e){return new oe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function nE(n,e){return new oe(t=>{let r;return Vt(t,e,()=>{r=n[Lu](),Vt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ie(r?.return)&&r.return()})}function $u(n,e){if(!n)throw new Error("Iterable cannot be null");return new oe(t=>{Vt(t,e,()=>{let r=n[Symbol.asyncIterator]();Vt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function rE(n,e){return $u(Uu(n),e)}function iE(n,e){if(n!=null){if(ku(n))return X0(n,e);if(Nu(n))return tE(n,e);if(Ou(n))return eE(n,e);if(Fu(n))return $u(n,e);if(ju(n))return nE(n,e);if(Bu(n))return rE(n,e)}throw Vu(n)}function de(n,e){return e?iE(n,e):je(n)}function Y(...n){let e=Mn(n);return de(n,e)}function Co(n,e){let t=ie(n)?n:()=>n,r=i=>i.error(t());return new oe(e?i=>e.schedule(r,0,i):r)}function tp(n){return!!n&&(n instanceof oe||ie(n.lift)&&ie(n.subscribe))}var cr=po(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(n,e){return fe((t,r)=>{let i=0;t.subscribe(pe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:nR}=Array;function rR(n,e){return nR(e)?n(...e):n(e)}function zu(n){return ee(e=>rR(n,e))}var{isArray:iR}=Array,{getPrototypeOf:oR,prototype:sR,keys:aR}=Object;function Hu(n){if(n.length===1){let e=n[0];if(iR(e))return{args:e,keys:null};if(cR(e)){let t=aR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function cR(n){return n&&typeof n=="object"&&oR(n)===sR}function qu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ur(...n){let e=Mn(n),t=Pu(n),{args:r,keys:i}=Hu(n);if(r.length===0)return de([],e);let o=new oe(uR(r,e,i?s=>qu(i,s):zt));return t?o.pipe(zu(t)):o}function uR(n,e,t=zt){return r=>{oE(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)oE(e,()=>{let l=de(n[u],e),h=!1;l.subscribe(pe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function oE(n,e,t){n?Vt(t,n,e):e()}function sE(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=P=>l<r?x(P):u.push(P),x=P=>{o&&e.next(P),l++;let M=!1;je(t(P,h++)).subscribe(pe(e,F=>{i?.(F),o?v(F):e.next(F)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let F=u.shift();s?Vt(e,s,()=>x(F)):x(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(pe(e,v,()=>{p=!0,m()})),()=>{a?.()}}function Ze(n,e,t=1/0){return ie(e)?Ze((r,i)=>ee((o,s)=>e(r,o,i,s))(je(n(r,i))),t):(typeof e=="number"&&(t=e),fe((r,i)=>sE(r,i,n,t)))}function Rn(n=1/0){return Ze(zt,n)}function aE(){return Rn(1)}function Do(...n){return aE()(de(n,Mn(n)))}function Gu(n){return new oe(e=>{je(n()).subscribe(e)})}function np(...n){let e=Pu(n),{args:t,keys:r}=Hu(n),i=new oe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;je(t[h]).subscribe(pe(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?qu(r,a):a),o.complete())}))}});return e?i.pipe(zu(e)):i}function rp(...n){let e=Mn(n),t=Z0(n,1/0),r=n;return r.length?r.length===1?je(r[0]):Rn(t)(de(r,e)):xt}function ut(n,e){return fe((t,r)=>{let i=0;t.subscribe(pe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Pn(n){return fe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(pe(t,void 0,void 0,s=>{o=je(n(s,Pn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function cE(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(pe(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function lr(n,e){return ie(e)?Ze(n,e,1):Ze(n,1)}function ip(n,e=ha){return fe((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+n,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}t.subscribe(pe(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Vr(n){return fe((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function dr(n){return n<=0?()=>xt:fe((e,t)=>{let r=0;e.subscribe(pe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function op(n){return ee(()=>n)}function Wu(n=lR){return fe((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function lR(){return new cr}function Ii(n){return fe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function qt(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ut((i,o)=>n(i,o,r)):zt,dr(1),t?Vr(e):Wu(()=>new cr))}function bo(n){return n<=0?()=>xt:fe((e,t)=>{let r=[];e.subscribe(pe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function sp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ut((i,o)=>n(i,o,r)):zt,bo(1),t?Vr(e):Wu(()=>new cr))}function Ku(n,e){return fe(cE(n,e,arguments.length>=2,!0))}function uE(n={}){let{connector:e=()=>new Be,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,l=0,h=!1,p=!1,m=()=>{a?.unsubscribe(),a=void 0},v=()=>{m(),s=u=void 0,h=p=!1},x=()=>{let P=s;v(),P?.unsubscribe()};return fe((P,M)=>{l++,!p&&!h&&m();let F=u=u??e();M.add(()=>{l--,l===0&&!p&&!h&&(a=ap(x,i))}),F.subscribe(M),!s&&l>0&&(s=new ar({next:G=>F.next(G),error:G=>{p=!0,m(),a=ap(v,t,G),F.error(G)},complete:()=>{h=!0,m(),a=ap(v,r),F.complete()}}),je(P).subscribe(s))})(o)}}function ap(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new ar({next:()=>{r.unsubscribe(),n()}});return je(e(...t)).subscribe(r)}function Qu(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,uE({connector:()=>new Au(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Yu(...n){let e=Mn(n);return fe((t,r)=>{(e?Do(n,t,e):Do(n,t)).subscribe(r)})}function Me(n,e){return fe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(pe(r,u=>{i?.unsubscribe();let l=0,h=o++;je(n(u,h)).subscribe(i=pe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Zu(n,e){return ie(e)?Me(()=>n,e):Me(()=>n)}function cp(n){return fe((e,t)=>{je(n).subscribe(pe(t,()=>t.complete(),ua)),!t.closed&&e.subscribe(t)})}function Ye(n,e,t){let r=ie(n)||e||t?{next:n,error:e,complete:t}:n;return r?fe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):zt}var QE="https://g.co/ng/security#xss",Z=class extends Error{constructor(e,t){super(jl(e,t)),this.code=e}};function jl(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Da(n){return{toString:n}.toString()}var Ju="__parameters__";function dR(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function YE(n,e,t){return Da(()=>{let r=dR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Ju)?u[Ju]:Object.defineProperty(u,Ju,{value:[]})[Ju];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var ma=globalThis;function ke(n){for(let e in n)if(n[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function hR(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Rt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Rt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function lE(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var fR=ke({__forward_ref__:ke});function sn(n){return n.__forward_ref__=sn,n.toString=function(){return Rt(this())},n}function Mt(n){return ZE(n)?n():n}function ZE(n){return typeof n=="function"&&n.hasOwnProperty(fR)&&n.__forward_ref__===sn}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function it(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ul(n){return dE(n,XE)||dE(n,eI)}function JE(n){return Ul(n)!==null}function dE(n,e){return n.hasOwnProperty(e)?n[e]:null}function pR(n){let e=n&&(n[XE]||n[eI]);return e||null}function hE(n){return n&&(n.hasOwnProperty(fE)||n.hasOwnProperty(gR))?n[fE]:null}var XE=ke({\u0275prov:ke}),fE=ke({\u0275inj:ke}),eI=ke({ngInjectableDef:ke}),gR=ke({ngInjectorDef:ke}),$=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function tI(n){return n&&!!n.\u0275providers}var mR=ke({\u0275cmp:ke}),yR=ke({\u0275dir:ke}),vR=ke({\u0275pipe:ke}),_R=ke({\u0275mod:ke}),hl=ke({\u0275fac:ke}),ga=ke({__NG_ELEMENT_ID__:ke}),pE=ke({__NG_ENV_ID__:ke});function Ci(n){return typeof n=="string"?n:n==null?"":String(n)}function wR(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ci(n)}function ER(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Z(-200,n)}function Cg(n,e){throw new Z(-201,!1)}var he=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(he||{}),Dp;function nI(){return Dp}function tn(n){let e=Dp;return Dp=n,e}function rI(n,e,t){let r=Ul(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&he.Optional)return null;if(e!==void 0)return e;Cg(n,"Injector")}var IR={},ya=IR,bp="__NG_DI_FLAG__",fl="ngTempTokenPath",CR="ngTokenPath",DR=/\n/gm,bR="\u0275",gE="__source",Mo;function TR(){return Mo}function Lr(n){let e=Mo;return Mo=n,e}function SR(n,e=he.Default){if(Mo===void 0)throw new Z(-203,!1);return Mo===null?rI(n,void 0,e):Mo.get(n,e&he.Optional?null:void 0,e)}function z(n,e=he.Default){return(nI()||SR)(Mt(n),e)}function N(n,e=he.Default){return z(n,Bl(e))}function Bl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Tp(n){let e=[];for(let t=0;t<n.length;t++){let r=Mt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Z(900,!1);let i,o=he.Default;for(let s=0;s<r.length;s++){let a=r[s],u=AR(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(z(i,o))}else e.push(z(r))}return e}function iI(n,e){return n[bp]=e,n.prototype[bp]=e,n}function AR(n){return n[bp]}function xR(n,e,t,r){let i=n[fl];throw e[gE]&&i.unshift(e[gE]),n.message=MR(`
`+n.message,i,t,r),n[CR]=i,n[fl]=null,n}function MR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==bR?n.slice(2):n;let i=Rt(e);if(Array.isArray(e))i=e.map(Rt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Rt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(DR,`
  `)}`}var _t=iI(YE("Optional"),8);var Dg=iI(YE("SkipSelf"),4);function Po(n,e){let t=n.hasOwnProperty(hl);return t?n[hl]:null}function RR(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function PR(n){return n.flat(Number.POSITIVE_INFINITY)}function bg(n,e){n.forEach(t=>Array.isArray(t)?bg(t,e):e(t))}function oI(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function pl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function NR(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function OR(n,e,t){let r=ba(n,e);return r>=0?n[r|1]=t:(r=~r,NR(n,r,e,t)),r}function up(n,e){let t=ba(n,e);if(t>=0)return n[t|1]}function ba(n,e){return kR(n,e,1)}function kR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var No={},Gt=[],bi=new $(""),sI=new $("",-1),aI=new $(""),gl=class{get(e,t=ya){if(t===ya){let r=new Error(`NullInjectorError: No provider for ${Rt(e)}!`);throw r.name="NullInjectorError",r}return t}},cI=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(cI||{}),kn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(kn||{}),Ur=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ur||{});function FR(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Sp(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];VR(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function uI(n){return n===3||n===4||n===6}function VR(n){return n.charCodeAt(0)===64}function va(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?mE(n,t,i,null,e[++r]):mE(n,t,i,null,null))}}return n}function mE(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var lI="ng-template";function LR(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&FR(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Tg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Tg(n){return n.type===4&&n.value!==lI}function jR(n,e,t){let r=n.type===4&&!t?lI:n.value;return e===r}function UR(n,e,t){let r=4,i=n.attrs,o=i!==null?zR(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!gn(r)&&!gn(u))return!1;if(s&&gn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!jR(n,u,t)||u===""&&e.length===1){if(gn(r))return!1;s=!0}}else if(r&8){if(i===null||!LR(n,i,u,t)){if(gn(r))return!1;s=!0}}else{let l=e[++a],h=BR(u,i,Tg(n),t);if(h===-1){if(gn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(gn(r))return!1;s=!0}}}}return gn(r)||s}function gn(n){return(n&1)===0}function BR(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return HR(e,n)}function $R(n,e,t=!1){for(let r=0;r<e.length;r++)if(UR(n,e[r],t))return!0;return!1}function zR(n){for(let e=0;e<n.length;e++){let t=n[e];if(uI(t))return e}return n.length}function HR(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function yE(n,e){return n?":not("+e.trim()+")":e}function qR(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!gn(s)&&(e+=yE(o,i),i=""),r=s,o=o||!gn(r);t++}return i!==""&&(e+=yE(o,i)),e}function GR(n){return n.map(qR).join(",")}function WR(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!gn(i))break;i=o}r++}return{attrs:e,classes:t}}function Se(n){return Da(()=>{let e=gI(n),t=ye(U({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===cI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||kn.Emulated,styles:n.styles||Gt,_:null,schemas:n.schemas||null,tView:null,id:""});mI(t);let r=n.dependencies;return t.directiveDefs=_E(r,!1),t.pipeDefs=_E(r,!0),t.id=YR(t),t})}function KR(n){return Br(n)||dI(n)}function QR(n){return n!==null}function ot(n){return Da(()=>({type:n.type,bootstrap:n.bootstrap||Gt,declarations:n.declarations||Gt,imports:n.imports||Gt,exports:n.exports||Gt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function vE(n,e){if(n==null)return No;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Ur.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Ur.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Fe(n){return Da(()=>{let e=gI(n);return mI(e),e})}function Br(n){return n[mR]||null}function dI(n){return n[yR]||null}function hI(n){return n[vR]||null}function fI(n){let e=Br(n)||dI(n)||hI(n);return e!==null?e.standalone:!1}function pI(n,e){let t=n[_R]||null;if(!t&&e===!0)throw new Error(`Type ${Rt(n)} does not have '\u0275mod' property.`);return t}function gI(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||No,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Gt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vE(n.inputs,e),outputs:vE(n.outputs),debugInfo:null}}function mI(n){n.features?.forEach(e=>e(n))}function _E(n,e){if(!n)return null;let t=e?hI:KR;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(QR)}function YR(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Kt(n){return{\u0275providers:n}}function $o(...n){return{\u0275providers:yI(!0,n),\u0275fromNgModule:!0}}function yI(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return bg(e,s=>{let a=s;Ap(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&vI(i,o),t}function vI(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Sg(i,o=>{e(o,r)})}}function Ap(n,e,t,r){if(n=Mt(n),!n)return!1;let i=null,o=hE(n),s=!o&&Br(n);if(!o&&!s){let u=n.ngModule;if(o=hE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Ap(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{bg(o.imports,h=>{Ap(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&vI(l,e)}if(!a){let l=Po(i)||(()=>new i);e({provide:i,useFactory:l,deps:Gt},i),e({provide:aI,useValue:i,multi:!0},i),e({provide:bi,useValue:()=>z(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Sg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Sg(n,e){for(let t of n)tI(t)&&(t=t.\u0275providers),Array.isArray(t)?Sg(t,e):e(t)}var ZR=ke({provide:String,useValue:ke});function _I(n){return n!==null&&typeof n=="object"&&ZR in n}function JR(n){return!!(n&&n.useExisting)}function XR(n){return!!(n&&n.useFactory)}function Oo(n){return typeof n=="function"}function eP(n){return!!n.useClass}var $l=new $(""),sl={},tP={},lp;function Ag(){return lp===void 0&&(lp=new gl),lp}var Nt=class{},_a=class extends Nt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mp(e,s=>this.processProvider(s)),this.records.set(sI,To(void 0,this)),i.has("environment")&&this.records.set(Nt,To(void 0,this));let o=this.records.get($l);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(aI,Gt,he.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=_e(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Lr(this),r=tn(void 0),i;try{return e()}finally{Lr(t),tn(r)}}get(e,t=ya,r=he.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(pE))return e[pE](this);r=Bl(r);let i,o=Lr(this),s=tn(void 0);try{if(!(r&he.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=sP(e)&&Ul(e);l&&this.injectableDefInScope(l)?u=To(xp(e),sl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&he.Self?Ag():this.parent;return t=r&he.Optional&&t===ya?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[fl]=a[fl]||[]).unshift(Rt(e)),o)throw a;return xR(a,e,"R3InjectorError",this.source)}else throw a}finally{tn(s),Lr(o)}}resolveInjectorInitializers(){let e=_e(null),t=Lr(this),r=tn(void 0),i;try{let o=this.get(bi,Gt,he.Self);for(let s of o)s()}finally{Lr(t),tn(r),_e(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Rt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(e){e=Mt(e);let t=Oo(e)?e:Mt(e&&e.provide),r=rP(e);if(!Oo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=To(void 0,sl,!0),i.factory=()=>Tp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=_e(null);try{return t.value===sl&&(t.value=tP,t.value=t.factory()),typeof t.value=="object"&&t.value&&oP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Mt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function xp(n){let e=Ul(n),t=e!==null?e.factory:Po(n);if(t!==null)return t;if(n instanceof $)throw new Z(204,!1);if(n instanceof Function)return nP(n);throw new Z(204,!1)}function nP(n){if(n.length>0)throw new Z(204,!1);let t=pR(n);return t!==null?()=>t.factory(n):()=>new n}function rP(n){if(_I(n))return To(void 0,n.useValue);{let e=wI(n);return To(e,sl)}}function wI(n,e,t){let r;if(Oo(n)){let i=Mt(n);return Po(i)||xp(i)}else if(_I(n))r=()=>Mt(n.useValue);else if(XR(n))r=()=>n.useFactory(...Tp(n.deps||[]));else if(JR(n))r=()=>z(Mt(n.useExisting));else{let i=Mt(n&&(n.useClass||n.provide));if(iP(n))r=()=>new i(...Tp(n.deps));else return Po(i)||xp(i)}return r}function To(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function iP(n){return!!n.deps}function oP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function sP(n){return typeof n=="function"||typeof n=="object"&&n instanceof $}function Mp(n,e){for(let t of n)Array.isArray(t)?Mp(t,e):t&&tI(t)?Mp(t.\u0275providers,e):e(t)}function an(n,e){n instanceof _a&&n.assertNotDestroyed();let t,r=Lr(n),i=tn(void 0);try{return e()}finally{Lr(r),tn(i)}}function EI(){return nI()!==void 0||TR()!=null}function aP(n){if(!EI())throw new Z(-203,!1)}function cP(n){return typeof n=="function"}var Wt=0,se=1,ne=2,lt=3,mn=4,_n=5,Fn=6,ml=7,rn=8,ko=9,Vn=10,Ue=11,wa=12,wE=13,zo=14,on=15,Ti=16,So=17,hr=18,zl=19,II=20,jr=21,dp=22,nn=23,vt=25,CI=1,Ea=6,fr=7,yl=8,Fo=9,Pt=10,vl=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(vl||{});function yn(n){return Array.isArray(n)&&typeof n[CI]=="object"}function jn(n){return Array.isArray(n)&&n[CI]===!0}function DI(n){return(n.flags&4)!==0}function Ta(n){return n.componentOffset>-1}function xg(n){return(n.flags&1)===1}function $r(n){return!!n.template}function _l(n){return(n[ne]&512)!==0}var Rp=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function bI(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function wn(){return TI}function TI(n){return n.type.prototype.ngOnChanges&&(n.setInput=lP),uP}wn.ngInherit=!0;function uP(){let n=AI(this),e=n?.current;if(e){let t=n.previous;if(t===No)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function lP(n,e,t,r,i){let o=this.declaredInputs[r],s=AI(n)||dP(n,{previous:No,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Rp(l&&l.currentValue,t,u===No),bI(n,e,i,t)}var SI="__ngSimpleChanges__";function AI(n){return n[SI]||null}function dP(n,e){return n[SI]=e}var EE=null;var Nn=function(n,e,t){EE?.(n,e,t)},hP="svg",fP="math";function vn(n){for(;Array.isArray(n);)n=n[Wt];return n}function xI(n,e){return vn(e[n])}function Qt(n,e){return vn(e[n.index])}function Mg(n,e){return n.data[e]}function Hr(n,e){let t=e[n];return yn(t)?t:t[Wt]}function pP(n){return(n[ne]&4)===4}function Rg(n){return(n[ne]&128)===128}function gP(n){return jn(n[lt])}function wl(n,e){return e==null?null:n[e]}function MI(n){n[So]=0}function RI(n){n[ne]&1024||(n[ne]|=1024,Rg(n)&&ql(n))}function mP(n,e){for(;n>0;)e=e[zo],n--;return e}function Hl(n){return!!(n[ne]&9216||n[nn]?.dirty)}function Pp(n){n[Vn].changeDetectionScheduler?.notify(8),n[ne]&64&&(n[ne]|=1024),Hl(n)&&ql(n)}function ql(n){n[Vn].changeDetectionScheduler?.notify(0);let e=Si(n);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!Rg(e)));)e=Si(e)}function PI(n,e){if((n[ne]&256)===256)throw new Z(911,!1);n[jr]===null&&(n[jr]=[]),n[jr].push(e)}function yP(n,e){if(n[jr]===null)return;let t=n[jr].indexOf(e);t!==-1&&n[jr].splice(t,1)}function Si(n){let e=n[lt];return jn(e)?e[lt]:e}var le={lFrame:$I(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var NI=!1;function vP(){return le.lFrame.elementDepthCount}function _P(){le.lFrame.elementDepthCount++}function wP(){le.lFrame.elementDepthCount--}function OI(){return le.bindingsEnabled}function Sa(){return le.skipHydrationRootTNode!==null}function EP(n){return le.skipHydrationRootTNode===n}function IP(n){le.skipHydrationRootTNode=n}function CP(){le.skipHydrationRootTNode=null}function Ie(){return le.lFrame.lView}function wt(){return le.lFrame.tView}function Ot(n){return le.lFrame.contextLView=n,n[rn]}function kt(n){return le.lFrame.contextLView=null,n}function Et(){let n=kI();for(;n!==null&&n.type===64;)n=n.parent;return n}function kI(){return le.lFrame.currentTNode}function DP(){let n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Aa(n,e){let t=le.lFrame;t.currentTNode=n,t.isParent=e}function FI(){return le.lFrame.isParent}function bP(){le.lFrame.isParent=!1}function VI(){return NI}function IE(n){NI=n}function Pg(){let n=le.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function TP(){return le.lFrame.bindingIndex}function SP(n){return le.lFrame.bindingIndex=n}function xa(){return le.lFrame.bindingIndex++}function LI(n){let e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function AP(){return le.lFrame.inI18n}function xP(n,e){let t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Np(e)}function MP(){return le.lFrame.currentDirectiveIndex}function Np(n){le.lFrame.currentDirectiveIndex=n}function RP(n){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function jI(){return le.lFrame.currentQueryIndex}function Ng(n){le.lFrame.currentQueryIndex=n}function PP(n){let e=n[se];return e.type===2?e.declTNode:e.type===1?n[_n]:null}function UI(n,e,t){if(t&he.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&he.Host);)if(i=PP(o),i===null||(o=o[zo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=le.lFrame=BI();return r.currentTNode=e,r.lView=n,!0}function Og(n){let e=BI(),t=n[se];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function BI(){let n=le.lFrame,e=n===null?null:n.child;return e===null?$I(n):e}function $I(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function zI(){let n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var HI=zI;function kg(){let n=zI();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function NP(n){return(le.lFrame.contextLView=mP(n,le.lFrame.contextLView))[rn]}function ki(){return le.lFrame.selectedIndex}function Ai(n){le.lFrame.selectedIndex=n}function Gl(){let n=le.lFrame;return Mg(n.tView,n.selectedIndex)}function qI(){return le.lFrame.currentNamespace}var GI=!0;function Fg(){return GI}function qr(n){GI=n}function OP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=TI(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Vg(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function al(n,e,t){WI(n,e,3,t)}function cl(n,e,t,r){(n[ne]&3)===t&&WI(n,e,t,r)}function hp(n,e){let t=n[ne];(t&3)===e&&(t&=16383,t+=1,n[ne]=t)}function WI(n,e,t,r){let i=r!==void 0?n[So]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[So]+=65536),(a<o||o==-1)&&(kP(n,t,e,u),n[So]=(n[So]&4294901760)+u+2),u++}function CE(n,e){Nn(4,n,e);let t=_e(null);try{e.call(n)}finally{_e(t),Nn(5,n,e)}}function kP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ne]>>14<n[So]>>16&&(n[ne]&3)===e&&(n[ne]+=16384,CE(a,o)):CE(a,o)}var Ro=-1,xi=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function FP(n){return n instanceof xi}function VP(n){return(n.flags&8)!==0}function LP(n){return(n.flags&16)!==0}var fp={},Op=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Bl(r);let i=this.injector.get(e,fp,r);return i!==fp||t===fp?i:this.parentInjector.get(e,t,r)}};function KI(n){return n!==Ro}function El(n){return n&32767}function jP(n){return n>>16}function Il(n,e){let t=jP(n),r=e;for(;t>0;)r=r[zo],t--;return r}var kp=!0;function DE(n){let e=kp;return kp=n,e}var UP=256,QI=UP-1,YI=5,BP=0,On={};function $P(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ga)&&(r=t[ga]),r==null&&(r=t[ga]=BP++);let i=r&QI,o=1<<i;e.data[n+(i>>YI)]|=o}function Cl(n,e){let t=ZI(n,e);if(t!==-1)return t;let r=e[se];r.firstCreatePass&&(n.injectorIndex=e.length,pp(r.data,n),pp(e,null),pp(r.blueprint,null));let i=Lg(n,e),o=n.injectorIndex;if(KI(i)){let s=El(i),a=Il(i,e),u=a[se].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function pp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ZI(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Lg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=nC(i),r===null)return Ro;if(t++,i=i[zo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ro}function Fp(n,e,t){$P(n,e,t)}function zP(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(uI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function JI(n,e,t){if(t&he.Optional||n!==void 0)return n;Cg(e,"NodeInjector")}function XI(n,e,t,r){if(t&he.Optional&&r===void 0&&(r=null),!(t&(he.Self|he.Host))){let i=n[ko],o=tn(void 0);try{return i?i.get(e,r,t&he.Optional):rI(e,r,t&he.Optional)}finally{tn(o)}}return JI(r,e,t)}function eC(n,e,t,r=he.Default,i){if(n!==null){if(e[ne]&2048&&!(r&he.Self)){let s=WP(n,e,t,r,On);if(s!==On)return s}let o=tC(n,e,t,r,On);if(o!==On)return o}return XI(e,t,r,i)}function tC(n,e,t,r,i){let o=qP(t);if(typeof o=="function"){if(!UI(e,n,r))return r&he.Host?JI(i,t,r):XI(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&he.Optional))Cg(t);else return s}finally{HI()}}else if(typeof o=="number"){let s=null,a=ZI(n,e),u=Ro,l=r&he.Host?e[on][_n]:null;for((a===-1||r&he.SkipSelf)&&(u=a===-1?Lg(n,e):e[a+8],u===Ro||!TE(r,!1)?a=-1:(s=e[se],a=El(u),e=Il(u,e)));a!==-1;){let h=e[se];if(bE(o,a,h.data)){let p=HP(a,e,t,s,r,l);if(p!==On)return p}u=e[a+8],u!==Ro&&TE(r,e[se].data[a+8]===l)&&bE(o,a,e)?(s=h,a=El(u),e=Il(u,e)):a=-1}}return i}function HP(n,e,t,r,i,o){let s=e[se],a=s.data[n+8],u=r==null?Ta(a)&&kp:r!=s&&(a.type&3)!==0,l=i&he.Host&&o===a,h=ul(a,s,t,u,l);return h!==null?Mi(e,s,h,a):On}function ul(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let x=s[v];if(v<u&&t===x||v>=u&&x.type===t)return v}if(i){let v=s[u];if(v&&$r(v)&&v.type===t)return u}return null}function Mi(n,e,t,r){let i=n[t],o=e.data;if(FP(i)){let s=i;s.resolving&&ER(wR(o[t]));let a=DE(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?tn(s.injectImpl):null,h=UI(n,r,he.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&OP(t,o[t],e)}finally{l!==null&&tn(l),DE(a),s.resolving=!1,HI()}}return i}function qP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ga)?n[ga]:void 0;return typeof e=="number"?e>=0?e&QI:GP:e}function bE(n,e,t){let r=1<<n;return!!(t[e+(n>>YI)]&r)}function TE(n,e){return!(n&he.Self)&&!(n&he.Host&&e)}var Di=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return eC(this._tNode,this._lView,e,Bl(r),t)}};function GP(){return new Di(Et(),Ie())}function Un(n){return Da(()=>{let e=n.prototype.constructor,t=e[hl]||Vp(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[hl]||Vp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Vp(n){return ZE(n)?()=>{let e=Vp(Mt(n));return e&&e()}:Po(n)}function WP(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!(s[ne]&512);){let a=tC(o,s,t,r|he.Self,On);if(a!==On)return a;let u=o.parent;if(!u){let l=s[II];if(l){let h=l.get(t,On,r);if(h!==On)return h}u=nC(s),s=s[zo]}o=u}return i}function nC(n){let e=n[se],t=e.type;return t===2?e.declTNode:t===1?n[_n]:null}function jg(n){return zP(Et(),n)}function SE(n,e=null,t=null,r){let i=rC(n,e,t,r);return i.resolveInjectorInitializers(),i}function rC(n,e=null,t=null,r,i=new Set){let o=[t||Gt,$o(n)];return r=r||(typeof n=="object"?void 0:Rt(n)),new _a(o,e||Ag(),r||null,i)}var dt=class n{static{this.THROW_IF_NOT_FOUND=ya}static{this.NULL=new gl}static create(e,t){if(Array.isArray(e))return SE({name:""},t,e,"");{let r=e.name??"";return SE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=q({token:n,providedIn:"any",factory:()=>z(sI)})}static{this.__NG_ELEMENT_ID__=-1}};var KP=new $("");KP.__NG_ELEMENT_ID__=n=>{let e=Et();if(e===null)throw new Z(204,!1);if(e.type&2)return e.value;if(n&he.Optional)return null;throw new Z(204,!1)};var QP="ngOriginalError";function gp(n){return n[QP]}var iC=!0,Ug=(()=>{class n{static{this.__NG_ELEMENT_ID__=YP}static{this.__NG_ENV_ID__=t=>t}}return n})(),Lp=class extends Ug{constructor(e){super(),this._lView=e}onDestroy(e){return PI(this._lView,e),()=>yP(this._lView,e)}};function YP(){return new Lp(Ie())}var Gr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $e(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}}return n})();var jp=class extends Be{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,EI()&&(this.destroyRef=N(Ug,{optional:!0})??void 0,this.pendingTasks=N(Gr,{optional:!0})??void 0)}emit(e){let t=_e(null);try{super.next(e)}finally{_e(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ke&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},qe=jp;function Dl(...n){}function oC(n){let e,t;function r(){n=Dl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function AE(n){return queueMicrotask(()=>n()),()=>{n=Dl}}var Bg="isAngularZone",bl=Bg+"_ID",ZP=0,we=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=iC}=e;if(typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,eN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Bg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Z(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,JP,Dl,Dl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},JP={};function $g(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function XP(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){oC(()=>{n.callbackScheduled=!1,Up(n),n.isCheckStableRunning=!0,$g(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Up(n)}function eN(n){let e=()=>{XP(n)},t=ZP++;n._inner=n._inner.fork({name:"angular",properties:{[Bg]:!0,[bl]:t,[bl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(tN(u))return r.invokeTask(o,s,a,u);try{return xE(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),ME(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return xE(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!nN(u)&&e(),ME(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Up(n),$g(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Up(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function xE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ME(n){n._nesting--,$g(n)}var Bp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qe,this.onMicrotaskEmpty=new qe,this.onStable=new qe,this.onError=new qe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function tN(n){return sC(n,"__ignore_ng_zone__")}function nN(n){return sC(n,"__scheduler_tick__")}function sC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var pr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&gp(e);for(;t&&gp(t);)t=gp(t);return t||null}},rN=new $("",{providedIn:"root",factory:()=>{let n=N(we),e=N(pr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function iN(){return Ho(Et(),Ie())}function Ho(n,e){return new Ft(Qt(n,e))}var Ft=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=iN}}return n})();function oN(n){return n instanceof Ft?n.nativeElement:n}function sN(){return this._results[Symbol.iterator]()}var $p=class n{get changes(){return this._changes??=new qe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=sN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=PR(e);(this._changesDetected=!RR(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},aN="ngSkipHydration",cN="ngskiphydration";function aC(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===cN)return!0}return!1}function cC(n){return n.hasAttribute(aN)}function Tl(n){return(n.flags&128)===128}function uN(n){if(Tl(n))return!0;let e=n.parent;for(;e;){if(Tl(n)||aC(e))return!0;e=e.parent}return!1}var uC=new Map,lN=0;function dN(){return lN++}function hN(n){uC.set(n[zl],n)}function zp(n){uC.delete(n[zl])}var RE="__ngContext__";function Ri(n,e){yn(e)?(n[RE]=e[zl],hN(e)):n[RE]=e}function lC(n){return hC(n[wa])}function dC(n){return hC(n[mn])}function hC(n){for(;n!==null&&!jn(n);)n=n[mn];return n}var Hp;function fC(n){Hp=n}function Wl(){if(Hp!==void 0)return Hp;if(typeof document<"u")return document;throw new Z(210,!1)}var Kl=new $("",{providedIn:"root",factory:()=>fN}),fN="ng",zg=new $(""),rt=new $("",{providedIn:"platform",factory:()=>"unknown"});var Hg=new $("",{providedIn:"root",factory:()=>Wl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function pN(){let n=new qo;return N(rt)==="browser"&&(n.store=gN(Wl(),N(Kl))),n}var qo=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=q({token:n,providedIn:"root",factory:pN})}get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function gN(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var pC="h",gC="b",qp=function(n){return n.FirstChild="f",n.NextSibling="n",n}(qp||{}),mN="e",yN="t",qg="c",mC="x",Sl="r",vN="i",_N="n",yC="d";var wN="__nghData__",vC=wN,mp="ngh",EN="nghm",_C=()=>null;function IN(n,e,t=!1){let r=n.getAttribute(mp);if(r==null)return null;let[i,o]=r.split("|");if(r=t?o:i,!r)return null;let s=o?`|${o}`:"",a=t?i:s,u={};if(r!==""){let h=e.get(qo,null,{optional:!0});h!==null&&(u=h.get(vC,[])[Number(r)])}let l={data:u,firstChild:n.firstChild??null};return t&&(l.firstChild=n,Ql(l,0,n.nextSibling)),a?n.setAttribute(mp,a):n.removeAttribute(mp),l}function CN(){_C=IN}function Gg(n,e,t=!1){return _C(n,e,t)}function DN(n){let e=n._lView;return e[se].type===2?null:(_l(e)&&(e=e[vt]),e)}function bN(n){return n.textContent?.replace(/\s/gm,"")}function TN(n){let e=Wl(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=bN(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Ql(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function Gp(n,e){return n.segmentHeads?.[e]??null}function SN(n,e){let t=n.data,r=t[mN]?.[e]??null;return r===null&&t[qg]?.[e]&&(r=Wg(n,e)),r}function wC(n,e){return n.data[qg]?.[e]??null}function Wg(n,e){let t=wC(n,e)??[],r=0;for(let i of t)r+=i[Sl]*(i[mC]??1);return r}function AN(n){if(typeof n.disconnectedNodes>"u"){let e=n.data[yC];n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}function Ma(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[yC];n.disconnectedNodes=t?new Set(t):null}return!!AN(n)?.has(e)}var Xu=new $(""),EC=!1,IC=new $("",{providedIn:"root",factory:()=>EC});var el;function xN(){if(el===void 0&&(el=null,ma.trustedTypes))try{el=ma.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return el}function MN(n){return xN()?.createScriptURL(n)||n}var tl;function RN(){if(tl===void 0&&(tl=null,ma.trustedTypes))try{tl=ma.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return tl}function PE(n){return RN()?.createScriptURL(n)||n}var Al=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${QE})`}};function Ra(n){return n instanceof Al?n.changingThisBreaksApplicationSecurity:n}function Kg(n,e){let t=PN(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${QE})`)}return t===e}function PN(n){return n instanceof Al&&n.getTypeName()||null}var NN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function CC(n){return n=String(n),n.match(NN)?n:"unsafe:"+n}var Yl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Yl||{});function yr(n){let e=TC();return e?e.sanitize(Yl.URL,n)||"":Kg(n,"URL")?Ra(n):CC(Ci(n))}function ON(n){let e=TC();if(e)return PE(e.sanitize(Yl.RESOURCE_URL,n)||"");if(Kg(n,"ResourceURL"))return PE(Ra(n));throw new Z(904,!1)}function DC(n){return MN(n[0])}function kN(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?ON:yr}function bC(n,e,t){return kN(e,t)(n)}function TC(){let n=Ie();return n&&n[Vn].sanitizer}var FN=/^>|^->|<!--|-->|--!>|<!-$/g,VN=/(<|>)/g,LN="\u200B$1\u200B";function jN(n){return n.replace(FN,e=>e.replace(VN,LN))}function UN(n){return n.ownerDocument.body}function SC(n){return n instanceof Function?n():n}function fa(n){return(n??N(dt)).get(rt)==="browser"}var gr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(gr||{}),BN;function Qg(n,e){return BN(n,e)}function Ao(n,e,t,r,i){if(r!=null){let o,s=!1;jn(r)?o=r:yn(r)&&(s=!0,r=r[Wt]);let a=vn(r);n===0&&t!==null?i==null?PC(e,t,a):Ml(e,t,a,i||null,!0):n===1&&t!==null?Ml(e,t,a,i||null,!0):n===2?em(e,a,s):n===3&&e.destroyNode(a),o!=null&&n1(e,n,o,t,i)}}function AC(n,e){return n.createText(e)}function $N(n,e,t){n.setValue(e,t)}function xC(n,e){return n.createComment(jN(e))}function Yg(n,e,t){return n.createElement(e,t)}function zN(n,e){MC(n,e),e[Wt]=null,e[_n]=null}function HN(n,e,t,r,i,o){r[Wt]=i,r[_n]=e,Zl(n,r,t,1,i,o)}function MC(n,e){e[Vn].changeDetectionScheduler?.notify(9),Zl(n,e,e[Ue],2,null,null)}function qN(n){let e=n[wa];if(!e)return yp(n[se],n);for(;e;){let t=null;if(yn(e))t=e[wa];else{let r=e[Pt];r&&(t=r)}if(!t){for(;e&&!e[mn]&&e!==n;)yn(e)&&yp(e[se],e),e=e[lt];e===null&&(e=n),yn(e)&&yp(e[se],e),t=e&&e[mn]}e=t}}function GN(n,e,t,r){let i=Pt+r,o=t.length;r>0&&(t[i-1][mn]=e),r<o-Pt?(e[mn]=t[i],oI(t,Pt+r,e)):(t.push(e),e[mn]=null),e[lt]=t;let s=e[Ti];s!==null&&t!==s&&RC(s,e);let a=e[hr];a!==null&&a.insertView(n),Pp(e),e[ne]|=128}function RC(n,e){let t=n[Fo],r=e[lt];if(yn(r))n[ne]|=vl.HasTransplantedViews;else{let i=r[lt][on];e[on]!==i&&(n[ne]|=vl.HasTransplantedViews)}t===null?n[Fo]=[e]:t.push(e)}function Zg(n,e){let t=n[Fo],r=t.indexOf(e);t.splice(r,1)}function xl(n,e){if(n.length<=Pt)return;let t=Pt+e,r=n[t];if(r){let i=r[Ti];i!==null&&i!==n&&Zg(i,r),e>0&&(n[t-1][mn]=r[mn]);let o=pl(n,Pt+e);zN(r[se],r);let s=o[hr];s!==null&&s.detachView(o[se]),r[lt]=null,r[mn]=null,r[ne]&=-129}return r}function Jg(n,e){if(!(e[ne]&256)){let t=e[Ue];t.destroyNode&&Zl(n,e,t,3,null,null),qN(e)}}function yp(n,e){if(e[ne]&256)return;let t=_e(null);try{e[ne]&=-129,e[ne]|=256,e[nn]&&zf(e[nn]),KN(n,e),WN(n,e),e[se].type===1&&e[Ue].destroy();let r=e[Ti];if(r!==null&&jn(e[lt])){r!==e[lt]&&Zg(r,e);let i=e[hr];i!==null&&i.detachView(n)}zp(e)}finally{_e(t)}}function WN(n,e){let t=n.cleanup,r=e[ml];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[ml]=null);let i=e[jr];if(i!==null){e[jr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function KN(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof xi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Nn(4,a,u);try{u.call(a)}finally{Nn(5,a,u)}}else{Nn(4,i,o);try{o.call(i)}finally{Nn(5,i,o)}}}}}function QN(n,e,t){return YN(n,e.parent,t)}function YN(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Wt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===kn.None||o===kn.Emulated)return null}return Qt(r,t)}}function Ml(n,e,t,r,i){n.insertBefore(e,t,r,i)}function PC(n,e,t){n.appendChild(e,t)}function NE(n,e,t,r,i){r!==null?Ml(n,e,t,r,i):PC(n,e,t)}function NC(n,e){return n.parentNode(e)}function ZN(n,e){return n.nextSibling(e)}function JN(n,e,t){return e1(n,e,t)}function XN(n,e,t){return n.type&40?Qt(n,t):null}var e1=XN,OE;function Xg(n,e,t,r){let i=QN(n,r,e),o=e[Ue],s=r.parent||e[_n],a=JN(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)NE(o,i,t[u],a,!1);else NE(o,i,t,a,!1);OE!==void 0&&OE(o,r,e,t,i)}function pa(n,e){if(e!==null){let t=e.type;if(t&3)return Qt(e,n);if(t&4)return Wp(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return pa(n,r);{let i=n[e.index];return jn(i)?Wp(-1,i):vn(i)}}else{if(t&128)return pa(n,e.next);if(t&32)return Qg(e,n)()||vn(n[e.index]);{let r=OC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Si(n[on]);return pa(i,r)}else return pa(n,e.next)}}}return null}function OC(n,e){if(e!==null){let r=n[on][_n],i=e.projection;return r.projection[i]}return null}function Wp(n,e){let t=Pt+n+1;if(t<e.length){let r=e[t],i=r[se].firstChild;if(i!==null)return pa(r,i)}return e[fr]}function em(n,e,t){n.removeChild(null,e,t)}function kC(n){n.textContent=""}function tm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Ri(vn(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)tm(n,e,t.child,r,i,o,!1),Ao(e,n,i,a,o);else if(u&32){let l=Qg(t,r),h;for(;h=l();)Ao(e,n,i,h,o);Ao(e,n,i,a,o)}else u&16?t1(n,e,r,t,i,o):Ao(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Zl(n,e,t,r,i,o){tm(t,r,n.firstChild,e,i,o,!1)}function t1(n,e,t,r,i,o){let s=t[on],u=s[_n].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ao(e,n,i,h,o)}else{let l=u,h=s[lt];Tl(r)&&(l.flags|=128),tm(n,e,l,h,i,o,!0)}}function n1(n,e,t,r,i){let o=t[fr],s=vn(t);o!==s&&Ao(e,n,r,o,i);for(let a=Pt;a<t.length;a++){let u=t[a];Zl(u[se],u,n,e,r,o)}}function r1(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:gr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=gr.Important),n.setStyle(t,r,i,o))}}function i1(n,e,t){n.setAttribute(e,"style",t)}function FC(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function VC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Sp(n,e,r),i!==null&&FC(n,e,i),o!==null&&i1(n,e,o)}var cn={};function B(n=1){LC(wt(),Ie(),ki()+n,!1)}function LC(n,e,t,r){if(!r)if((e[ne]&3)===3){let o=n.preOrderCheckHooks;o!==null&&al(e,o,t)}else{let o=n.preOrderHooks;o!==null&&cl(e,o,0,t)}Ai(t)}function H(n,e=he.Default){let t=Ie();if(t===null)return z(n,e);let r=Et();return eC(r,t,Mt(n),e)}function jC(){let n="invalid";throw new Error(n)}function UC(n,e,t,r,i,o){let s=_e(null);try{let a=null;i&Ur.SignalBased&&(a=e[r][sr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ur.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):bI(e,a,r,o)}finally{_e(s)}}function o1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ai(~i);else{let o=i,s=t[++r],a=t[++r];xP(s,o);let u=e[o];a(2,u)}}}finally{Ai(-1)}}function Jl(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Wt]=i,p[ne]=r|4|128|8|64,(l!==null||n&&n[ne]&2048)&&(p[ne]|=2048),MI(p),p[lt]=p[zo]=n,p[rn]=t,p[Vn]=s||n&&n[Vn],p[Ue]=a||n&&n[Ue],p[ko]=u||n&&n[ko]||null,p[_n]=o,p[zl]=dN(),p[Fn]=h,p[II]=l,p[on]=e.type==2?n[on]:p,p}function Xl(n,e,t,r,i){let o=n.data[e];if(o===null)o=s1(n,e,t,r,i),AP()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=DP();o.injectorIndex=s===null?-1:s.injectorIndex}return Aa(o,!0),o}function s1(n,e,t,r,i){let o=kI(),s=FI(),a=s?o:o&&o.parent,u=n.data[e]=f1(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function BC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function $C(n,e,t,r,i){let o=ki(),s=r&2;try{Ai(-1),s&&e.length>vt&&LC(n,e,vt,!1),Nn(s?2:0,i),t(r,i)}finally{Ai(o),Nn(s?3:1,i)}}function zC(n,e,t){if(DI(e)){let r=_e(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{_e(r)}}}function HC(n,e,t){OI()&&(_1(n,e,t,Qt(t,e)),(t.flags&64)===64&&YC(n,e,t))}function qC(n,e,t=Qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function GC(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=nm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function nm(n,e,t,r,i,o,s,a,u,l,h){let p=vt+r,m=p+i,v=a1(p,m),x=typeof l=="function"?l():l;return v[se]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:x,incompleteFirstPass:!1,ssrId:h}}function a1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:cn);return t}function c1(n,e,t,r){let o=r.get(IC,EC)||t===kn.ShadowDom,s=n.selectRootElement(e,o);return u1(s),s}function u1(n){WC(n)}var WC=()=>null;function l1(n){cC(n)?kC(n):TN(n)}function d1(){WC=l1}function h1(n,e,t,r){let i=XC(e);i.push(t),n.firstCreatePass&&eD(n).push(r,i.length-1)}function f1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Sa()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function kE(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Ur.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?FE(r,t,l,a,u):FE(r,t,l,a)}return r}function FE(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function p1(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=t?t.get(p):null,v=m?m.inputs:null,x=m?m.outputs:null;u=kE(0,p.inputs,h,u,v),l=kE(1,p.outputs,h,l,x);let P=u!==null&&s!==null&&!Tg(e)?M1(u,h,s):null;a.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function g1(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function rm(n,e,t,r,i,o,s,a){let u=Qt(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(im(n,t,h,r,i),Ta(e)&&m1(t,e.index)):e.type&3?(r=g1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function m1(n,e){let t=Hr(e,n);t[ne]&16||(t[ne]|=64)}function KC(n,e,t,r){if(OI()){let i=r===null?null:{"":-1},o=E1(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&QC(n,e,t,s,i,a),i&&I1(t,r,i)}t.mergedAttrs=va(t.mergedAttrs,t.attrs)}function QC(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Fp(Cl(t,e),n,r[l].type);D1(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=BC(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=va(t.mergedAttrs,h.hostAttrs),b1(n,t,e,u,h),C1(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}p1(n,t,o)}function y1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;v1(s)!=a&&s.push(a),s.push(t,r,o)}}function v1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function _1(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Ta(t)&&T1(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Cl(t,e),Ri(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],l=Mi(e,n,a,t);if(Ri(l,e),s!==null&&x1(e,a-i,l,u,t,s),$r(u)){let h=Hr(t.index,e);h[rn]=Mi(e,n,a,t)}}}function YC(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=MP();try{Ai(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Np(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&w1(u,l)}}finally{Ai(-1),Np(s)}}function w1(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function E1(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if($R(e,s.selectors,!1))if(r||(r=[]),$r(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Kp(n,e,u)}else r.unshift(s),Kp(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Kp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function I1(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new Z(-301,!1);r.push(e[i],o)}}}function C1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;$r(e)&&(t[""]=n)}}function D1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function b1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Po(i.type,!0)),s=new xi(o,$r(i),H);n.blueprint[r]=s,t[r]=s,y1(n,e,r,BC(n,t,i.hostVars,cn),i)}function T1(n,e,t){let r=Qt(e,n),i=GC(t),o=n[Vn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=ed(n,Jl(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function S1(n,e,t,r,i,o){let s=Qt(n,e);A1(e[Ue],s,o,n.value,t,r,i)}function A1(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Ci(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function x1(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];UC(r,t,u,l,h,p)}}function M1(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function ZC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function JC(n,e){let t=n.contentQueries;if(t!==null){let r=_e(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Ng(o),a.contentQueries(2,e[s],s)}}}finally{_e(r)}}}function ed(n,e){return n[wa]?n[wE][mn]=e:n[wa]=e,n[wE]=e,e}function Qp(n,e,t){Ng(0);let r=_e(null);try{e(n,t)}finally{_e(r)}}function XC(n){return n[ml]??=[]}function eD(n){return n.cleanup??=[]}function tD(n,e){let t=n[ko],r=t?t.get(pr,null):null;r&&r.handleError(e)}function im(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],l=e[s],h=n.data[s];UC(h,l,r,a,u,i)}}function nD(n,e,t){let r=xI(e,n);$N(n[Ue],r,t)}function R1(n,e){let t=Hr(e,n),r=t[se];P1(r,t);let i=t[Wt];i!==null&&t[Fn]===null&&(t[Fn]=Gg(i,t[ko])),om(r,t,t[rn])}function P1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function om(n,e,t){Og(e);try{let r=n.viewQuery;r!==null&&Qp(1,r,t);let i=n.template;i!==null&&$C(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[hr]?.finishViewCreation(n),n.staticContentQueries&&JC(n,e),n.staticViewQueries&&Qp(2,n.viewQuery,t);let o=n.components;o!==null&&N1(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ne]&=-5,kg()}}function N1(n,e){for(let t=0;t<e.length;t++)R1(n,e[t])}function rD(n,e,t,r){let i=_e(null);try{let o=e.tView,a=n[ne]&4096?4096:16,u=Jl(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Ti]=l;let h=n[hr];return h!==null&&(u[hr]=h.createEmbeddedView(o)),om(o,u,t),u}finally{_e(i)}}function O1(n,e){let t=Pt+e;if(t<n.length)return n[t]}function Yp(n,e){return!e||e.firstChild===null||Tl(n)}function iD(n,e,t,r=!0){let i=e[se];if(GN(i,e,n,t),r){let s=Wp(t,n),a=e[Ue],u=NC(a,n[fr]);u!==null&&HN(i,n[_n],a,e,u,s)}let o=e[Fn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function k1(n,e){let t=xl(n,e);return t!==void 0&&Jg(t[se],t),t}function Rl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(vn(o)),jn(o)&&F1(o,r);let s=t.type;if(s&8)Rl(n,e,t.child,r);else if(s&32){let a=Qg(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=OC(e,t);if(Array.isArray(a))r.push(...a);else{let u=Si(e[on]);Rl(u[se],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function F1(n,e){for(let t=Pt;t<n.length;t++){let r=n[t],i=r[se].firstChild;i!==null&&Rl(r[se],r,i,e)}n[fr]!==n[Wt]&&e.push(n[fr])}var oD=[];function V1(n){return n[nn]??L1(n)}function L1(n){let e=oD.pop()??Object.create(U1);return e.lView=n,e}function j1(n){n.lView[nn]!==n&&(n.lView=null,oD.push(n))}var U1=ye(U({},ca),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ql(n.lView)},consumerOnSignalRead(){this.lView[nn]=this}});function B1(n){let e=n[nn]??Object.create($1);return e.lView=n,e}var $1=ye(U({},ca),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Si(n.lView);for(;e&&!sD(e[se]);)e=Si(e);e&&RI(e)},consumerOnSignalRead(){this.lView[nn]=this}});function sD(n){return n.type!==2}var z1=100;function aD(n,e=!0,t=0){let r=n[Vn],i=r.rendererFactory,o=!1;o||i.begin?.();try{H1(n,t)}catch(s){throw e&&tD(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function H1(n,e){let t=VI();try{IE(!0),Zp(n,e);let r=0;for(;Hl(n);){if(r===z1)throw new Z(103,!1);r++,Zp(n,1)}}finally{IE(t)}}function q1(n,e,t,r){let i=e[ne];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Vn].inlineEffectRunner?.flush(),Og(e);let a=!0,u=null,l=null;o||(sD(n)?(l=V1(e),u=_u(l)):x0()===null?(a=!1,l=B1(e),u=_u(l)):e[nn]&&(zf(e[nn]),e[nn]=null));try{MI(e),SP(n.bindingStartIndex),t!==null&&$C(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let v=n.preOrderCheckHooks;v!==null&&al(e,v,null)}else{let v=n.preOrderHooks;v!==null&&cl(e,v,0,null),hp(e,0)}if(s||G1(e),cD(e,0),n.contentQueries!==null&&JC(n,e),!o)if(h){let v=n.contentCheckHooks;v!==null&&al(e,v)}else{let v=n.contentHooks;v!==null&&cl(e,v,1),hp(e,1)}o1(n,e);let p=n.components;p!==null&&lD(e,p,0);let m=n.viewQuery;if(m!==null&&Qp(2,m,r),!o)if(h){let v=n.viewCheckHooks;v!==null&&al(e,v)}else{let v=n.viewHooks;v!==null&&cl(e,v,2),hp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[dp]){for(let v of e[dp])v();e[dp]=null}o||(e[ne]&=-73)}catch(h){throw o||ql(e),h}finally{l!==null&&(Bf(l,u),a&&j1(l)),kg()}}function cD(n,e){for(let t=lC(n);t!==null;t=dC(t))for(let r=Pt;r<t.length;r++){let i=t[r];uD(i,e)}}function G1(n){for(let e=lC(n);e!==null;e=dC(e)){if(!(e[ne]&vl.HasTransplantedViews))continue;let t=e[Fo];for(let r=0;r<t.length;r++){let i=t[r];RI(i)}}}function W1(n,e,t){let r=Hr(e,n);uD(r,t)}function uD(n,e){Rg(n)&&Zp(n,e)}function Zp(n,e){let r=n[se],i=n[ne],o=n[nn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&$f(o)),s||=!1,o&&(o.dirty=!1),n[ne]&=-9217,s)q1(r,n,r.template,n[rn]);else if(i&8192){cD(n,1);let a=r.components;a!==null&&lD(n,a,1)}}function lD(n,e,t){for(let r=0;r<e.length;r++)W1(n,e[r],t)}function sm(n,e){let t=VI()?64:1088;for(n[Vn].changeDetectionScheduler?.notify(e);n;){n[ne]|=t;let r=Si(n);if(_l(n)&&!r)return n;n=r}return null}var Pi=class{get rootNodes(){let e=this._lView,t=e[se];return Rl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rn]}set context(e){this._lView[rn]=e}get destroyed(){return(this._lView[ne]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lt];if(jn(e)){let t=e[yl],r=t?t.indexOf(this):-1;r>-1&&(xl(e,r),pl(t,r))}this._attachedToViewContainer=!1}Jg(this._lView[se],this._lView)}onDestroy(e){PI(this._lView,e)}markForCheck(){sm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){Pp(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,aD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=_l(this._lView),t=this._lView[Ti];t!==null&&!e&&Zg(t,this._lView),MC(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=e;let t=_l(this._lView),r=this._lView[Ti];r!==null&&!t&&RC(r,this._lView),Pp(this._lView)}},Ni=(()=>{class n{static{this.__NG_ELEMENT_ID__=Y1}}return n})(),K1=Ni,Q1=class extends K1{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=rD(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Pi(i)}};function Y1(){return am(Et(),Ie())}function am(n,e){return n.type&4?new Q1(e,n,Ho(n,e)):null}var Z1=new RegExp(`^(\\d+)*(${gC}|${pC})*(.*)`);function J1(n){let e=n.match(Z1),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[u,l,h]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(l,p)}return[s,...a]}function X1(n){return!n.prev&&n.parent?.type===8}function vp(n){return n.index-vt}function eO(n,e){let t=n.i18nNodes;if(t)return t.get(e)}function td(n,e,t,r){let i=vp(r),o=eO(n,i);if(o===void 0){let s=n.data[_N];if(s?.[i])o=nO(s[i],t);else if(e.firstChild===r)o=n.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(X1(r)){let l=vp(r.parent);o=Gp(n,l)}else{let l=Qt(u,t);if(a)o=l.firstChild;else{let h=vp(u),p=Gp(n,h);if(u.type===2&&p){let v=Wg(n,h)+1;o=nd(v,p)}else o=l.nextSibling}}}}return o}function nd(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function tO(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case qp.FirstChild:t=t.firstChild;break;case qp.NextSibling:t=t.nextSibling;break}}return t}function nO(n,e){let[t,...r]=J1(n),i;if(t===pC)i=e[on][Wt];else if(t===gC)i=UN(e[on][Wt]);else{let o=Number(t);i=vn(e[o+vt])}return tO(i,r)}var rO=!1;function iO(n){rO=n}function oO(n){let e=n[Fn];if(e){let{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){let i=n[Ue];for(let o of r.values())sO(i,t,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function sO(n,e,t){for(let r of t.node.cases[t.case]){let i=e.get(r.index-vt);i&&em(n,i,!1)}}function dD(n){let e=n[Ea]??[],r=n[lt][Ue];for(let i of e)aO(i,r);n[Ea]=Gt}function aO(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[Sl];for(;t<i;){let o=r.nextSibling;em(e,r,!1),r=o,t++}}}function hD(n){dD(n);let e=n[Wt];yn(e)&&Pl(e);for(let t=Pt;t<n.length;t++)Pl(n[t])}function Pl(n){oO(n);let e=n[se];for(let t=vt;t<e.bindingStartIndex;t++)if(jn(n[t])){let r=n[t];hD(r)}else yn(n[t])&&Pl(n[t])}function cO(n){let e=n._views;for(let t of e){let r=DN(t);r!==null&&r[Wt]!==null&&(yn(r)?Pl(r):hD(r))}}function uO(n,e){let t=[];for(let r of e)for(let i=0;i<(r[mC]??1);i++){let o={data:r,firstChild:null};r[Sl]>0&&(o.firstChild=n,n=nd(r[Sl],n)),t.push(o)}return[n,t]}var fD=()=>null;function lO(n,e){let t=n[Ea];return!e||t===null||t.length===0?null:t[0].data[vN]===e?t.shift():(dD(n),null)}function dO(){fD=lO}function Jp(n,e){return fD(n,e)}var Vo=class{},rd=new $("",{providedIn:"root",factory:()=>!1});var pD=new $(""),gD=new $(""),Xp=class{},Nl=class{};function hO(n){let e=Error(`No component factory found for ${Rt(n)}.`);return e[fO]=n,e}var fO="ngComponent";var eg=class{resolveComponentFactory(e){throw hO(e)}},Lo=class{static{this.NULL=new eg}},jo=class{},En=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>pO()}}return n})();function pO(){let n=Ie(),e=Et(),t=Hr(e.index,n);return(yn(t)?t:n)[Ue]}var gO=(()=>{class n{static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>null})}}return n})();function tg(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=lE(i,a);else if(o==2){let u=a,l=e[++s];r=lE(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Ol=class extends Lo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Br(e);return new Uo(t,this.ngModule)}};function VE(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Ur.None;e?t.push({propName:s,templateName:r,isSignal:(a&Ur.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function mO(n){let e=n.toLowerCase();return e==="svg"?hP:e==="math"?fP:null}var Uo=class extends Nl{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=VE(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return VE(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=GR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=_e(null);try{i=i||this.ngModule;let s=i instanceof Nt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Op(e,s):e,u=a.get(jo,null);if(u===null)throw new Z(407,!1);let l=a.get(gO,null),h=a.get(Vo,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",x=r?c1(m,r,this.componentDef.encapsulation,a):Yg(m,v,mO(v)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let M=null;x!==null&&(M=Gg(x,a,!0));let F=nm(0,null,null,1,0,null,null,null,null,null,null),G=Jl(null,F,null,P,null,null,p,m,a,null,M);Og(G);let V,J,me=null;try{let re=this.componentDef,E,y=null;re.findHostDirectiveDefs?(E=[],y=new Map,re.findHostDirectiveDefs(re,E,y),E.push(re)):E=[re];let w=yO(G,x);me=vO(w,x,re,E,G,p,m),J=Mg(F,vt),x&&EO(m,re,x,r),t!==void 0&&IO(J,this.ngContentSelectors,t),V=wO(me,re,E,y,G,[CO]),om(F,G,null)}catch(re){throw me!==null&&zp(me),zp(G),re}finally{kg()}return new ng(this.componentType,V,Ho(J,G),G,J)}finally{_e(o)}}},ng=class extends Xp{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Pi(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;im(o[se],o,i,e,t),this.previousInputValues.set(e,t);let s=Hr(this._tNode.index,o);sm(s,1)}}get injector(){return new Di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function yO(n,e){let t=n[se],r=vt;return n[r]=e,Xl(t,r,2,"#host",null)}function vO(n,e,t,r,i,o,s){let a=i[se];_O(r,n,e,s);let u=null;e!==null&&(u=Gg(e,i[ko]));let l=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=Jl(i,GC(t),null,h,i[n.index],n,o,l,null,null,u);return a.firstCreatePass&&Kp(a,n,r.length-1),ed(i,p),i[n.index]=p}function _O(n,e,t,r){for(let i of n)e.mergedAttrs=va(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(tg(e,e.mergedAttrs,!0),t!==null&&VC(r,t,e))}function wO(n,e,t,r,i,o){let s=Et(),a=i[se],u=Qt(s,i);QC(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,m=Mi(i,a,p,s);Ri(m,i)}YC(a,i,s),u&&Ri(u,i);let l=Mi(i,a,s.directiveStart+s.componentOffset,s);if(n[rn]=i[rn]=l,o!==null)for(let h of o)h(l,e);return zC(a,s,i),l}function EO(n,e,t,r){if(r)Sp(n,t,["ng-version","18.2.8"]);else{let{attrs:i,classes:o}=WR(e.selectors[0]);i&&Sp(n,t,i),o&&o.length>0&&FC(n,t,o.join(" "))}}function IO(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function CO(){let n=Et();Vg(Ie()[se],n)}var Wr=(()=>{class n{static{this.__NG_ELEMENT_ID__=DO}}return n})();function DO(){let n=Et();return yD(n,Ie())}var bO=Wr,mD=class extends bO{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ho(this._hostTNode,this._hostLView)}get injector(){return new Di(this._hostTNode,this._hostLView)}get parentInjector(){let e=Lg(this._hostTNode,this._hostLView);if(KI(e)){let t=Il(e,this._hostLView),r=El(e),i=t[se].data[r+8];return new Di(i,t)}else return new Di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=LE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Pt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Jp(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Yp(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!cP(e),a;if(s)a=t;else{let x=t||{};a=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}let u=s?e:new Uo(Br(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get(Nt,null);P&&(o=P)}let h=Br(u.componentType??{}),p=Jp(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,o);return this.insertImpl(v.hostView,a,Yp(this._hostTNode,p)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(gP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[lt],l=new mD(u,u[_n],u[lt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return iD(s,i,o,r),e.attachToViewContainerRef(),oI(_p(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=LE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=xl(this._lContainer,t);r&&(pl(_p(this._lContainer),t),Jg(r[se],r))}detach(e){let t=this._adjustIndex(e,-1),r=xl(this._lContainer,t);return r&&pl(_p(this._lContainer),t)!=null?new Pi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function LE(n){return n[yl]}function _p(n){return n[yl]||(n[yl]=[])}function yD(n,e){let t,r=e[n.index];return jn(r)?t=r:(t=ZC(r,e,null,n),e[n.index]=t,ed(e,t)),vD(t,e,n,r),new mD(t,n,e)}function TO(n,e){let t=n[Ue],r=t.createComment(""),i=Qt(e,n),o=NC(t,i);return Ml(t,o,r,ZN(t,i),!1),r}var vD=_D,cm=()=>!1;function SO(n,e,t){return cm(n,e,t)}function _D(n,e,t,r){if(n[fr])return;let i;t.type&8?i=vn(r):i=TO(e,t),n[fr]=i}function AO(n,e,t){if(n[fr]&&n[Ea])return!0;let r=t[Fn],i=e.index-vt;if(!r||uN(e)||Ma(r,i))return!1;let s=Gp(r,i),a=r.data[qg]?.[i],[u,l]=uO(s,a);return n[fr]=u,n[Ea]=l,!0}function xO(n,e,t,r){cm(n,t,e)||_D(n,e,t,r)}function MO(){vD=xO,cm=AO}var rg=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},ig=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)um(e,t).matches!==null&&this.queries[t].setDirty()}},og=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=LO(e):this.predicate=e}},sg=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ag=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,RO(t,o)),this.matchTNodeWithReadOption(e,t,ul(t,e,o,!1,!1))}else r===Ni?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ul(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ft||i===Wr||i===Ni&&t.type&4)this.addMatch(t.index,-2);else{let o=ul(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function RO(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function PO(n,e){return n.type&11?Ho(n,e):n.type&4?am(n,e):null}function NO(n,e,t,r){return t===-1?PO(e,n):t===-2?OO(n,e,r):Mi(n,n[se],t,e)}function OO(n,e,t){if(t===Ft)return Ho(e,n);if(t===Ni)return am(e,n);if(t===Wr)return yD(e,n)}function wD(n,e,t,r){let i=e[hr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(NO(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function cg(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=wD(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Pt;p<h.length;p++){let m=h[p];m[Ti]===m[lt]&&cg(m[se],m,l,r)}if(h[Fo]!==null){let p=h[Fo];for(let m=0;m<p.length;m++){let v=p[m];cg(v[se],v,l,r)}}}}}return r}function kO(n,e){return n[hr].queries[e].queryList}function FO(n,e,t){let r=new $p((t&4)===4);return h1(n,e,r,r.destroy),(e[hr]??=new ig).queries.push(new rg(r))-1}function VO(n,e,t,r){let i=wt();if(i.firstCreatePass){let o=Et();jO(i,new og(e,t,r),o.index),UO(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return FO(i,Ie(),t)}function LO(n){return n.split(",").map(e=>e.trim())}function jO(n,e,t){n.queries===null&&(n.queries=new sg),n.queries.track(new ag(e,t))}function UO(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function um(n,e){return n.queries.getByIndex(e)}function BO(n,e){let t=n[se],r=um(t,e);return r.crossesNgTemplate?cg(t,n,e,[]):wD(t,n,r,e)}var jE=new Set;function Bn(n){jE.has(n)||(jE.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function $O(n){return typeof n=="function"&&n[sr]!==void 0}function Fi(n,e){Bn("NgSignals");let t=U0(n),r=t[sr];return e?.equal&&(r.equal=e.equal),t.set=i=>Hf(r,i),t.update=i=>B0(r,i),t.asReadonly=zO.bind(t),t}function zO(){let n=this[sr];if(n.readonlyFn===void 0){let e=()=>this();e[sr]=n,n.readonlyFn=e}return n.readonlyFn}function ED(n){return $O(n)&&typeof n.set=="function"}function HO(n){return Object.getPrototypeOf(n.prototype).constructor}function Lt(n){let e=HO(n.type),t=!0,r=[n];for(;e;){let i;if($r(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Z(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=nl(n.inputs),s.inputTransforms=nl(n.inputTransforms),s.declaredInputs=nl(n.declaredInputs),s.outputs=nl(n.outputs);let a=i.hostBindings;a&&QO(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&WO(n,u),l&&KO(n,l),qO(n,i),hR(n.outputs,i.outputs),$r(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Lt&&(t=!1)}}e=Object.getPrototypeOf(e)}GO(r)}function qO(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function GO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=va(i.hostAttrs,t=va(t,i.hostAttrs))}}function nl(n){return n===No?{}:n===Gt?[]:n}function WO(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function KO(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function QO(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function lm(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var zr=class{},Ia=class{};var ug=class extends zr{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ol(this);let o=pI(e);this._bootstrapComponents=SC(o.bootstrap),this._r3Injector=rC(e,t,[{provide:zr,useValue:this},{provide:Lo,useValue:this.componentFactoryResolver},...r],Rt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},lg=class extends Ia{constructor(e){super(),this.moduleType=e}create(e){return new ug(this.moduleType,e,[])}};var kl=class extends zr{constructor(e){super(),this.componentFactoryResolver=new Ol(this),this.instance=null;let t=new _a([...e.providers,{provide:zr,useValue:this},{provide:Lo,useValue:this.componentFactoryResolver}],e.parent||Ag(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function id(n,e,t=null){return new kl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function ID(n){return ZO(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function YO(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function ZO(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function dm(n,e,t){return n[e]=t}function JO(n,e){return n[e]}function Ln(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function CD(n,e,t,r){let i=Ln(n,e,t);return Ln(n,e+1,r)||i}function XO(n,e,t,r,i){let o=CD(n,e,t,r);return Ln(n,e+2,i)||o}function Pa(n){return(n.flags&32)===32}function ek(n,e,t,r,i,o,s,a,u){let l=e.consts,h=Xl(e,n,4,s||null,a||null);KC(e,t,h,wl(l,u)),Vg(e,h);let p=h.tView=nm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function tk(n,e,t,r,i,o,s,a,u,l){let h=t+vt,p=e.firstCreatePass?ek(h,e,n,r,i,o,s,a,u):e.data[h];Aa(p,!1);let m=DD(e,n,p,t);Fg()&&Xg(e,n,m,p),Ri(m,n);let v=ZC(m,n,m,p);return n[h]=v,ed(n,v),SO(v,p,n),xg(p)&&HC(e,n,p),u!=null&&qC(n,p,l),p}function Ve(n,e,t,r,i,o,s,a){let u=Ie(),l=wt(),h=wl(l.consts,o);return tk(u,l,n,e,t,r,i,h,s,a),Ve}var DD=bD;function bD(n,e,t,r){return qr(!0),e[Ue].createComment("")}function nk(n,e,t,r){let i=e[Fn],o=!i||Sa()||Pa(t)||Ma(i,r);if(qr(o),o)return bD(n,e,t,r);let s=i.data[yN]?.[r]??null;s!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=s);let a=td(i,n,e,t);Ql(i,r,a);let u=Wg(i,r);return nd(u,a)}function rk(){DD=nk}var xo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(xo||{}),TD=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}}return n})(),dg=class n{constructor(){this.ngZone=N(we),this.scheduler=N(Vo),this.errorHandler=N(pr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[xo.EarlyRead,xo.Write,xo.MixedReadWrite,xo.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}},hg=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function hm(n,e){!e?.injector&&aP(hm);let t=e?.injector??N(dt);return fa(t)?(Bn("NgAfterNextRender"),ok(n,t,e,!0)):sk}function ik(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function ok(n,e,t,r){let i=e.get(TD);i.impl??=e.get(dg);let o=t?.phase??xo.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(Ug):null,a=new hg(i.impl,ik(n,o),r,s);return i.impl.register(a),a}var sk={destroy(){}};function Go(n,e,t,r){let i=Ie(),o=xa();if(Ln(i,o,e)){let s=wt(),a=Gl();S1(a,i,n,e,t,r)}return Go}function SD(n,e,t,r){return Ln(n,xa(),t)?e+Ci(t)+r:cn}function ak(n,e,t,r,i,o,s,a){let u=TP(),l=XO(n,u,t,i,s);return LI(3),l?e+Ci(t)+r+Ci(i)+o+Ci(s)+a:cn}function rl(n,e){return n<<17|e<<2}function Oi(n){return n>>17&32767}function ck(n){return(n&2)==2}function uk(n,e){return n&131071|e<<17}function fg(n){return n|2}function Bo(n){return(n&131068)>>2}function wp(n,e){return n&-131069|e<<2}function lk(n){return(n&1)===1}function pg(n){return n|1}function dk(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Oi(s),u=Bo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||ba(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Oi(n[a+1]);n[r+1]=rl(m,a),m!==0&&(n[m+1]=wp(n[m+1],r)),n[a+1]=uk(n[a+1],r)}else n[r+1]=rl(a,0),a!==0&&(n[a+1]=wp(n[a+1],r)),a=r;else n[r+1]=rl(u,0),a===0?a=r:n[u+1]=wp(n[u+1],r),u=r;l&&(n[r+1]=fg(n[r+1])),UE(n,h,r,!0),UE(n,h,r,!1),hk(e,h,n,r,o),s=rl(a,u),o?e.classBindings=s:e.styleBindings=s}function hk(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ba(o,e)>=0&&(t[r+1]=pg(t[r+1]))}function UE(n,e,t,r){let i=n[t+1],o=e===null,s=r?Oi(i):Bo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];fk(u,e)&&(a=!0,n[s+1]=r?pg(l):fg(l)),s=r?Oi(l):Bo(l)}a&&(n[t+1]=r?fg(i):pg(i))}function fk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ba(n,e)>=0:!1}function ge(n,e,t){let r=Ie(),i=xa();if(Ln(r,i,e)){let o=wt(),s=Gl();rm(o,s,r,n,e,r[Ue],t,!1)}return ge}function BE(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";im(n,t,o[s],s,r)}function od(n,e){return pk(n,e,null,!0),od}function pk(n,e,t,r){let i=Ie(),o=wt(),s=LI(2);if(o.firstUpdatePass&&mk(o,n,s,r),e!==cn&&Ln(i,s,e)){let a=o.data[ki()];Ek(o,a,i,i[Ue],n,i[s+1]=Ik(e,t),r,s)}}function gk(n,e){return e>=n.expandoStartIndex}function mk(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ki()],s=gk(n,t);Ck(o,r)&&e===null&&!s&&(e=!1),e=yk(i,o,e,r),dk(i,o,e,t,s,r)}}function yk(n,e,t,r){let i=RP(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Ep(null,n,e,t,r),t=Ca(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Ep(i,n,e,t,r),o===null){let u=vk(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Ep(null,n,e,u[1],r),u=Ca(u,e.attrs,r),_k(n,e,r,u))}else o=wk(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function vk(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Bo(r)!==0)return n[Oi(r)]}function _k(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Oi(i)]=r}function wk(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ca(r,s,t)}return Ca(r,e.attrs,t)}function Ep(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ca(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ca(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),OR(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Ek(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=lk(l)?$E(u,e,t,i,Bo(l),s):void 0;if(!Fl(h)){Fl(o)||ck(l)&&(o=$E(u,null,t,i,a,s));let p=xI(ki(),t);r1(r,s,p,i,o)}}function $E(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===cn&&(m=p?Gt:void 0);let v=p?up(m,r):h===r?m:void 0;if(l&&!Fl(v)&&(v=up(u,r)),Fl(v)&&(a=v,s))return a;let x=n[i+1];i=s?Oi(x):Bo(x)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=up(u,r))}return a}function Fl(n){return n!==void 0}function Ik(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Rt(Ra(n)))),n}function Ck(n,e){return(n.flags&(e?8:16))!==0}function Vi(n,e){Bn("NgControlFlow");let t=Ie(),r=xa(),i=t[r]!==cn?t[r]:-1,o=i!==-1?zE(t,vt+i):void 0,s=0;if(Ln(t,r,n)){let a=_e(null);try{if(o!==void 0&&k1(o,s),n!==-1){let u=vt+n,l=zE(t,u),h=Dk(t[se],u),p=Jp(l,h.tView.ssrId),m=rD(t,h,e,{dehydratedView:p});iD(l,m,s,Yp(h,p))}}finally{_e(a)}}else if(o!==void 0){let a=O1(o,s);a!==void 0&&(a[rn]=e)}}function zE(n,e){return n[e]}function Dk(n,e){return Mg(n,e)}function bk(n,e,t,r,i,o){let s=e.consts,a=wl(s,i),u=Xl(e,n,2,r,a);return KC(e,t,u,wl(s,o)),u.attrs!==null&&tg(u,u.attrs,!1),u.mergedAttrs!==null&&tg(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function b(n,e,t,r){let i=Ie(),o=wt(),s=vt+n,a=i[Ue],u=o.firstCreatePass?bk(s,o,i,e,t,r):o.data[s],l=AD(o,i,u,a,e,n);i[s]=l;let h=xg(u);return Aa(u,!0),VC(a,l,u),!Pa(u)&&Fg()&&Xg(o,i,l,u),vP()===0&&Ri(l,i),_P(),h&&(HC(o,i,u),zC(o,u,i)),r!==null&&qC(i,u),b}function T(){let n=Et();FI()?bP():(n=n.parent,Aa(n,!1));let e=n;EP(e)&&CP(),wP();let t=wt();return t.firstCreatePass&&(Vg(t,n),DI(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&VP(e)&&BE(t,e,Ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&LP(e)&&BE(t,e,Ie(),e.stylesWithoutHost,!1),T}function W(n,e,t,r){return b(n,e,t,r),T(),W}var AD=(n,e,t,r,i,o)=>(qr(!0),Yg(r,i,qI()));function Tk(n,e,t,r,i,o){let s=e[Fn],a=!s||Sa()||Pa(t)||Ma(s,o);if(qr(a),a)return Yg(r,i,qI());let u=td(s,n,e,t);return wC(s,o)&&Ql(s,o,u.nextSibling),s&&(aC(t)||cC(u))&&Ta(t)&&(IP(t),kC(u)),u}function Sk(){AD=Tk}var Ak=(n,e,t,r)=>(qr(!0),xC(e[Ue],""));function xk(n,e,t,r){let i,o=e[Fn],s=!o||Sa()||Ma(o,r)||Pa(t);if(qr(s),s)return xC(e[Ue],"");let a=td(o,n,e,t),u=SN(o,r);return Ql(o,r,a),i=nd(u,a),i}function Mk(){Ak=xk}function In(){return Ie()}var Vl="en-US";var Rk=Vl;function Pk(n){typeof n=="string"&&(Rk=n.toLowerCase().replace(/_/g,"-"))}var Nk=(n,e,t)=>{};function Ce(n,e,t,r){let i=Ie(),o=wt(),s=Et();return xD(o,i,i[Ue],s,n,e,r),Ce}function Ok(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ml],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function xD(n,e,t,r,i,o,s){let a=xg(r),l=n.firstCreatePass&&eD(n),h=e[rn],p=XC(e),m=!0;if(r.type&3||s){let P=Qt(r,e),M=s?s(P):P,F=p.length,G=s?J=>s(vn(J[r.index])):r.index,V=null;if(!s&&a&&(V=Ok(n,e,i,r.index)),V!==null){let J=V.__ngLastListenerFn__||V;J.__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,m=!1}else{o=qE(r,e,h,o),Nk(P,i,o);let J=t.listen(M,i,o);p.push(o,J),l&&l.push(i,G,F,F+1)}}else o=qE(r,e,h,o);let v=r.outputs,x;if(m&&v!==null&&(x=v[i])){let P=x.length;if(P)for(let M=0;M<P;M+=2){let F=x[M],G=x[M+1],me=e[F][G].subscribe(o),re=p.length;p.push(o,me),l&&l.push(i,r.index,re,-(re+1))}}}function HE(n,e,t,r){let i=_e(null);try{return Nn(6,e,t),t(r)!==!1}catch(o){return tD(n,o),!1}finally{Nn(7,e,t),_e(i)}}function qE(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Hr(n.index,e):e;sm(s,5);let a=HE(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=HE(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function ze(n=1){return NP(n)}function Li(n,e,t){return MD(n,"",e,"",t),Li}function MD(n,e,t,r,i){let o=Ie(),s=SD(o,e,t,r);if(s!==cn){let a=wt(),u=Gl();rm(a,u,o,n,s,o[Ue],i,!1)}return MD}function RD(n,e,t,r){VO(n,e,t,r)}function PD(n){let e=Ie(),t=wt(),r=jI();Ng(r+1);let i=um(t,r);if(n.dirty&&pP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=BO(e,r);n.reset(o,oN),n.notifyOnChanges()}return!0}return!1}function ND(){return kO(Ie(),jI())}function A(n,e=""){let t=Ie(),r=wt(),i=n+vt,o=r.firstCreatePass?Xl(r,i,1,e,null):r.data[i],s=OD(r,t,o,e,n);t[i]=s,Fg()&&Xg(r,t,s,o),Aa(o,!1)}var OD=(n,e,t,r,i)=>(qr(!0),AC(e[Ue],r));function kk(n,e,t,r,i){let o=e[Fn],s=!o||Sa()||Pa(t)||Ma(o,i);return qr(s),s?AC(e[Ue],r):td(o,n,e,t)}function Fk(){OD=kk}function st(n){return Ee("",n,""),st}function Ee(n,e,t){let r=Ie(),i=SD(r,n,e,t);return i!==cn&&nD(r,ki(),i),Ee}function fm(n,e,t,r,i,o,s){let a=Ie(),u=ak(a,n,e,t,r,i,o,s);return u!==cn&&nD(a,ki(),u),fm}function Wo(n,e,t){ED(e)&&(e=e());let r=Ie(),i=xa();if(Ln(r,i,e)){let o=wt(),s=Gl();rm(o,s,r,n,e,r[Ue],t,!1)}return Wo}function Na(n,e){let t=ED(n);return t&&n.set(e),t}function Ko(n,e){let t=Ie(),r=wt(),i=Et();return xD(r,t,t[Ue],i,n,e),Ko}function Vk(n,e,t){let r=wt();if(r.firstCreatePass){let i=$r(n);gg(t,r.data,r.blueprint,i,!0),gg(e,r.data,r.blueprint,i,!1)}}function gg(n,e,t,r,i){if(n=Mt(n),Array.isArray(n))for(let o=0;o<n.length;o++)gg(n[o],e,t,r,i);else{let o=wt(),s=Ie(),a=Et(),u=Oo(n)?n:Mt(n.provide),l=wI(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Oo(n)||!n.multi){let v=new xi(l,i,H),x=Cp(u,e,i?h:h+m,p);x===-1?(Fp(Cl(a,s),o,u),Ip(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[x]=v,s[x]=v)}else{let v=Cp(u,e,h+m,p),x=Cp(u,e,h,h+m),P=v>=0&&t[v],M=x>=0&&t[x];if(i&&!M||!i&&!P){Fp(Cl(a,s),o,u);let F=Uk(i?jk:Lk,t.length,i,r,l);!i&&M&&(t[x].providerFactory=F),Ip(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=kD(t[i?x:v],l,!i&&r);Ip(o,n,v>-1?v:x,F)}!i&&r&&M&&t[x].componentProviders++}}}function Ip(n,e,t,r){let i=Oo(e),o=eP(e);if(i||o){let u=(o?Mt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function kD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Cp(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Lk(n,e,t,r){return mg(this.multi,[])}function jk(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Mi(t,t[se],this.providerFactory.index,r);o=a.slice(0,s),mg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],mg(i,o);return o}function mg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Uk(n,e,t,r,i){let o=new xi(n,t,H);return o.multi=[],o.index=e,o.componentProviders=0,kD(o,i,r&&!t),o}function $n(n,e=[]){return t=>{t.providersResolver=(r,i)=>Vk(r,i?i(n):n,e)}}var Bk=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=yI(!1,t.type),i=r.length>0?id([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(z(Nt))})}}return n})();function Ae(n){Bn("NgStandalone"),n.getStandaloneInjector=e=>e.get(Bk).getOrCreateStandaloneInjector(n)}function sd(n,e,t){let r=Pg()+n,i=Ie();return i[r]===cn?dm(i,r,t?e.call(t):e()):JO(i,r)}function FD(n,e,t,r){return $k(Ie(),Pg(),n,e,t,r)}function ad(n,e,t,r,i){return zk(Ie(),Pg(),n,e,t,r,i)}function VD(n,e){let t=n[e];return t===cn?void 0:t}function $k(n,e,t,r,i,o){let s=e+t;return Ln(n,s,i)?dm(n,s+1,o?r.call(o,i):r(i)):VD(n,s+1)}function zk(n,e,t,r,i,o,s){let a=e+t;return CD(n,a,i,o)?dm(n,a+2,s?r.call(s,i,o):r(i,o)):VD(n,a+2)}var mr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Oa=new mr("18.2.8");var cd=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var LD=new $("");function ji(n){return!!n&&typeof n.then=="function"}function jD(n){return!!n&&typeof n.subscribe=="function"}var ud=new $(""),UD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=N(ud,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(ji(o))t.push(o);else if(jD(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ui=new $("");function Hk(){j0(()=>{throw new Z(600,!1)})}function qk(n){return n.isBoundToModule}var Gk=10;function Wk(n,e,t){try{let r=t();return ji(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var zn=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(rN),this.afterRenderManager=N(TD),this.zonelessEnabled=N(rd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Be,this.afterTick=new Be,this.componentTypes=[],this.components=[],this.isStable=N(Gr).hasPendingTasks.pipe(ee(t=>!t)),this._injector=N(Nt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Nl;if(!this._injector.get(UD).done){let m=!i&&fI(t),v=!1;throw new Z(405,v)}let s;i?s=t:s=this._injector.get(Lo).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=qk(s)?void 0:this._injector.get(zr),u=r||s.selector,l=s.create(dt.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(LD,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),ll(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Z(101,!1);let t=_e(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,_e(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(jo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Gk;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)Kk(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Hl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ll(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Ui,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ll(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Z(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ll(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var il;function ld(n){il??=new WeakMap;let e=il.get(n);if(e)return e;let t=n.isStable.pipe(qt(r=>r)).toPromise().then(()=>{});return il.set(n,t),n.onDestroy(()=>il?.delete(n)),t}function Kk(n,e,t,r){if(!t&&!Hl(n))return;aD(n,e,t&&!r?0:1)}var yg=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},dd=(()=>{class n{compileModuleSync(t){return new lg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=pI(t),o=SC(i.declarations).reduce((s,a)=>{let u=Br(a);return u&&s.push(new Uo(u)),s},[]);return new yg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Qk=(()=>{class n{constructor(){this.zone=N(we),this.changeDetectionScheduler=N(Vo),this.applicationRef=N(zn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Yk=new $("",{factory:()=>!1});function BD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new we(ye(U({},zD()),{scheduleInRootZone:t})),[{provide:we,useFactory:n},{provide:bi,multi:!0,useFactory:()=>{let r=N(Qk,{optional:!0});return()=>r.initialize()}},{provide:bi,multi:!0,useFactory:()=>{let r=N(Zk);return()=>{r.initialize()}}},e===!0?{provide:pD,useValue:!0}:[],{provide:gD,useValue:t??iC}]}function $D(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=BD({ngZoneFactory:()=>{let i=zD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Bn("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Kt([{provide:Yk,useValue:!0},{provide:rd,useValue:!1},r])}function zD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Zk=(()=>{class n{constructor(){this.subscription=new Ke,this.initialized=!1,this.zone=N(we),this.pendingTasks=N(Gr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Jk=(()=>{class n{constructor(){this.appRef=N(zn),this.taskService=N(Gr),this.ngZone=N(we),this.zonelessEnabled=N(rd),this.disableScheduling=N(pD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ke,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(bl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(gD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Bp||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?AE:oC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(bl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,AE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Xk(){return typeof $localize<"u"&&$localize.locale||Vl}var pm=new $("",{providedIn:"root",factory:()=>N(pm,he.Optional|he.SkipSelf)||Xk()});var vg=new $("");function ol(n){return!n.moduleRef}function eF(n){let e=ol(n)?n.r3Injector:n.moduleRef.injector,t=e.get(we);return t.run(()=>{ol(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(pr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),ol(n)){let o=()=>e.destroy(),s=n.platformInjector.get(vg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(vg);s.add(o),n.moduleRef.onDestroy(()=>{ll(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return Wk(r,t,()=>{let o=e.get(UD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(pm,Vl);if(Pk(s||Vl),ol(n)){let a=e.get(zn);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return tF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function tF(n,e){let t=n.injector.get(zn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new Z(-403,!1);e.push(n)}var dl=null;function nF(n=[],e){return dt.create({name:e,providers:[{provide:$l,useValue:"platform"},{provide:vg,useValue:new Set([()=>dl=null])},...n]})}function rF(n=[]){if(dl)return dl;let e=nF(n);return dl=e,Hk(),iF(e),e}function iF(n){n.get(zg,null)?.forEach(t=>t())}function gm(){return!1}var Kr=(()=>{class n{static{this.__NG_ELEMENT_ID__=oF}}return n})();function oF(n){return sF(Et(),Ie(),(n&16)===16)}function sF(n,e,t){if(Ta(n)&&!t){let r=Hr(n.index,e);return new Pi(r,r)}else if(n.type&175){let r=e[on];return new Pi(r,e)}return null}var _g=class{constructor(){}supports(e){return ID(e)}create(e){return new wg(e)}},aF=(n,e)=>e,wg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||aF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<GE(r,i,o)?t:r,a=GE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let v=m<o.length?o[m]:o[m]=0,x=v+m;h<=x&&x<l&&(o[m]=v+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!ID(e))throw new Z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,YO(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Eg(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ll),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ll),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Eg=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ig=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ll=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Ig,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function GE(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function WE(){return new mm([new _g])}var mm=(()=>{class n{static{this.\u0275prov=q({token:n,providedIn:"root",factory:WE})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||WE()),deps:[[n,new Dg,new _t]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new Z(901,!1)}}return n})();function HD(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=rF(r),o=[BD({}),{provide:Vo,useExisting:Jk},...t||[]],s=new kl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return eF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var KE=!1;function cF(){KE||(KE=!0,CN(),Sk(),Fk(),Mk(),rk(),MO(),dO(),d1())}function uF(n,e){return ld(n)}function qD(){return Kt([{provide:Xu,useFactory:()=>{let n=!0;return fa()&&(n=!!N(qo,{optional:!0})?.get(vC,null)),n&&Bn("NgHydration"),n}},{provide:bi,useValue:()=>{iO(!1),fa()&&N(Xu)&&(lF(),cF())},multi:!0},{provide:IC,useFactory:()=>fa()&&N(Xu)},{provide:Ui,useFactory:()=>{if(fa()&&N(Xu)){let n=N(zn),e=N(dt);return()=>{uF(n,e).then(()=>{cO(n)})}}return()=>{}},multi:!0}])}function lF(){let n=Wl(),e;for(let t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===EN){e=t;break}if(!e)throw new Z(-507,!1)}function Qr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ka(n,e){Bn("NgSignals");let t=F0(n);return e?.equal&&(t[sr].equal=e.equal),t}function vr(n){let e=_e(null);try{return n()}finally{_e(e)}}function GD(n){let e=Br(n);if(!e)return null;let t=new Uo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var JD=null;function wr(){return JD}function XD(n){JD??=n}var hd=class{};var It=new $(""),Im=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>N(dF),providedIn:"platform"})}}return n})(),eb=new $(""),dF=(()=>{class n extends Im{constructor(){super(),this._doc=N(It),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wr().getBaseHref(this._doc)}onPopState(t){let r=wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Cm(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function WD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function _r(n){return n&&n[0]!=="?"?"?"+n:n}var Er=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>N(Dm),providedIn:"root"})}}return n})(),tb=new $(""),Dm=(()=>{class n extends Er{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(It).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Cm(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+_r(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+_r(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+_r(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(z(Im),z(tb,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nb=(()=>{class n extends Er{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Cm(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+_r(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+_r(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(z(Im),z(tb,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Yo=(()=>{class n{constructor(t){this._subject=new qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=pF(WD(KD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+_r(r))}normalize(t){return n.stripTrailingSlash(fF(this._basePath,KD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_r(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_r(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=_r}static{this.joinWithSlash=Cm}static{this.stripTrailingSlash=WD}static{this.\u0275fac=function(r){return new(r||n)(z(Er))}}static{this.\u0275prov=q({token:n,factory:()=>hF(),providedIn:"root"})}}return n})();function hF(){return new Yo(z(Er))}function fF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function KD(n){return n.replace(/\/index.html$/,"")}function pF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function fd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ym=/\s+/,QD=[],pd=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=QD,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(ym):QD}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(ym):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(ym).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(H(Ft),H(En))}}static{this.\u0275dir=Fe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var vm=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},jt=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new vm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),YD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);YD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(H(Wr),H(Ni),H(mm))}}static{this.\u0275dir=Fe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function YD(n,e){n.context.$implicit=e.item}var Yr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new _m,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ZD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ZD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(H(Wr),H(Ni))}}static{this.\u0275dir=Fe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),_m=class{constructor(){this.$implicit=null,this.ngIf=null}};function ZD(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Rt(e)}'.`)}var bm=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=it({})}}return n})(),Tm="browser",gF="server";function mF(n){return n===Tm}function Bi(n){return n===gF}var rb=(()=>{class n{static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>mF(N(rt))?new wm(N(It),window):new Em})}}return n})(),wm=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=yF(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function yF(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Em=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Qo=class{};var Va=class{},yd=class{},Hn=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var xm=class{encodeKey(e){return ib(e)}encodeValue(e){return ib(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function vF(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var _F=/%(\d[a-f0-9])/gi,wF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ib(n){return encodeURIComponent(n).replace(_F,(e,t)=>wF[t]??e)}function gd(n){return`${n}`}var Jr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new xm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=vF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(gd):[gd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(gd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(gd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Mm=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function EF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ob(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function sb(n){return typeof Blob<"u"&&n instanceof Blob}function ab(n){return typeof FormData<"u"&&n instanceof FormData}function IF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Fa=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(EF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Hn,this.context??=new Mm,!this.params)this.params=new Jr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ob(this.body)||sb(this.body)||ab(this.body)||IF(this.body)?this.body:this.body instanceof Jr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ab(this.body)?null:sb(this.body)?this.body.type||null:ob(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Jr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,v)=>m.set(v,e.setHeaders[v]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,v)=>m.set(v,e.setParams[v]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Xr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Xr||{}),La=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Hn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},vd=class n extends La{constructor(e={}){super(e),this.type=Xr.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},$i=class n extends La{constructor(e={}){super(e),this.type=Xr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Zr=class extends La{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},vb=200,CF=204;function Am(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Ir=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Fa)o=t;else{let u;i.headers instanceof Hn?u=i.headers:u=new Hn(i.headers);let l;i.params&&(i.params instanceof Jr?l=i.params:l=new Jr({fromObject:i.params})),o=new Fa(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Y(o).pipe(lr(u=>this.handler.handle(u)));if(t instanceof Fa||i.observe==="events")return s;let a=s.pipe(ut(u=>u instanceof $i));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ee(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(ee(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Jr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Am(i,r))}post(t,r,i={}){return this.request("POST",t,Am(i,r))}put(t,r,i={}){return this.request("PUT",t,Am(i,r))}static{this.\u0275fac=function(r){return new(r||n)(z(Va))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),DF=/^\)\]\}',?\n/,bF="X-Request-URL";function cb(n){if(n.url)return n.url;let e=bF.toLocaleLowerCase();return n.headers.get(e)}var TF=(()=>{class n{constructor(){this.fetchImpl=N(Rm,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=N(we)}handle(t){return new oe(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Pm,o=>r.error(new Zr({error:o}))),()=>i.abort()})}doRequest(t,r,i){return L(this,null,function*(){let o=this.createRequestInit(t),s;try{let v=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,U({signal:r},o)));SF(v),i.next({type:Xr.Sent}),s=yield v}catch(v){i.error(new Zr({error:v,status:v.status??0,statusText:v.statusText,url:t.urlWithParams,headers:v.headers}));return}let a=new Hn(s.headers),u=s.statusText,l=cb(s)??t.urlWithParams,h=s.status,p=null;if(t.reportProgress&&i.next(new vd({headers:a,status:h,statusText:u,url:l})),s.body){let v=s.headers.get("content-length"),x=[],P=s.body.getReader(),M=0,F,G,V=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>L(this,null,function*(){for(;;){let{done:me,value:re}=yield P.read();if(me)break;if(x.push(re),M+=re.length,t.reportProgress){G=t.responseType==="text"?(G??"")+(F??=new TextDecoder).decode(re,{stream:!0}):void 0;let E=()=>i.next({type:Xr.DownloadProgress,total:v?+v:void 0,loaded:M,partialText:G});V?V.run(E):E()}}}));let J=this.concatChunks(x,M);try{let me=s.headers.get("Content-Type")??"";p=this.parseBody(t,J,me)}catch(me){i.error(new Zr({error:me,headers:new Hn(s.headers),status:s.status,statusText:s.statusText,url:cb(s)??t.urlWithParams}));return}}h===0&&(h=p?vb:0),h>=200&&h<300?(i.next(new $i({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Zr({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(DF,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Rm=class{};function Pm(){}function SF(n){n.then(Pm,Pm)}function AF(n,e){return e(n)}function xF(n,e,t){return(r,i)=>an(t,()=>e(r,o=>n(o,i)))}var _b=new $(""),wb=new $(""),MF=new $("",{providedIn:"root",factory:()=>!0});var ub=(()=>{class n extends Va{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=N(Gr),this.contributeToStability=N(MF)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(_b),...this.injector.get(wb,[])]));this.chain=r.reduceRight((i,o)=>xF(i,o,this.injector),AF)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ii(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(z(yd),z(Nt))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();var RF=/^\)\]\}',?\n/;function PF(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var lb=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Z(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?de(r.\u0275loadImpl()):Y(null)).pipe(Me(()=>new oe(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((P,M)=>s.setRequestHeader(P,M.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let P=t.detectContentTypeHeader();P!==null&&s.setRequestHeader("Content-Type",P)}if(t.responseType){let P=t.responseType.toLowerCase();s.responseType=P!=="json"?P:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let P=s.statusText||"OK",M=new Hn(s.getAllResponseHeaders()),F=PF(s)||t.url;return u=new vd({headers:M,status:s.status,statusText:P,url:F}),u},h=()=>{let{headers:P,status:M,statusText:F,url:G}=l(),V=null;M!==CF&&(V=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=V?vb:0);let J=M>=200&&M<300;if(t.responseType==="json"&&typeof V=="string"){let me=V;V=V.replace(RF,"");try{V=V!==""?JSON.parse(V):null}catch(re){V=me,J&&(J=!1,V={error:re,text:V})}}J?(o.next(new $i({body:V,headers:P,status:M,statusText:F,url:G||void 0})),o.complete()):o.error(new Zr({error:V,headers:P,status:M,statusText:F,url:G||void 0}))},p=P=>{let{url:M}=l(),F=new Zr({error:P,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(F)},m=!1,v=P=>{m||(o.next(l()),m=!0);let M={type:Xr.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(M.total=P.total),t.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},x=P=>{let M={type:Xr.UploadProgress,loaded:P.loaded};P.lengthComputable&&(M.total=P.total),o.next(M)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",v),a!==null&&s.upload&&s.upload.addEventListener("progress",x)),s.send(a),o.next({type:Xr.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",v),a!==null&&s.upload&&s.upload.removeEventListener("progress",x)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(z(Qo))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Eb=new $(""),NF="XSRF-TOKEN",OF=new $("",{providedIn:"root",factory:()=>NF}),kF="X-XSRF-TOKEN",FF=new $("",{providedIn:"root",factory:()=>kF}),_d=class{},VF=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=fd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(z(It),z(rt),z(OF))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function LF(n,e){let t=n.url.toLowerCase();if(!N(Eb)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=N(_d).getToken(),i=N(FF);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function Nm(...n){let e=[Ir,lb,ub,{provide:Va,useExisting:ub},{provide:yd,useFactory:()=>N(TF,{optional:!0})??N(lb)},{provide:_b,useValue:LF,multi:!0},{provide:Eb,useValue:!0},{provide:_d,useClass:VF}];for(let t of n)e.push(...t.\u0275providers);return Kt(e)}var jF=new $(""),db="b",hb="h",fb="s",pb="st",gb="u",mb="rt",md=new $(""),UF=["GET","HEAD"];function BF(n,e){let v=N(md),{isCacheActive:t}=v,r=y0(v,["isCacheActive"]),{transferCache:i,method:o}=n;if(!t||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!UF.includes(o)||!r.includeRequestsWithAuthHeaders&&$F(n)||r.filter?.(n)===!1)return e(n);let s=N(qo),a=N(jF,{optional:!0}),u=Bi(N(rt));if(a&&!u)throw new Z(2803,!1);let l=u&&a?GF(n.url,a):n.url,h=HF(n,l),p=s.get(h,null),m=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(m=i.includeHeaders),p){let{[db]:x,[mb]:P,[hb]:M,[fb]:F,[pb]:G,[gb]:V}=p,J=x;switch(P){case"arraybuffer":J=new TextEncoder().encode(x).buffer;break;case"blob":J=new Blob([x]);break}let me=new Hn(M);return Y(new $i({body:J,headers:me,status:F,statusText:G,url:V}))}return e(n).pipe(Ye(x=>{x instanceof $i&&u&&s.set(h,{[db]:x.body,[hb]:zF(x.headers,m),[fb]:x.status,[pb]:x.statusText,[gb]:l,[mb]:n.responseType})}))}function $F(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function zF(n,e){if(!e)return{};let t={};for(let r of e){let i=n.getAll(r);i!==null&&(t[r]=i)}return t}function yb(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function HF(n,e){let{params:t,method:r,responseType:i}=n,o=yb(t),s=n.serializeBody();s instanceof URLSearchParams?s=yb(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),u=qF(a);return u}function qF(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function Ib(n){return[{provide:md,useFactory:()=>(Bn("NgHttpTransferCache"),U({isCacheActive:!0},n))},{provide:wb,useValue:BF,multi:!0,deps:[qo,md]},{provide:Ui,multi:!0,useFactory:()=>{let e=N(zn),t=N(md);return()=>{ld(e).then(()=>{t.isCacheActive=!1})}}}]}function GF(n,e){let t=new URL(n,"resolve://").origin,r=e[t];return r?n.replace(t,r):n}var Fm=class extends hd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Vm=class n extends Fm{static makeCurrent(){XD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=WF();return t==null?null:KF(t)}resetBaseElement(){ja=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fd(document.cookie,e)}},ja=null;function WF(){return ja=ja||document.querySelector("base"),ja?ja.getAttribute("href"):null}function KF(n){return new URL(n,document.baseURI).pathname}var QF=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Lm=new $(""),Sb=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Z(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(z(Lm),z(we))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),wd=class{constructor(e){this._doc=e}},Om="ng-app-id",Ab=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Bi(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Om}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Om),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Om,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(z(It),z(Kl),z(Hg,8),z(rt))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),km={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Bm=/%COMP%/g,xb="%COMP%",YF=`_nghost-${xb}`,ZF=`_ngcontent-${xb}`,JF=!0,XF=new $("",{providedIn:"root",factory:()=>JF});function eV(n){return ZF.replace(Bm,n)}function tV(n){return YF.replace(Bm,n)}function Mb(n,e){return e.map(t=>t.replace(Bm,n))}var Db=(()=>{class n{constructor(t,r,i,o,s,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Bi(a),this.defaultRenderer=new Ua(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===kn.ShadowDom&&(r=ye(U({},r),{encapsulation:kn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Ed?i.applyToHost(t):i instanceof Ba&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case kn.Emulated:o=new Ed(u,l,r,this.appId,h,s,a,p);break;case kn.ShadowDom:return new jm(u,l,t,r,s,a,this.nonce,p);default:o=new Ba(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(z(Sb),z(Ab),z(Kl),z(XF),z(It),z(rt),z(we),z(Hg))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Ua=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(km[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(bb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(bb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Z(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=km[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=km[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(gr.DashCase|gr.Important)?e.style.setProperty(t,r,i&gr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&gr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=wr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function bb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var jm=class extends Ua{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Mb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ba=class extends Ua{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?Mb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ed=class extends Ba{constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=eV(l),this.hostAttr=tV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},nV=(()=>{class n extends wd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(z(It))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Tb=["alt","control","meta","shift"],rV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},oV=(()=>{class n extends wd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Tb.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=rV[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Tb.forEach(s=>{if(s!==i){let a=iV[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(z(It))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function Rb(n,e){return HD(U({rootComponent:n},sV(e)))}function sV(n){return{appProviders:[...dV,...n?.providers??[]],platformProviders:lV}}function aV(){Vm.makeCurrent()}function cV(){return new pr}function uV(){return fC(document),document}var lV=[{provide:rt,useValue:Tm},{provide:zg,useValue:aV,multi:!0},{provide:It,useFactory:uV,deps:[]}];var dV=[{provide:$l,useValue:"root"},{provide:pr,useFactory:cV,deps:[]},{provide:Lm,useClass:nV,multi:!0,deps:[It,we,rt]},{provide:Lm,useClass:oV,multi:!0,deps:[It]},Db,Ab,Sb,{provide:jo,useExisting:Db},{provide:Qo,useClass:QF,deps:[]},[]];var Pb=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(z(It))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Um=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n}(Um||{});function Nb(...n){let e=[],t=new Set,r=t.has(Um.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of n)t.add(o),i.length&&e.push(i);return Kt([[],qD(),t.has(Um.NoHttpTransferCache)||r?[]:Ib({}),e])}var fV="firebase",pV="10.14.1";tt(fV,pV,"app");var Ut=new mr("ANGULARFIRE2_VERSION");function Cd(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var $a=(n,e)=>{let t=e?[e]:pu(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ei=class{constructor(){return $a(gV)}},gV="app-check";function Zo(){}var Id=class{zone;delegate;constructor(e,t=Xf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},$m=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zo,{},Zo,Zo)),t.pipe(Ye({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Hi=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Id(Zone.current)),this.insideAngular=t.run(()=>new Id(Zone.current,ha)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(z(we))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dd(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function mV(n){return Dd().ngZone.runOutsideAngular(()=>n())}function zi(n){return Dd().ngZone.run(()=>n())}function zm(n){return yV(Dd())(n)}function yV(n){return function(t){return t=t.lift(new $m(n.ngZone)),t.pipe(en(n.outsideAngular),Ht(n.insideAngular))}}var vV=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),zi(()=>n.apply(void 0,r))},ht=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=zi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zo,{},Zo,Zo))),r[o]=vV(r[o],t));let i=mV(()=>n.apply(this,r));if(!e)if(i instanceof oe){let o=Dd();return i.pipe(en(o.outsideAngular),Ht(o.insideAngular))}else return zi(()=>i);return i instanceof oe?i.pipe(zm):i instanceof Promise?zi(()=>new Promise((o,s)=>i.then(a=>zi(()=>o(a)),a=>zi(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:zi(()=>i)};var Cr=class{constructor(e){return e}},Jo=class{constructor(){return pu()}};function wV(n){return n&&n.length===1?n[0]:new Cr(fu())}var Hm=new $("angularfire2._apps"),Ob={provide:Cr,useFactory:wV,deps:[[new _t,Hm]]},kb={provide:Jo,deps:[[new _t,Hm]]};function EV(n){return(e,t)=>{let r=t.get(rt);tt("angularfire",Ut.full,"core"),tt("angularfire",Ut.full,"app"),tt("angular",Oa.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Cr(i)}}var Fb=(()=>{class n{constructor(t){tt("angularfire",Ut.full,"core"),tt("angularfire",Ut.full,"app"),tt("angular",Oa.full,t.toString())}static \u0275fac=function(r){return new(r||n)(z(rt))};static \u0275mod=ot({type:n});static \u0275inj=it({providers:[Ob,kb]})}return n})();function qm(n,...e){return Kt([Ob,kb,{provide:Hm,useFactory:EV(n),multi:!0,deps:[we,dt,Hi,...e]}])}var Gm=ht(S0,!0);function jb(n){return new oe(function(e){var t=gu(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var Ub="auth",qi=class{constructor(e){return e}},Wm=class{constructor(){return $a(Ub)}};var Km=new $("angularfire2.auth-instances");function pL(n,e){let t=Cd(Ub,n,e);return t&&new qi(t)}function gL(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new qi(r)}}var mL={provide:Wm,deps:[[new _t,Km]]},yL={provide:qi,useFactory:pL,deps:[[new _t,Km],Cr]};function Bb(n,...e){return tt("angularfire",Ut.full,"auth"),Kt([yL,mL,{provide:Km,useFactory:gL(n),multi:!0,deps:[we,dt,Hi,Jo,[new _t,ei],...e]}])}var $b=ht(jb,!0);var zb=ht(Nf,!0);var Hb=ht(Vf,!0);var qb=ht(Of,!0);var Gb=ht(Ff,!0);var Wb=ht(kf,!0);var Kb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qb={};var ti,Qm;(function(){var n;function e(E,y){function w(){}w.prototype=y.prototype,E.D=y.prototype,E.prototype=new w,E.prototype.constructor=E,E.C=function(I,C,S){for(var _=Array(arguments.length-2),tr=2;tr<arguments.length;tr++)_[tr-2]=arguments[tr];return y.prototype[C].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,w){w||(w=0);var I=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)I[C]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(C=0;16>C;++C)I[C]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=E.g[0],w=E.g[1],C=E.g[2];var S=E.g[3],_=y+(S^w&(C^S))+I[0]+3614090360&4294967295;y=w+(_<<7&4294967295|_>>>25),_=S+(C^y&(w^C))+I[1]+3905402710&4294967295,S=y+(_<<12&4294967295|_>>>20),_=C+(w^S&(y^w))+I[2]+606105819&4294967295,C=S+(_<<17&4294967295|_>>>15),_=w+(y^C&(S^y))+I[3]+3250441966&4294967295,w=C+(_<<22&4294967295|_>>>10),_=y+(S^w&(C^S))+I[4]+4118548399&4294967295,y=w+(_<<7&4294967295|_>>>25),_=S+(C^y&(w^C))+I[5]+1200080426&4294967295,S=y+(_<<12&4294967295|_>>>20),_=C+(w^S&(y^w))+I[6]+2821735955&4294967295,C=S+(_<<17&4294967295|_>>>15),_=w+(y^C&(S^y))+I[7]+4249261313&4294967295,w=C+(_<<22&4294967295|_>>>10),_=y+(S^w&(C^S))+I[8]+1770035416&4294967295,y=w+(_<<7&4294967295|_>>>25),_=S+(C^y&(w^C))+I[9]+2336552879&4294967295,S=y+(_<<12&4294967295|_>>>20),_=C+(w^S&(y^w))+I[10]+4294925233&4294967295,C=S+(_<<17&4294967295|_>>>15),_=w+(y^C&(S^y))+I[11]+2304563134&4294967295,w=C+(_<<22&4294967295|_>>>10),_=y+(S^w&(C^S))+I[12]+1804603682&4294967295,y=w+(_<<7&4294967295|_>>>25),_=S+(C^y&(w^C))+I[13]+4254626195&4294967295,S=y+(_<<12&4294967295|_>>>20),_=C+(w^S&(y^w))+I[14]+2792965006&4294967295,C=S+(_<<17&4294967295|_>>>15),_=w+(y^C&(S^y))+I[15]+1236535329&4294967295,w=C+(_<<22&4294967295|_>>>10),_=y+(C^S&(w^C))+I[1]+4129170786&4294967295,y=w+(_<<5&4294967295|_>>>27),_=S+(w^C&(y^w))+I[6]+3225465664&4294967295,S=y+(_<<9&4294967295|_>>>23),_=C+(y^w&(S^y))+I[11]+643717713&4294967295,C=S+(_<<14&4294967295|_>>>18),_=w+(S^y&(C^S))+I[0]+3921069994&4294967295,w=C+(_<<20&4294967295|_>>>12),_=y+(C^S&(w^C))+I[5]+3593408605&4294967295,y=w+(_<<5&4294967295|_>>>27),_=S+(w^C&(y^w))+I[10]+38016083&4294967295,S=y+(_<<9&4294967295|_>>>23),_=C+(y^w&(S^y))+I[15]+3634488961&4294967295,C=S+(_<<14&4294967295|_>>>18),_=w+(S^y&(C^S))+I[4]+3889429448&4294967295,w=C+(_<<20&4294967295|_>>>12),_=y+(C^S&(w^C))+I[9]+568446438&4294967295,y=w+(_<<5&4294967295|_>>>27),_=S+(w^C&(y^w))+I[14]+3275163606&4294967295,S=y+(_<<9&4294967295|_>>>23),_=C+(y^w&(S^y))+I[3]+4107603335&4294967295,C=S+(_<<14&4294967295|_>>>18),_=w+(S^y&(C^S))+I[8]+1163531501&4294967295,w=C+(_<<20&4294967295|_>>>12),_=y+(C^S&(w^C))+I[13]+2850285829&4294967295,y=w+(_<<5&4294967295|_>>>27),_=S+(w^C&(y^w))+I[2]+4243563512&4294967295,S=y+(_<<9&4294967295|_>>>23),_=C+(y^w&(S^y))+I[7]+1735328473&4294967295,C=S+(_<<14&4294967295|_>>>18),_=w+(S^y&(C^S))+I[12]+2368359562&4294967295,w=C+(_<<20&4294967295|_>>>12),_=y+(w^C^S)+I[5]+4294588738&4294967295,y=w+(_<<4&4294967295|_>>>28),_=S+(y^w^C)+I[8]+2272392833&4294967295,S=y+(_<<11&4294967295|_>>>21),_=C+(S^y^w)+I[11]+1839030562&4294967295,C=S+(_<<16&4294967295|_>>>16),_=w+(C^S^y)+I[14]+4259657740&4294967295,w=C+(_<<23&4294967295|_>>>9),_=y+(w^C^S)+I[1]+2763975236&4294967295,y=w+(_<<4&4294967295|_>>>28),_=S+(y^w^C)+I[4]+1272893353&4294967295,S=y+(_<<11&4294967295|_>>>21),_=C+(S^y^w)+I[7]+4139469664&4294967295,C=S+(_<<16&4294967295|_>>>16),_=w+(C^S^y)+I[10]+3200236656&4294967295,w=C+(_<<23&4294967295|_>>>9),_=y+(w^C^S)+I[13]+681279174&4294967295,y=w+(_<<4&4294967295|_>>>28),_=S+(y^w^C)+I[0]+3936430074&4294967295,S=y+(_<<11&4294967295|_>>>21),_=C+(S^y^w)+I[3]+3572445317&4294967295,C=S+(_<<16&4294967295|_>>>16),_=w+(C^S^y)+I[6]+76029189&4294967295,w=C+(_<<23&4294967295|_>>>9),_=y+(w^C^S)+I[9]+3654602809&4294967295,y=w+(_<<4&4294967295|_>>>28),_=S+(y^w^C)+I[12]+3873151461&4294967295,S=y+(_<<11&4294967295|_>>>21),_=C+(S^y^w)+I[15]+530742520&4294967295,C=S+(_<<16&4294967295|_>>>16),_=w+(C^S^y)+I[2]+3299628645&4294967295,w=C+(_<<23&4294967295|_>>>9),_=y+(C^(w|~S))+I[0]+4096336452&4294967295,y=w+(_<<6&4294967295|_>>>26),_=S+(w^(y|~C))+I[7]+1126891415&4294967295,S=y+(_<<10&4294967295|_>>>22),_=C+(y^(S|~w))+I[14]+2878612391&4294967295,C=S+(_<<15&4294967295|_>>>17),_=w+(S^(C|~y))+I[5]+4237533241&4294967295,w=C+(_<<21&4294967295|_>>>11),_=y+(C^(w|~S))+I[12]+1700485571&4294967295,y=w+(_<<6&4294967295|_>>>26),_=S+(w^(y|~C))+I[3]+2399980690&4294967295,S=y+(_<<10&4294967295|_>>>22),_=C+(y^(S|~w))+I[10]+4293915773&4294967295,C=S+(_<<15&4294967295|_>>>17),_=w+(S^(C|~y))+I[1]+2240044497&4294967295,w=C+(_<<21&4294967295|_>>>11),_=y+(C^(w|~S))+I[8]+1873313359&4294967295,y=w+(_<<6&4294967295|_>>>26),_=S+(w^(y|~C))+I[15]+4264355552&4294967295,S=y+(_<<10&4294967295|_>>>22),_=C+(y^(S|~w))+I[6]+2734768916&4294967295,C=S+(_<<15&4294967295|_>>>17),_=w+(S^(C|~y))+I[13]+1309151649&4294967295,w=C+(_<<21&4294967295|_>>>11),_=y+(C^(w|~S))+I[4]+4149444226&4294967295,y=w+(_<<6&4294967295|_>>>26),_=S+(w^(y|~C))+I[11]+3174756917&4294967295,S=y+(_<<10&4294967295|_>>>22),_=C+(y^(S|~w))+I[2]+718787259&4294967295,C=S+(_<<15&4294967295|_>>>17),_=w+(S^(C|~y))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(C+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+S&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var w=y-this.blockSize,I=this.B,C=this.h,S=0;S<y;){if(C==0)for(;S<=w;)i(this,E,S),S+=this.blockSize;if(typeof E=="string"){for(;S<y;)if(I[C++]=E.charCodeAt(S++),C==this.blockSize){i(this,I),C=0;break}}else for(;S<y;)if(I[C++]=E[S++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var w=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=w&255,w/=256;for(this.u(E),E=Array(16),y=w=0;4>y;++y)for(var I=0;32>I;I+=8)E[w++]=this.g[y]>>>I&255;return E};function o(E,y){var w=a;return Object.prototype.hasOwnProperty.call(w,E)?w[E]:w[E]=y(E)}function s(E,y){this.h=y;for(var w=[],I=!0,C=E.length-1;0<=C;C--){var S=E[C]|0;I&&S==y||(w[C]=S,I=!1)}this.g=w}var a={};function u(E){return-128<=E&&128>E?o(E,function(y){return new s([y|0],0>y?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return M(l(-E));for(var y=[],w=1,I=0;E>=w;I++)y[I]=E/w|0,w*=4294967296;return new s(y,0)}function h(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return M(h(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(y,8)),I=p,C=0;C<E.length;C+=8){var S=Math.min(8,E.length-C),_=parseInt(E.substring(C,C+S),y);8>S?(S=l(Math.pow(y,S)),I=I.j(S).add(l(_))):(I=I.j(w),I=I.add(l(_)))}return I}var p=u(0),m=u(1),v=u(16777216);n=s.prototype,n.m=function(){if(P(this))return-M(this).m();for(var E=0,y=1,w=0;w<this.g.length;w++){var I=this.i(w);E+=(0<=I?I:4294967296+I)*y,y*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x(this))return"0";if(P(this))return"-"+M(this).toString(E);for(var y=l(Math.pow(E,6)),w=this,I="";;){var C=J(w,y).g;w=F(w,C.j(y));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(E);if(w=C,x(w))return S+I;for(;6>S.length;)S="0"+S;I=S+I}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function x(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function P(E){return E.h==-1}n.l=function(E){return E=F(this,E),P(E)?-1:x(E)?0:1};function M(E){for(var y=E.g.length,w=[],I=0;I<y;I++)w[I]=~E.g[I];return new s(w,~E.h).add(m)}n.abs=function(){return P(this)?M(this):this},n.add=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],I=0,C=0;C<=y;C++){var S=I+(this.i(C)&65535)+(E.i(C)&65535),_=(S>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);I=_>>>16,S&=65535,_&=65535,w[C]=_<<16|S}return new s(w,w[w.length-1]&-2147483648?-1:0)};function F(E,y){return E.add(M(y))}n.j=function(E){if(x(this)||x(E))return p;if(P(this))return P(E)?M(this).j(M(E)):M(M(this).j(E));if(P(E))return M(this.j(M(E)));if(0>this.l(v)&&0>E.l(v))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,w=[],I=0;I<2*y;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var C=0;C<E.g.length;C++){var S=this.i(I)>>>16,_=this.i(I)&65535,tr=E.i(C)>>>16,Us=E.i(C)&65535;w[2*I+2*C]+=_*Us,G(w,2*I+2*C),w[2*I+2*C+1]+=S*Us,G(w,2*I+2*C+1),w[2*I+2*C+1]+=_*tr,G(w,2*I+2*C+1),w[2*I+2*C+2]+=S*tr,G(w,2*I+2*C+2)}for(I=0;I<y;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=y;I<2*y;I++)w[I]=0;return new s(w,0)};function G(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function V(E,y){this.g=E,this.h=y}function J(E,y){if(x(y))throw Error("division by zero");if(x(E))return new V(p,p);if(P(E))return y=J(M(E),y),new V(M(y.g),M(y.h));if(P(y))return y=J(E,M(y)),new V(M(y.g),y.h);if(30<E.g.length){if(P(E)||P(y))throw Error("slowDivide_ only works with positive integers.");for(var w=m,I=y;0>=I.l(E);)w=me(w),I=me(I);var C=re(w,1),S=re(I,1);for(I=re(I,2),w=re(w,2);!x(I);){var _=S.add(I);0>=_.l(E)&&(C=C.add(w),S=_),I=re(I,1),w=re(w,1)}return y=F(E,C.j(y)),new V(C,y)}for(C=p;0<=E.l(y);){for(w=Math.max(1,Math.floor(E.m()/y.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),S=l(w),_=S.j(y);P(_)||0<_.l(E);)w-=I,S=l(w),_=S.j(y);x(S)&&(S=m),C=C.add(S),E=F(E,_)}return new V(C,E)}n.A=function(E){return J(this,E).h},n.and=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)&E.i(I);return new s(w,this.h&E.h)},n.or=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)|E.i(I);return new s(w,this.h|E.h)},n.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)^E.i(I);return new s(w,this.h^E.h)};function me(E){for(var y=E.g.length+1,w=[],I=0;I<y;I++)w[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(w,E.h)}function re(E,y){var w=y>>5;y%=32;for(var I=E.g.length-w,C=[],S=0;S<I;S++)C[S]=0<y?E.i(S+w)>>>y|E.i(S+w+1)<<32-y:E.i(S+w);return new s(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Qm=Qb.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ti=Qb.Integer=s}).apply(typeof Kb<"u"?Kb:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dr={};var Ym,vL,Xo,Zm,za,Td,Jm,Xm,ey;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var R=f++;return{value:d(R,c[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function x(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,R){for(var j=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)j[Oe-2]=arguments[Oe];return d.prototype[D].apply(g,j)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=c.length||0,R=g.length||0;c.length=D+R;for(let j=0;j<R;j++)c[D+j]=g[j]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(c){return/^[\s\xa0]*$/.test(c)}function V(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function J(c){return J[" "](c),c}J[" "]=function(){};var me=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function re(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let R=0;R<w.length;R++)f=w[R],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function _(){var c=sf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class tr{constructor(){this.h=this.g=null}add(d,f){let g=Us.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Us=new F(()=>new iM,c=>c.reset());class iM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Bs,$s=!1,sf=new tr,mw=()=>{let c=a.Promise.resolve(void 0);Bs=()=>{c.then(oM)}};var oM=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){S(f)}var d=Us;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}$s=!1};function Nr(){this.s=this.s,this.C=this.C}Nr.prototype.s=!1,Nr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Nr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var sM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function zs(c,d){if(pt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(me){e:{try{J(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:aM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&zs.aa.h.call(this)}}x(zs,pt);var aM={2:"touch",3:"pen",4:"mouse"};zs.prototype.h=function(){zs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Hs="closure_listenable_"+(1e6*Math.random()|0),cM=0;function uM(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++cM,this.da=this.fa=!1}function Kc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Qc(c){this.src=c,this.g={},this.h=0}Qc.prototype.add=function(c,d,f,g,D){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var j=cf(c,d,g,D);return-1<j?(d=c[j],f||(d.fa=!1)):(d=new uM(d,this.src,R,!!g,D),d.fa=f,c.push(d)),d};function af(c,d){var f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=D)&&Array.prototype.splice.call(g,D,1),R&&(Kc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function cf(c,d,f,g){for(var D=0;D<c.length;++D){var R=c[D];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==g)return D}return-1}var uf="closure_lm_"+(1e6*Math.random()|0),lf={};function yw(c,d,f,g,D){if(g&&g.once)return _w(c,d,f,g,D);if(Array.isArray(d)){for(var R=0;R<d.length;R++)yw(c,d[R],f,g,D);return null}return f=pf(f),c&&c[Hs]?c.K(d,f,l(g)?!!g.capture:!!g,D):vw(c,d,f,!1,g,D)}function vw(c,d,f,g,D,R){if(!d)throw Error("Invalid event type");var j=l(D)?!!D.capture:!!D,Oe=hf(c);if(Oe||(c[uf]=Oe=new Qc(c)),f=Oe.add(d,f,g,j,R),f.proxy)return f;if(g=lM(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)sM||(D=j),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(Ew(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function lM(){function c(f){return d.call(c.src,c.listener,f)}let d=dM;return c}function _w(c,d,f,g,D){if(Array.isArray(d)){for(var R=0;R<d.length;R++)_w(c,d[R],f,g,D);return null}return f=pf(f),c&&c[Hs]?c.L(d,f,l(g)?!!g.capture:!!g,D):vw(c,d,f,!0,g,D)}function ww(c,d,f,g,D){if(Array.isArray(d))for(var R=0;R<d.length;R++)ww(c,d[R],f,g,D);else g=l(g)?!!g.capture:!!g,f=pf(f),c&&c[Hs]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],f=cf(R,f,g,D),-1<f&&(Kc(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=hf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=cf(d,f,g,D)),(f=-1<c?d[c]:null)&&df(f))}function df(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Hs])af(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Ew(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=hf(d))?(af(f,c),f.h==0&&(f.src=null,d[uf]=null)):Kc(c)}}}function Ew(c){return c in lf?lf[c]:lf[c]="on"+c}function dM(c,d){if(c.da)c=!0;else{d=new zs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&df(c),c=f.call(g,d)}return c}function hf(c){return c=c[uf],c instanceof Qc?c:null}var ff="__closure_events_fn_"+(1e9*Math.random()>>>0);function pf(c){return typeof c=="function"?c:(c[ff]||(c[ff]=function(d){return c.handleEvent(d)}),c[ff])}function gt(){Nr.call(this),this.i=new Qc(this),this.M=this,this.F=null}x(gt,Nr),gt.prototype[Hs]=!0,gt.prototype.removeEventListener=function(c,d,f,g){ww(this,c,d,f,g)};function St(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new pt(d,c);else if(d instanceof pt)d.target=d.target||c;else{var D=d;d=new pt(g,c),I(d,D)}if(D=!0,f)for(var R=f.length-1;0<=R;R--){var j=d.g=f[R];D=Yc(j,g,!0,d)&&D}if(j=d.g=c,D=Yc(j,g,!0,d)&&D,D=Yc(j,g,!1,d)&&D,f)for(R=0;R<f.length;R++)j=d.g=f[R],D=Yc(j,g,!1,d)&&D}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Kc(f[g]);delete c.g[d],c.h--}}this.F=null},gt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},gt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Yc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,R=0;R<d.length;++R){var j=d[R];if(j&&!j.da&&j.capture==f){var Oe=j.listener,ct=j.ha||j.src;j.fa&&af(c.i,j),D=Oe.call(ct,g)!==!1&&D}}return D&&!g.defaultPrevented}function Iw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Cw(c){c.g=Iw(()=>{c.g=null,c.i&&(c.i=!1,Cw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class hM extends Nr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Cw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qs(c){Nr.call(this),this.h=c,this.g={}}x(qs,Nr);var Dw=[];function bw(c){re(c.g,function(d,f){this.g.hasOwnProperty(f)&&df(d)},c),c.g={}}qs.prototype.N=function(){qs.aa.N.call(this),bw(this)},qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gf=a.JSON.stringify,fM=a.JSON.parse,pM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function mf(){}mf.prototype.h=null;function Tw(c){return c.h||(c.h=c.i())}function Sw(){}var Gs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yf(){pt.call(this,"d")}x(yf,pt);function vf(){pt.call(this,"c")}x(vf,pt);var gi={},Aw=null;function Zc(){return Aw=Aw||new gt}gi.La="serverreachability";function xw(c){pt.call(this,gi.La,c)}x(xw,pt);function Ws(c){let d=Zc();St(d,new xw(d))}gi.STAT_EVENT="statevent";function Mw(c,d){pt.call(this,gi.STAT_EVENT,c),this.stat=d}x(Mw,pt);function At(c){let d=Zc();St(d,new Mw(d,c))}gi.Ma="timingevent";function Rw(c,d){pt.call(this,gi.Ma,c),this.size=d}x(Rw,pt);function Ks(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Qs(){this.g=!0}Qs.prototype.xa=function(){this.g=!1};function gM(c,d,f,g,D,R){c.info(function(){if(c.g)if(R)for(var j="",Oe=R.split("&"),ct=0;ct<Oe.length;ct++){var be=Oe[ct].split("=");if(1<be.length){var mt=be[0];be=be[1];var yt=mt.split("_");j=2<=yt.length&&yt[1]=="type"?j+(mt+"="+be+"&"):j+(mt+"=redacted&")}}else j=null;else j=R;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+j})}function mM(c,d,f,g,D,R,j){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+R+" "+j})}function uo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+vM(c,f)+(g?" "+g:"")})}function yM(c,d){c.info(function(){return"TIMEOUT: "+d})}Qs.prototype.info=function(){};function vM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var R=D[0];if(R!="noop"&&R!="stop"&&R!="close")for(var j=1;j<D.length;j++)D[j]=""}}}}return gf(f)}catch{return d}}var Jc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_f;function Xc(){}x(Xc,mf),Xc.prototype.g=function(){return new XMLHttpRequest},Xc.prototype.i=function(){return{}},_f=new Xc;function Or(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new qs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nw}function Nw(){this.i=null,this.g="",this.h=!1}var Ow={},wf={};function Ef(c,d,f){c.L=1,c.v=ru(nr(d)),c.m=f,c.P=!0,kw(c,null)}function kw(c,d){c.F=Date.now(),eu(c),c.A=nr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),Qw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new Nw,c.g=f0(c.j,f?d:null,!c.m),0<c.O&&(c.M=new hM(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(Dw[0]=D.toString()),D=Dw);for(var R=0;R<D.length;R++){var j=yw(f,D[R],g||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ws(),gM(c.i,c.u,c.A,c.l,c.R,c.m)}Or.prototype.ca=function(c){c=c.target;let d=this.M;d&&rr(c)==3?d.j():this.Y(c)},Or.prototype.Y=function(c){try{if(c==this.g)e:{let yt=rr(this.g);var d=this.g.Ba();let fo=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||n0(this.g)))){this.J||yt!=4||d==7||(d==8||0>=fo?Ws(3):Ws(2)),If(this);var f=this.g.Z();this.X=f;t:if(Fw(this)){var g=n0(this.g);c="";var D=g.length,R=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),Ys(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(R&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,mM(this.i,this.u,this.A,this.l,this.R,yt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,ct=this.g;if((Oe=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Oe)){var be=Oe;break t}}be=null}if(f=be)uo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cf(this,f);else{this.o=!1,this.s=3,At(12),mi(this),Ys(this);break e}}if(this.P){f=!0;let hn;for(;!this.J&&this.C<j.length;)if(hn=_M(this,j),hn==wf){yt==4&&(this.s=4,At(14),f=!1),uo(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Ow){this.s=4,At(15),uo(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else uo(this.i,this.l,hn,null),Cf(this,hn);if(Fw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||j.length!=0||this.h.h||(this.s=1,At(16),f=!1),this.o=this.o&&f,!f)uo(this.i,this.l,j,"[Invalid Chunked Response]"),mi(this),Ys(this);else if(0<j.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),xf(mt),mt.M=!0,At(11))}}else uo(this.i,this.l,j,null),Cf(this,j);yt==4&&mi(this),this.o&&!this.J&&(yt==4?u0(this.j,this):(this.o=!1,eu(this)))}else FM(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),mi(this),Ys(this)}}}catch{}finally{}};function Fw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _M(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?wf:(f=Number(d.substring(f,g)),isNaN(f)?Ow:(g+=1,g+f>d.length?wf:(d=d.slice(g,g+f),c.C=g+f,d)))}Or.prototype.cancel=function(){this.J=!0,mi(this)};function eu(c){c.S=Date.now()+c.I,Vw(c,c.I)}function Vw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ks(m(c.ba,c),d)}function If(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Or.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(yM(this.i,this.A),this.L!=2&&(Ws(),At(17)),mi(this),this.s=2,Ys(this)):Vw(this,this.S-c)};function Ys(c){c.j.G==0||c.J||u0(c.j,c)}function mi(c){If(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,bw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Cf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Df(f.h,c))){if(!c.K&&Df(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)cu(f),su(f);else break e;Af(f),At(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ks(m(f.Za,f),6e3));if(1>=Uw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else vi(f,11)}else if((c.K||f.g==c)&&cu(f),!G(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let be=D[d];if(f.T=be[0],be=be[1],f.G==2)if(be[0]=="c"){f.K=be[1],f.ia=be[2];let mt=be[3];mt!=null&&(f.la=mt,f.j.info("VER="+f.la));let yt=be[4];yt!=null&&(f.Aa=yt,f.j.info("SVER="+f.Aa));let fo=be[5];fo!=null&&typeof fo=="number"&&0<fo&&(g=1.5*fo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let hn=c.g;if(hn){let lu=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lu){var R=g.h;R.g||lu.indexOf("spdy")==-1&&lu.indexOf("quic")==-1&&lu.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(bf(R,R.h),R.h=null))}if(g.D){let Mf=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Mf&&(g.ya=Mf,Le(g.I,g.D,Mf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var j=c;if(g.qa=h0(g,g.J?g.ia:null,g.W),j.K){Bw(g.h,j);var Oe=j,ct=g.L;ct&&(Oe.I=ct),Oe.B&&(If(Oe),eu(Oe)),g.g=j}else a0(g);0<f.i.length&&au(f)}else be[0]!="stop"&&be[0]!="close"||vi(f,7);else f.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?vi(f,7):Sf(f):be[0]!="noop"&&f.l&&f.l.ta(be),f.v=0)}}Ws(4)}catch{}}var wM=class{constructor(c,d){this.g=c,this.map=d}};function Lw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Uw(c){return c.h?1:c.g?c.g.size:0}function Df(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function bf(c,d){c.g?c.g.add(d):c.h=d}function Bw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Lw.prototype.cancel=function(){if(this.i=$w(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function $w(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function EM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function IM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function zw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=IM(c),g=EM(c),D=g.length,R=0;R<D;R++)d.call(void 0,g[R],f&&f[R],c)}var Hw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var R=c[f].substring(0,g);D=c[f].substring(g+1)}else R=c[f];d(R,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function yi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yi){this.h=c.h,tu(this,c.j),this.o=c.o,this.g=c.g,nu(this,c.s),this.l=c.l;var d=c.i,f=new Xs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),qw(this,f),this.m=c.m}else c&&(d=String(c).match(Hw))?(this.h=!1,tu(this,d[1]||"",!0),this.o=Zs(d[2]||""),this.g=Zs(d[3]||"",!0),nu(this,d[4]),this.l=Zs(d[5]||"",!0),qw(this,d[6]||"",!0),this.m=Zs(d[7]||"")):(this.h=!1,this.i=new Xs(null,this.h))}yi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Js(d,Gw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Js(d,Gw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Js(f,f.charAt(0)=="/"?TM:bM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Js(f,AM)),c.join("")};function nr(c){return new yi(c)}function tu(c,d,f){c.j=f?Zs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function nu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function qw(c,d,f){d instanceof Xs?(c.i=d,xM(c.i,c.h)):(f||(d=Js(d,SM)),c.i=new Xs(d,c.h))}function Le(c,d,f){c.i.set(d,f)}function ru(c){return Le(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Zs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Js(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,DM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function DM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Gw=/[#\/\?@]/g,bM=/[#\?:]/g,TM=/[#\?]/g,SM=/[#\?@]/g,AM=/#/g;function Xs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function kr(c){c.g||(c.g=new Map,c.h=0,c.i&&CM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Xs.prototype,n.add=function(c,d){kr(this),this.i=null,c=lo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Ww(c,d){kr(c),d=lo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Kw(c,d){return kr(c),d=lo(c,d),c.g.has(d)}n.forEach=function(c,d){kr(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)},n.na=function(){kr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=c[g];for(let R=0;R<D.length;R++)f.push(d[g])}return f},n.V=function(c){kr(this);let d=[];if(typeof c=="string")Kw(this,c)&&(d=d.concat(this.g.get(lo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return kr(this),this.i=null,c=lo(this,c),Kw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Qw(c,d,f){Ww(c,d),0<f.length&&(c.i=null,c.g.set(lo(c,d),P(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let R=encodeURIComponent(String(g)),j=this.V(g);for(g=0;g<j.length;g++){var D=R;j[g]!==""&&(D+="="+encodeURIComponent(String(j[g]))),c.push(D)}}return this.i=c.join("&")};function lo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function xM(c,d){d&&!c.j&&(kr(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(Ww(this,g),Qw(this,D,f))},c)),c.j=d}function MM(c,d){let f=new Qs;if(a.Image){let g=new Image;g.onload=v(Fr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(Fr,f,"TestLoadImage: error",!1,d,g),g.onabort=v(Fr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(Fr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function RM(c,d){let f=new Qs,g=new AbortController,D=setTimeout(()=>{g.abort(),Fr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(R=>{clearTimeout(D),R.ok?Fr(f,"TestPingServer: ok",!0,d):Fr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Fr(f,"TestPingServer: error",!1,d)})}function Fr(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function PM(){this.g=new pM}function NM(c,d,f){let g=f||"";try{zw(c,function(D,R){let j=D;l(D)&&(j=gf(D)),d.push(g+R+"="+encodeURIComponent(j))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function ea(c){this.l=c.Ub||null,this.j=c.eb||!1}x(ea,mf),ea.prototype.g=function(){return new iu(this.l,this.j)},ea.prototype.i=function(c){return function(){return c}}({});function iu(c,d){gt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(iu,gt),n=iu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,na(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,na(this)),this.g&&(this.readyState=3,na(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ta(this):na(this),this.readyState==3&&Yw(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ta(this))},n.Qa=function(c){this.g&&(this.response=c,ta(this))},n.ga=function(){this.g&&ta(this)};function ta(c){c.readyState=4,c.l=null,c.j=null,c.v=null,na(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function na(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zw(c){let d="";return re(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Tf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Zw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Le(c,d,f))}function We(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(We,gt);var OM=/^https?$/i,kM=["POST","PUT"];n=We.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_f.g(),this.v=this.o?Tw(this.o):Tw(_f),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){Jw(this,R);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())f.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kM,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,j]of f)this.g.setRequestHeader(R,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{t0(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){Jw(this,R)}};function Jw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Xw(c),ou(c)}function Xw(c){c.A||(c.A=!0,St(c,"complete"),St(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,St(this,"complete"),St(this,"abort"),ou(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ou(this,!0)),We.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?e0(this):this.bb())},n.bb=function(){e0(this)};function e0(c){if(c.h&&typeof s<"u"&&(!c.v[1]||rr(c)!=4||c.Z()!=2)){if(c.u&&rr(c)==4)Iw(c.Ea,0,c);else if(St(c,"readystatechange"),rr(c)==4){c.h=!1;try{let j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=j===0){var D=String(c.D).match(Hw)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!OM.test(D?D.toLowerCase():"")}f=g}if(f)St(c,"complete"),St(c,"success");else{c.m=6;try{var R=2<rr(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",Xw(c)}}finally{ou(c)}}}}function ou(c,d){if(c.g){t0(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||St(c,"ready");try{f.onreadystatechange=g}catch{}}}function t0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function rr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),fM(d)}};function n0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function FM(c){let d={};c=(c.g&&2<=rr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(G(c[g]))continue;var f=C(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[D]||[];d[D]=R,R.push(f)}E(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function r0(c){this.Aa=0,this.i=[],this.j=new Qs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ra("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ra("baseRetryDelayMs",5e3,c),this.cb=ra("retryDelaySeedMs",1e4,c),this.Wa=ra("forwardChannelMaxRetries",2,c),this.wa=ra("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Lw(c&&c.concurrentRequestLimit),this.Da=new PM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=r0.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){At(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=h0(this,null,this.W),au(this)};function Sf(c){if(i0(c),c.G==3){var d=c.U++,f=nr(c.I);if(Le(f,"SID",c.K),Le(f,"RID",d),Le(f,"TYPE","terminate"),ia(c,f),d=new Or(c,c.j,d),d.L=2,d.v=ru(nr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=f0(d.j,null),d.g.ea(d.v)),d.F=Date.now(),eu(d)}d0(c)}function su(c){c.g&&(xf(c),c.g.cancel(),c.g=null)}function i0(c){su(c),c.u&&(a.clearTimeout(c.u),c.u=null),cu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function au(c){if(!jw(c.h)&&!c.s){c.s=!0;var d=c.Ga;Bs||mw(),$s||(Bs(),$s=!0),sf.add(d,c),c.B=0}}function VM(c,d){return Uw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ks(m(c.Ga,c,d),l0(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new Or(this,this.j,c),R=this.o;if(this.S&&(R?(R=y(R),I(R,this.S)):R=this.S),this.m!==null||this.O||(D.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=s0(this,D,d),f=nr(this.I),Le(f,"RID",c),Le(f,"CVER",22),this.D&&Le(f,"X-HTTP-Session-Id",this.D),ia(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(Zw(R)))+"&"+d:this.m&&Tf(f,this.m,R)),bf(this.h,D),this.Ua&&Le(f,"TYPE","init"),this.P?(Le(f,"$req",d),Le(f,"SID","null"),D.T=!0,Ef(D,f,null)):Ef(D,f,d),this.G=2}}else this.G==3&&(c?o0(this,c):this.i.length==0||jw(this.h)||o0(this))};function o0(c,d){var f;d?f=d.l:f=c.U++;let g=nr(c.I);Le(g,"SID",c.K),Le(g,"RID",f),Le(g,"AID",c.T),ia(c,g),c.m&&c.o&&Tf(g,c.m,c.o),f=new Or(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=s0(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),bf(c.h,f),Ef(f,g,d)}function ia(c,d){c.H&&re(c.H,function(f,g){Le(d,g,f)}),c.l&&zw({},function(f,g){Le(d,g,f)})}function s0(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let R=-1;for(;;){let j=["count="+f];R==-1?0<f?(R=D[0].g,j.push("ofs="+R)):R=0:j.push("ofs="+R);let Oe=!0;for(let ct=0;ct<f;ct++){let be=D[ct].g,mt=D[ct].map;if(be-=R,0>be)R=Math.max(0,D[ct].g-100),Oe=!1;else try{NM(mt,j,"req"+be+"_")}catch{g&&g(mt)}}if(Oe){g=j.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function a0(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Bs||mw(),$s||(Bs(),$s=!0),sf.add(d,c),c.v=0}}function Af(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ks(m(c.Fa,c),l0(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,c0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ks(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),su(this),c0(this))};function xf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function c0(c){c.g=new Or(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=nr(c.qa);Le(d,"RID","rpc"),Le(d,"SID",c.K),Le(d,"AID",c.T),Le(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Le(d,"TO",c.ja),Le(d,"TYPE","xmlhttp"),ia(c,d),c.m&&c.o&&Tf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ru(nr(d)),f.m=null,f.P=!0,kw(f,c)}n.Za=function(){this.C!=null&&(this.C=null,su(this),Af(this),At(19))};function cu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function u0(c,d){var f=null;if(c.g==d){cu(c),xf(c),c.g=null;var g=2}else if(Df(c.h,d))f=d.D,Bw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=Zc(),St(g,new Rw(g,f)),au(c)}else a0(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&VM(c,d)||g==2&&Af(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:vi(c,5);break;case 4:vi(c,10);break;case 3:vi(c,6);break;default:vi(c,2)}}}function l0(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function vi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let D=!g;g=new yi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||tu(g,"https"),ru(g),D?MM(g.toString(),f):RM(g.toString(),f)}else At(2);c.G=0,c.l&&c.l.sa(d),d0(c),i0(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function d0(c){if(c.G=0,c.ka=[],c.l){let d=$w(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function h0(c,d,f){var g=f instanceof yi?nr(f):new yi(f);if(g.g!="")d&&(g.g=d+"."+g.g),nu(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var R=new yi(null);g&&tu(R,g),d&&(R.g=d),D&&nu(R,D),f&&(R.l=f),g=R}return f=c.D,d=c.ya,f&&d&&Le(g,f,d),Le(g,"VER",c.la),ia(c,g),g}function f0(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new We(new ea({eb:f})):new We(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function p0(){}n=p0.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function uu(){}uu.prototype.g=function(c,d){return new $t(c,d)};function $t(c,d){gt.call(this),this.g=new r0(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!G(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ho(this)}x($t,gt),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){Sf(this.g)},$t.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=gf(c),c=f);d.i.push(new wM(d.Ya++,c)),d.G==3&&au(d)},$t.prototype.N=function(){this.g.l=null,delete this.j,Sf(this.g),delete this.g,$t.aa.N.call(this)};function g0(c){yf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}x(g0,yf);function m0(){vf.call(this),this.status=1}x(m0,vf);function ho(c){this.g=c}x(ho,p0),ho.prototype.ua=function(){St(this.g,"a")},ho.prototype.ta=function(c){St(this.g,new g0(c))},ho.prototype.sa=function(c){St(this.g,new m0)},ho.prototype.ra=function(){St(this.g,"b")},uu.prototype.createWebChannel=uu.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,ey=Dr.createWebChannelTransport=function(){return new uu},Xm=Dr.getStatEventTarget=function(){return Zc()},Jm=Dr.Event=gi,Td=Dr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jc.NO_ERROR=0,Jc.TIMEOUT=8,Jc.HTTP_ERROR=6,za=Dr.ErrorCode=Jc,Pw.COMPLETE="complete",Zm=Dr.EventType=Pw,Sw.EventType=Gs,Gs.OPEN="a",Gs.CLOSE="b",Gs.ERROR="c",Gs.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Xo=Dr.WebChannel=Sw,vL=Dr.FetchXmlHttpFactory=ea,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,Ym=Dr.XhrIo=We}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});var Yb="@firebase/firestore";var Dt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");var ys="10.14.0";var Qi=new hu("@firebase/firestore");function Ha(){return Qi.logLevel}function Q(n,...e){if(Qi.logLevel<=or.DEBUG){let t=e.map(Lv);Qi.debug(`Firestore (${ys}): ${n}`,...t)}}function Tr(n,...e){if(Qi.logLevel<=or.ERROR){let t=e.map(Lv);Qi.error(`Firestore (${ys}): ${n}`,...t)}}function Za(n,...e){if(Qi.logLevel<=or.WARN){let t=e.map(Lv);Qi.warn(`Firestore (${ys}): ${n}`,...t)}}function Lv(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function te(n="Unexpected state"){let e=`FIRESTORE (${ys}) INTERNAL ASSERTION FAILED: `+n;throw Tr(e),new Error(e)}function Pe(n,e){n||te()}function ae(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=class extends D0{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var br=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var oy=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},sy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Dt.UNAUTHENTICATED))}shutdown(){}};var ay=class{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Pe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new br;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new br,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>L(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new br)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string"),new oy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new Dt(e)}},cy=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},uy=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new cy(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ly=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},dy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Pe(this.o===void 0);let r=o=>{o.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pe(typeof t.token=="string"),this.R=t.token,new ly(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function wL(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Rd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=wL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Te(n,e){return n<e?-1:n>e?1:0}function ss(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var ft=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new K(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new K(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new K(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ce=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new ft(0,0))}static max(){return new n(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Pd=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&te(),r===void 0?r=e.length-t:r>e.length-t&&te(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ge=class n extends Pd{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new K(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},EL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yt=class n extends Pd{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return EL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new K(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new K(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var X=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ge.fromString(e))}static fromName(e){return new n(Ge.fromString(e).popFirst(5))}static empty(){return new n(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ge(e.slice()))}};var hy=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};hy.UNKNOWN_ID=-1;function IL(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new ft(t+1,0):new ft(t,r));return new Yi(i,X.empty(),e)}function CL(n){return new Yi(n.readTime,n.key,-1)}var Yi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ce.min(),X.empty(),-1)}static max(){return new n(ce.max(),X.empty(),-1)}};function DL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=X.comparator(n.documentKey,e.documentKey),t!==0?t:Te(n.largestBatchId,e.largestBatchId))}var bL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function hc(n){return L(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==bL)throw n;Q("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function TL(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fc(n){return n.name==="IndexedDbTransactionError"}var PT=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function sh(n){return n==null}function Ja(n){return n===0&&1/n==-1/0}function SL(n){return typeof n=="number"&&Number.isInteger(n)&&!Ja(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var AL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],U6=[...AL,"documentOverlays"],xL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ML=xL,RL=[...ML,"indexConfiguration","indexState","indexEntries"];var B6=[...RL,"globals"];function Zb(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function NT(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Qe=class n{constructor(e,t){this.comparator=e,this.root=t||Wn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rs(this.root,e,this.comparator,!1)}getReverseIterator(){return new rs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rs(this.root,e,this.comparator,!0)}},rs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Wn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();let e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}};Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var bt=class n{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nd(this.data.getIterator())}getIteratorFrom(e){return new Nd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Nd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Gn=class n{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new n([])}unionWith(e){let t=new bt(Yt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ss(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Od=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Tt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Od("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tt.EMPTY_BYTE_STRING=new Tt("");var PL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(n){if(Pe(!!n),typeof n=="string"){let e=0,t=PL.exec(n);if(Pe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(n.seconds),nanos:He(n.nanos)}}function He(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ii(n){return typeof n=="string"?Tt.fromBase64String(n):Tt.fromUint8Array(n)}function jv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Uv(n){let e=n.mapValue.fields.__previous_value__;return jv(e)?Uv(e):e}function Xa(n){let e=Sr(n.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}var py=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},kd=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Sd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jv(n)?4:kT(n)?9007199254740991:OT(n)?10:11:te()}function Yn(n,e){if(n===e)return!0;let t=Zi(n);if(t!==Zi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xa(n).isEqual(Xa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Sr(i.timestampValue),a=Sr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return ii(i.bytesValue).isEqual(ii(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return He(i.geoPointValue.latitude)===He(o.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return He(i.integerValue)===He(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=He(i.doubleValue),a=He(o.doubleValue);return s===a?Ja(s)===Ja(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ss(n.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Zb(s)!==Zb(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Yn(s[u],a[u])))return!1;return!0}(n,e);default:return te()}}function ec(n,e){return(n.values||[]).find(t=>Yn(t,e))!==void 0}function as(n,e){if(n===e)return 0;let t=Zi(n),r=Zi(e);if(t!==r)return Te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Te(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=He(o.integerValue||o.doubleValue),u=He(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return Jb(n.timestampValue,e.timestampValue);case 4:return Jb(Xa(n),Xa(e));case 5:return Te(n.stringValue,e.stringValue);case 6:return function(o,s){let a=ii(o),u=ii(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Te(a[l],u[l]);if(h!==0)return h}return Te(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Te(He(o.latitude),He(s.latitude));return a!==0?a:Te(He(o.longitude),He(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Xb(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,x=(u=m.value)===null||u===void 0?void 0:u.arrayValue,P=Te(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=x?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:Xb(v,x)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Sd.mapValue&&s===Sd.mapValue)return 0;if(o===Sd.mapValue)return 1;if(s===Sd.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Te(u[p],h[p]);if(m!==0)return m;let v=as(a[u[p]],l[h[p]]);if(v!==0)return v}return Te(u.length,h.length)}(n.mapValue,e.mapValue);default:throw te()}}function Jb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Te(n,e);let t=Sr(n),r=Sr(e),i=Te(t.seconds,r.seconds);return i!==0?i:Te(t.nanos,r.nanos)}function Xb(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=as(t[i],r[i]);if(o)return o}return Te(t.length,r.length)}function cs(n){return gy(n)}function gy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Sr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ii(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return X.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=gy(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${gy(t.fields[s])}`;return i+"}"}(n.mapValue):te()}function eT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function my(n){return!!n&&"integerValue"in n}function Bv(n){return!!n&&"arrayValue"in n}function tT(n){return!!n&&"nullValue"in n}function nT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xd(n){return!!n&&"mapValue"in n}function OT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ga(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return vs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ga(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ga(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Cn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!xd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ga(t)}setAll(e){let t=Yt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Ga(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());xd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];xd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){vs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Ga(this.value))}};function FT(n){let e=[];return vs(n.fields,(t,r)=>{let i=new Yt([t]);if(xd(r)){let o=FT(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Gn(e)}var Dn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ce.min(),ce.min(),ce.min(),Cn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ce.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ce.min(),ce.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ce.min(),ce.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var us=class{constructor(e,t){this.position=e,this.inclusive=t}};function rT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=X.comparator(X.fromName(s.referenceValue),t.key):r=as(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function iT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yn(n.position[t],e.position[t]))return!1;return!0}var ls=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function NL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Fd=class{},et=class n extends Fd{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new vy(e,t,r):t==="array-contains"?new Ey(e,r):t==="in"?new Iy(e,r):t==="not-in"?new Cy(e,r):t==="array-contains-any"?new Dy(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new _y(e,r):new wy(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(as(t,this.value)):t!==null&&Zi(this.value)===Zi(t)&&this.matchesComparison(as(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},bn=class n extends Fd{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return VT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function VT(n){return n.op==="and"}function LT(n){return OL(n)&&VT(n)}function OL(n){for(let e of n.filters)if(e instanceof bn)return!1;return!0}function yy(n){if(n instanceof et)return n.field.canonicalString()+n.op.toString()+cs(n.value);if(LT(n))return n.filters.map(e=>yy(e)).join(",");{let e=n.filters.map(t=>yy(t)).join(",");return`${n.op}(${e})`}}function jT(n,e){return n instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&Yn(r.value,i.value)}(n,e):n instanceof bn?function(r,i){return i instanceof bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&jT(s,i.filters[a]),!0):!1}(n,e):void te()}function UT(n){return n instanceof et?function(t){return`${t.field.canonicalString()} ${t.op} ${cs(t.value)}`}(n):n instanceof bn?function(t){return t.op.toString()+" {"+t.getFilters().map(UT).join(" ,")+"}"}(n):"Filter"}var vy=class extends et{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){let t=X.comparator(e.key,this.key);return this.matchesComparison(t)}},_y=class extends et{constructor(e,t){super(e,"in",t),this.keys=BT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},wy=class extends et{constructor(e,t){super(e,"not-in",t),this.keys=BT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function BT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>X.fromName(r.referenceValue))}var Ey=class extends et{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Bv(t)&&ec(t.arrayValue,this.value)}},Iy=class extends et{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&ec(this.value.arrayValue,t)}},Cy=class extends et{constructor(e,t){super(e,"not-in",t)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!ec(this.value.arrayValue,t)}},Dy=class extends et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Bv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ec(this.value.arrayValue,r))}};var by=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function oT(n,e=null,t=[],r=[],i=null,o=null,s=null){return new by(n,e,t,r,i,o,s)}function $v(n){let e=ae(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>yy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cs(r)).join(",")),e.ue=t}return e.ue}function zv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iT(n.startAt,e.startAt)&&iT(n.endAt,e.endAt)}function Ty(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ji=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function kL(n,e,t,r,i,o,s,a){return new Ji(n,e,t,r,i,o,s,a)}function Hv(n){return new Ji(n)}function sT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $T(n){return n.collectionGroup!==null}function Wa(n){let e=ae(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new bt(Yt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ls(o,r))}),t.has(Yt.keyField().canonicalString())||e.ce.push(new ls(Yt.keyField(),r))}return e.ce}function Kn(n){let e=ae(n);return e.le||(e.le=FL(e,Wa(n))),e.le}function FL(n,e){if(n.limitType==="F")return oT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ls(i.field,o)});let t=n.endAt?new us(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new us(n.startAt.position,n.startAt.inclusive):null;return oT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Sy(n,e){let t=n.filters.concat([e]);return new Ji(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ay(n,e,t){return new Ji(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ah(n,e){return zv(Kn(n),Kn(e))&&n.limitType===e.limitType}function zT(n){return`${$v(Kn(n))}|lt:${n.limitType}`}function es(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>UT(i)).join(", ")}]`),sh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>cs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>cs(i)).join(",")),`Target(${r})`}(Kn(n))}; limitType=${n.limitType})`}function ch(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):X.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Wa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=rT(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Wa(r),i)||r.endAt&&!function(s,a,u){let l=rT(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Wa(r),i))}(n,e)}function VL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HT(n){return(e,t)=>{let r=!1;for(let i of Wa(n)){let o=LL(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function LL(n,e,t){let r=n.field.isKeyField()?X.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?as(u,l):te()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}var oi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return NT(this.inner)}size(){return this.innerSize}};var jL=new Qe(X.comparator);function Ar(){return jL}var qT=new Qe(X.comparator);function qa(...n){let e=qT;for(let t of n)e=e.insert(t.key,t);return e}function GT(n){let e=qT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Gi(){return Ka()}function WT(){return Ka()}function Ka(){return new oi(n=>n.toString(),(n,e)=>n.isEqual(e))}var UL=new Qe(X.comparator),BL=new bt(X.comparator);function ve(...n){let e=BL;for(let t of n)e=e.add(t);return e}var $L=new bt(Te);function zL(){return $L}function qv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ja(e)?"-0":e}}function KT(n){return{integerValue:""+n}}function HL(n,e){return SL(e)?KT(e):qv(n,e)}var ds=class{constructor(){this._=void 0}};function qL(n,e,t){return n instanceof hs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jv(o)&&(o=Uv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Xi?YT(n,e):n instanceof eo?ZT(n,e):function(i,o){let s=QT(i,o),a=aT(s)+aT(i.Pe);return my(s)&&my(i.Pe)?KT(a):qv(i.serializer,a)}(n,e)}function GL(n,e,t){return n instanceof Xi?YT(n,e):n instanceof eo?ZT(n,e):t}function QT(n,e){return n instanceof fs?function(r){return my(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var hs=class extends ds{},Xi=class extends ds{constructor(e){super(),this.elements=e}};function YT(n,e){let t=JT(e);for(let r of n.elements)t.some(i=>Yn(i,r))||t.push(r);return{arrayValue:{values:t}}}var eo=class extends ds{constructor(e){super(),this.elements=e}};function ZT(n,e){let t=JT(e);for(let r of n.elements)t=t.filter(i=>!Yn(i,r));return{arrayValue:{values:t}}}var fs=class extends ds{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function aT(n){return He(n.integerValue||n.doubleValue)}function JT(n){return Bv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function WL(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Xi&&i instanceof Xi||r instanceof eo&&i instanceof eo?ss(r.elements,i.elements,Yn):r instanceof fs&&i instanceof fs?Yn(r.Pe,i.Pe):r instanceof hs&&i instanceof hs}(n.transform,e.transform)}var xy=class{constructor(e,t){this.version=e,this.transformResults=t}},ni=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Md(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ps=class{};function XT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new tc(n.key,ni.none()):new to(n.key,n.data,ni.none());{let t=n.data,r=Cn.empty(),i=new bt(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new xr(n.key,r,new Gn(i.toArray()),ni.none())}}function KL(n,e,t){n instanceof to?function(i,o,s){let a=i.value.clone(),u=uT(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof xr?function(i,o,s){if(!Md(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=uT(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(eS(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Qa(n,e,t,r){return n instanceof to?function(o,s,a,u){if(!Md(o.precondition,s))return a;let l=o.value.clone(),h=lT(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof xr?function(o,s,a,u){if(!Md(o.precondition,s))return a;let l=lT(o.fieldTransforms,u,s),h=s.data;return h.setAll(eS(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Md(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function QL(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=QT(r.transform,i||null);o!=null&&(t===null&&(t=Cn.empty()),t.set(r.field,o))}return t||null}function cT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ss(r,i,(o,s)=>WL(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var to=class extends ps{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},xr=class extends ps{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function eS(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function uT(n,e,t){let r=new Map;Pe(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,GL(s,a,t[i]))}return r}function lT(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,qL(o,s,e))}return r}var tc=class extends ps{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},My=class extends ps{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ry=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&KL(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Qa(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Qa(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=WT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=XT(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ve())}isEqual(e){return this.batchId===e.batchId&&ss(this.mutations,e.mutations,(t,r)=>cT(t,r))&&ss(this.baseMutations,e.baseMutations,(t,r)=>cT(t,r))}},Py=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Pe(e.mutations.length===r.length);let i=function(){return UL}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Ny=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Oy=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Je,De;function YL(n){switch(n){default:return te();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function tS(n){if(n===void 0)return Tr("GRPC error has no .code"),O.UNKNOWN;switch(n){case Je.OK:return O.OK;case Je.CANCELLED:return O.CANCELLED;case Je.UNKNOWN:return O.UNKNOWN;case Je.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Je.INTERNAL:return O.INTERNAL;case Je.UNAVAILABLE:return O.UNAVAILABLE;case Je.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Je.NOT_FOUND:return O.NOT_FOUND;case Je.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Je.ABORTED:return O.ABORTED;case Je.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Je.DATA_LOSS:return O.DATA_LOSS;default:return te()}}(De=Je||(Je={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";var dT=null;function ZL(){return new TextEncoder}var JL=new ti([4294967295,4294967295],0);function hT(n){let e=ZL().encode(n),t=new Qm;return t.update(e),new Uint8Array(t.digest())}function fT(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ti([t,r],0),new ti([i,o],0)]}var ky=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Wi(`Invalid padding: ${t}`);if(r<0)throw new Wi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Wi(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ti.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(ti.fromNumber(r)));return i.compare(JL)===1&&(i=new ti([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=hT(e),[r,i]=fT(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=hT(e),[r,i]=fT(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Wi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Vd=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ce.min(),i,new Qe(Te),Ar(),ve())}},nc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ve(),ve(),ve())}};var is=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Ld=class{constructor(e,t){this.targetId=e,this.me=t}},jd=class{constructor(e,t,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Ud=class{constructor(){this.fe=0,this.ge=gT(),this.pe=Tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),t=ve(),r=ve();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:te()}}),new nc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=gT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Fy=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ar(),this.qe=pT(),this.Qe=new Qe(Te)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(Ty(o))if(r===0){let s=new X(o.path);this.Ue(t,s,Dn.newNoDocument(s,ce.min()))}else Pe(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}dT?.et(function(h,p,m,v,x){var P,M,F,G,V,J;let me={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},re=p.unchangedNames;return re&&(me.bloomFilter={applied:x===0,hashCount:(P=re?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(G=(F=(M=re?.bits)===null||M===void 0?void 0:M.bitmap)===null||F===void 0?void 0:F.length)!==null&&G!==void 0?G:0,padding:(J=(V=re?.bits)===null||V===void 0?void 0:V.padding)!==null&&J!==void 0?J:0,mightContain:E=>{var y;return(y=v?.mightContain(E))!==null&&y!==void 0&&y}}),me}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=ii(r).toUint8Array()}catch(u){if(u instanceof Od)return Za("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new ky(s,i,o)}catch(u){return Za(u instanceof Wi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Ty(a.target)){let u=new X(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Dn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=ve();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Vd(e,t,this.Qe,this.ke,r);return this.ke=Ar(),this.qe=pT(),this.Qe=new Qe(Te),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Ud,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new bt(Te),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||Q("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ud),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function pT(){return new Qe(X.comparator)}function gT(){return new Qe(X.comparator)}var XL={asc:"ASCENDING",desc:"DESCENDING"},e2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t2={and:"AND",or:"OR"},Vy=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Ly(n,e){return n.useProto3Json||sh(e)?e:{value:e}}function Bd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function n2(n,e){return Bd(n,e.toTimestamp())}function Qn(n){return Pe(!!n),ce.fromTimestamp(function(t){let r=Sr(t);return new ft(r.seconds,r.nanos)}(n))}function Gv(n,e){return jy(n,e).canonicalString()}function jy(n,e){let t=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function rS(n){let e=Ge.fromString(n);return Pe(cS(e)),e}function Uy(n,e){return Gv(n.databaseId,e.path)}function ty(n,e){let t=rS(e);if(t.get(1)!==n.databaseId.projectId)throw new K(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new K(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(oS(t))}function iS(n,e){return Gv(n.databaseId,e)}function r2(n){let e=rS(n);return e.length===4?Ge.emptyPath():oS(e)}function By(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oS(n){return Pe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function mT(n,e,t){return{name:Uy(n,e),fields:t.value.mapValue.fields}}function i2(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Pe(h===void 0||typeof h=="string"),Tt.fromBase64String(h||"")):(Pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Tt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:tS(l.code);return new K(h,l.message||"")}(s);t=new jd(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ty(n,r.document.name),o=Qn(r.document.updateTime),s=r.document.createTime?Qn(r.document.createTime):ce.min(),a=new Cn({mapValue:{fields:r.document.fields}}),u=Dn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new is(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ty(n,r.document),o=r.readTime?Qn(r.readTime):ce.min(),s=Dn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new is([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ty(n,r.document),o=r.removedTargetIds||[];t=new is([],o,i,null)}else{if(!("filter"in e))return te();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Oy(i,o),a=r.targetId;t=new Ld(a,s)}}return t}function o2(n,e){let t;if(e instanceof to)t={update:mT(n,e.key,e.value)};else if(e instanceof tc)t={delete:Uy(n,e.key)};else if(e instanceof xr)t={update:mT(n,e.key,e.data),updateMask:p2(e.fieldMask)};else{if(!(e instanceof My))return te();t={verify:Uy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof hs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof eo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fs)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw te()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:n2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:te()}(n,e.precondition)),t}function s2(n,e){return n&&n.length>0?(Pe(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Qn(i.updateTime):Qn(o);return s.isEqual(ce.min())&&(s=Qn(o)),new xy(s,i.transformResults||[])}(t,e))):[]}function a2(n,e){return{documents:[iS(n,e.path)]}}function c2(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=iS(n,i);let o=function(l){if(l.length!==0)return aS(bn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ts(m.field),direction:d2(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Ly(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function u2(n){let e=r2(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Pe(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let m=sS(p);return m instanceof bn&&LT(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(m=>function(x){return new ls(ns(x.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,sh(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new us(v,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new us(v,m)}(t.endAt)),kL(e,i,s,o,a,"F",u,l)}function l2(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ns(t.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ns(t.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ns(t.unaryFilter.field);return et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ns(t.unaryFilter.field);return et.create(s,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(n):n.fieldFilter!==void 0?function(t){return et.create(ns(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return bn.create(t.compositeFilter.filters.map(r=>sS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(t.compositeFilter.op))}(n):te()}function d2(n){return XL[n]}function h2(n){return e2[n]}function f2(n){return t2[n]}function ts(n){return{fieldPath:n.canonicalString()}}function ns(n){return Yt.fromServerFormat(n.fieldPath)}function aS(n){return n instanceof et?function(t){if(t.op==="=="){if(nT(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NAN"}};if(tT(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nT(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NOT_NAN"}};if(tT(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(t.field),op:h2(t.op),value:t.value}}}(n):n instanceof bn?function(t){let r=t.getFilters().map(i=>aS(i));return r.length===1?r[0]:{compositeFilter:{op:f2(t.op),filters:r}}}(n):te()}function p2(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var rc=class n{constructor(e,t,r,i,o=ce.min(),s=ce.min(),a=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var $y=class{constructor(e){this.ct=e}};function g2(n){let e=u2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ay(e,e.limit,"L"):e}var $d=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(He(e.integerValue));else if("doubleValue"in e){let r=He(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Ja(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Sr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(ii(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?kT(e)?this.dt(t,Number.MAX_SAFE_INTEGER):OT(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):te()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(He(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),X.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};$d.vt=new $d;var zy=class{constructor(){this.un=new Hy}addToCollectionParentIndex(e,t){return this.un.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(Yi.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},Hy=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new bt(Ge.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(Ge.comparator)).toArray()}};var z6=new Uint8Array(0);var qn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(41943040,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);var ic=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var qy=class{constructor(){this.changes=new oi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Gy=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Wy=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Qa(r.mutation,i,Gn.empty(),ft.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ve()){let i=Gi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=qa();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Gi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ve()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ar(),s=Ka(),a=function(){return Ka()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof xr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Qa(h.mutation,l,h.mutation.getFieldMask(),ft.now())):s.set(l.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new Gy(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Ka(),i=new Qe((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Gn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ve()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=WT();h.forEach(m=>{if(!o.has(m)){let v=XT(t.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$T(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):k.resolve(Gi()),a=-1,u=o;return s.next(l=>k.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ve())).next(h=>({batchId:a,changes:GT(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(r=>{let i=qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=qa();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,u=>{let l=function(p,m){return new Ji(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Dn.newInvalidDocument(h)))});let a=qa();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Qa(h.mutation,l,Gn.empty(),ft.now()),ch(t,l)&&(a=a.insert(u,l))}),a})}};var Ky=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return k.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Qn(i.createTime)}}(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:g2(i.bundledQuery),readTime:Qn(i.readTime)}}(t)),k.resolve()}};var Qy=class{constructor(){this.overlays=new Qe(X.comparator),this.Ir=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Gi();return k.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),k.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){let i=Gi(),o=t.length+1,s=new X(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Qe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Gi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Gi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Ny(t,r));let o=this.Ir.get(t);o===void 0&&(o=ve(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var Yy=class{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var oc=class{constructor(){this.Tr=new bt(Xe.Er),this.dr=new bt(Xe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Xe(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Xe(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new X(new Ge([])),r=new Xe(t,e),i=new Xe(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new X(new Ge([])),r=new Xe(t,e),i=new Xe(t,e+1),o=ve();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Xe(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Xe=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return X.comparator(e.key,t.key)||Te(e.wr,t.wr)}static Ar(e,t){return Te(e.wr,t.wr)||X.comparator(e.key,t.key)}};var Zy=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new bt(Xe.Er)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ry(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Xe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,t){return k.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Xe(t,0),i=new Xe(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bt(Te);return t.forEach(i=>{let o=new Xe(i,0),s=new Xe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),k.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;X.isDocumentKey(o)||(o=o.child(""));let s=new Xe(new X(o),0),a=new bt(Te);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),k.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Pe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return k.forEach(t.mutations,i=>{let o=new Xe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Xe(t,0),i=this.br.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Jy=class{constructor(e){this.Mr=e,this.docs=function(){return new Qe(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let r=Ar();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Dn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ar(),s=t.path,a=new X(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||DL(CL(h),r)<=0||(i.has(h.key)||ch(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,t,r,i){te()}Or(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Xy(this)}getSize(e){return k.resolve(this.size)}},Xy=class extends qy{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var ev=class{constructor(e){this.persistence=e,this.Nr=new oi(t=>$v(t),zv),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new oc,this.targetCount=0,this.kr=ic.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),k.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new ic(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.Kn(t),k.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.Br.containsKey(t))}};var tv=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new PT(0),this.Kr=!1,this.Kr=!0,this.$r=new Yy,this.referenceDelegate=e(this),this.Ur=new ev(this),this.indexManager=new zy,this.remoteDocumentCache=function(i){return new Jy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new $y(t),this.Gr=new Ky(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Qy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Zy(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){Q("MemoryPersistence","Starting transaction:",e);let i=new nv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return k.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},nv=class extends fy{constructor(e){super(),this.currentSequenceNumber=e}},rv=class n{constructor(e){this.persistence=e,this.Jr=new oc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),k.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Xr,r=>{let i=X.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,ce.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return k.or([()=>k.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var iv=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ve(),i=ve();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var ov=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var sv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return C0()?8:TL(I0())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new ov;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Ha()<=or.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",es(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),k.resolve()):(Ha()<=or.DEBUG&&Q("QueryEngine","Query:",es(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ha()<=or.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",es(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(t))):k.resolve())}Yi(e,t){if(sT(t))return k.resolve(null);let r=Kn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Ay(t,null,"F"),r=Kn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ve(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,a);return this.ns(t,l,s,u.readTime)?this.Yi(e,Ay(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return sT(t)||i.isEqual(ce.min())?k.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?k.resolve(null):(Ha()<=or.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),es(t)),this.rs(e,s,t,IL(i,-1)).next(a=>a))})}ts(e,t){let r=new bt(HT(e));return t.forEach((i,o)=>{ch(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return Ha()<=or.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",es(t)),this.Ji.getDocumentsMatchingQuery(e,t,Yi.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var av=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Qe(Te),this._s=new oi(o=>$v(o),zv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function m2(n,e,t,r){return new av(n,e,t,r)}function uS(n,e){return L(this,null,function*(){let t=ae(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ve();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function y2(n,e){let t=ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=k.resolve();return m.forEach(x=>{v=v.next(()=>h.getEntry(u,x)).next(P=>{let M=l.docVersions.get(x);Pe(M!==null),P.version.compareTo(M)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ve();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function lS(n){let e=ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function v2(n,e){let t=ae(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Tt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(P,M,F){return P.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,v,h)&&a.push(t.Ur.updateTargetData(o,v))});let u=Ar(),l=ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(_2(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ce.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.os=i,o))}function _2(n,e,t){let r=ve(),i=ve();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ar();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ce.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function w2(n,e){let t=ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function E2(n,e){let t=ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new rc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function cv(n,e,t){return L(this,null,function*(){let r=ae(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!fc(s))throw s;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function yT(n,e,t){let r=ae(n),i=ce.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ae(u),m=p._s.get(h);return m!==void 0?k.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,Kn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:ce.min(),t?o:ve())).next(a=>(I2(r,VL(e),a),{documents:a,Ts:o})))}function I2(n,e,t){let r=n.us.get(e)||ce.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var zd=class{constructor(){this.activeTargetIds=zL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var uv=class{constructor(){this.so=new zd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new zd,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var lv=class{_o(e){}shutdown(){}};var Hd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ad=null;function ny(){return Ad===null?Ad=function(){return 268435456+Math.round(2147483648*Math.random())}():Ad++,"0x"+Ad.toString(16)}var C2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var dv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ct="WebChannelConnection",hv=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=ny(),u=this.xo(t,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,u,l,i).then(h=>(Q("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Za("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ys}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=C2[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=ny();return new Promise((s,a)=>{let u=new Ym;u.setWithCredentials(!0),u.listenOnce(Zm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case za.NO_ERROR:let h=u.getResponseJson();Q(Ct,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case za.TIMEOUT:Q(Ct,`RPC '${e}' ${o} timed out`),a(new K(O.DEADLINE_EXCEEDED,"Request time out"));break;case za.HTTP_ERROR:let p=u.getStatus();if(Q(Ct,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let x=function(M){let F=M.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(F)>=0?F:O.UNKNOWN}(v.status);a(new K(x,v.message))}else a(new K(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new K(O.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{Q(Ct,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);Q(Ct,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=ny(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ey(),a=Xm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");Q(Ct,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,v=!1,x=new dv({Io:M=>{v?Q(Ct,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(Q(Ct,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),Q(Ct,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},To:()=>p.close()}),P=(M,F,G)=>{M.listen(F,V=>{try{G(V)}catch(J){setTimeout(()=>{throw J},0)}})};return P(p,Xo.EventType.OPEN,()=>{v||(Q(Ct,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),P(p,Xo.EventType.CLOSE,()=>{v||(v=!0,Q(Ct,`RPC '${e}' stream ${i} transport closed`),x.So())}),P(p,Xo.EventType.ERROR,M=>{v||(v=!0,Za(Ct,`RPC '${e}' stream ${i} transport errored:`,M),x.So(new K(O.UNAVAILABLE,"The operation could not be completed")))}),P(p,Xo.EventType.MESSAGE,M=>{var F;if(!v){let G=M.data[0];Pe(!!G);let V=G,J=V.error||((F=V[0])===null||F===void 0?void 0:F.error);if(J){Q(Ct,`RPC '${e}' stream ${i} received error:`,J);let me=J.status,re=function(w){let I=Je[w];if(I!==void 0)return tS(I)}(me),E=J.message;re===void 0&&(re=O.INTERNAL,E="Unknown error status: "+me+" with message "+J.message),v=!0,x.So(new K(re,E)),p.close()}else Q(Ct,`RPC '${e}' stream ${i} received:`,G),x.bo(G)}}),P(a,Jm.STAT_EVENT,M=>{M.stat===Td.PROXY?Q(Ct,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Td.NOPROXY&&Q(Ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}};function ry(){return typeof document<"u"?document:null}function uh(n){return new Vy(n,!0)}var qd=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Gd=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qd(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return L(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return L(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return L(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(Tr(t.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new K(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>L(this,null,function*(){this.state=0,this.start()}))}I_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},fv=class extends Gd{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=i2(this.serializer,e),r=function(o){if(!("targetChange"in o))return ce.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?Qn(s.readTime):ce.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=By(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=Ty(u)?{documents:a2(o,u)}:{query:c2(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=nS(o,s.resumeToken);let l=Ly(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ce.min())>0){a.readTime=Bd(o,s.snapshotVersion.toTimestamp());let l=Ly(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=l2(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=By(this.serializer),t.removeTarget=e,this.a_(t)}},pv=class extends Gd{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=s2(e.writeResults,e.commitTime),r=Qn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=By(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>o2(this.serializer,r))};this.a_(t)}};var gv=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new K(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,jy(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(O.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,jy(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},mv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Tr(t),this.D_=!1):Q("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var yv=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>L(this,null,function*(){ro(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return L(this,null,function*(){let l=ae(u);l.L_.add(4),yield pc(l),l.q_.set("Unknown"),l.L_.delete(4),yield lh(l)})}(this))}))}),this.q_=new mv(r,i)}};function lh(n){return L(this,null,function*(){if(ro(n))for(let e of n.B_)yield e(!0)})}function pc(n){return L(this,null,function*(){for(let e of n.B_)yield e(!1)})}function dS(n,e){let t=ae(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Yv(t)?Qv(t):_s(t).r_()&&Kv(t,e))}function Wv(n,e){let t=ae(n),r=_s(t);t.N_.delete(e),r.r_()&&hS(t,e),t.N_.size===0&&(r.r_()?r.o_():ro(t)&&t.q_.set("Unknown"))}function Kv(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_s(n).A_(e)}function hS(n,e){n.Q_.xe(e),_s(n).R_(e)}function Qv(n){n.Q_=new Fy({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),_s(n).start(),n.q_.v_()}function Yv(n){return ro(n)&&!_s(n).n_()&&n.N_.size>0}function ro(n){return ae(n).L_.size===0}function fS(n){n.Q_=void 0}function D2(n){return L(this,null,function*(){n.q_.set("Online")})}function b2(n){return L(this,null,function*(){n.N_.forEach((e,t)=>{Kv(n,e)})})}function T2(n,e){return L(this,null,function*(){fS(n),Yv(n)?(n.q_.M_(e),Qv(n)):n.q_.set("Unknown")})}function S2(n,e,t){return L(this,null,function*(){if(n.q_.set("Online"),e instanceof jd&&e.state===2&&e.cause)try{yield function(i,o){return L(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Wd(n,r)}else if(e instanceof is?n.Q_.Ke(e):e instanceof Ld?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ce.min()))try{let r=yield lS(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Tt.EMPTY_BYTE_STRING,h.snapshotVersion)),hS(o,u);let p=new rc(h.target,u,l,h.sequenceNumber);Kv(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),yield Wd(n,r)}})}function Wd(n,e,t){return L(this,null,function*(){if(!fc(e))throw e;n.L_.add(1),yield pc(n),n.q_.set("Offline"),t||(t=()=>lS(n.localStore)),n.asyncQueue.enqueueRetryable(()=>L(this,null,function*(){Q("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield lh(n)}))})}function pS(n,e){return e().catch(t=>Wd(n,t,e))}function dh(n){return L(this,null,function*(){let e=ae(n),t=si(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;A2(e);)try{let i=yield w2(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,x2(e,i)}catch(i){yield Wd(e,i)}gS(e)&&mS(e)})}function A2(n){return ro(n)&&n.O_.length<10}function x2(n,e){n.O_.push(e);let t=si(n);t.r_()&&t.V_&&t.m_(e.mutations)}function gS(n){return ro(n)&&!si(n).n_()&&n.O_.length>0}function mS(n){si(n).start()}function M2(n){return L(this,null,function*(){si(n).p_()})}function R2(n){return L(this,null,function*(){let e=si(n);for(let t of n.O_)e.m_(t.mutations)})}function P2(n,e,t){return L(this,null,function*(){let r=n.O_.shift(),i=Py.from(r,e,t);yield pS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield dh(n)})}function N2(n,e){return L(this,null,function*(){e&&si(n).V_&&(yield function(r,i){return L(this,null,function*(){if(function(s){return YL(s)&&s!==O.ABORTED}(i.code)){let o=r.O_.shift();si(r).s_(),yield pS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield dh(r)}})}(n,e)),gS(n)&&mS(n)})}function vT(n,e){return L(this,null,function*(){let t=ae(n);t.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");let r=ro(t);t.L_.add(3),yield pc(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield lh(t)})}function O2(n,e){return L(this,null,function*(){let t=ae(n);e?(t.L_.delete(2),yield lh(t)):e||(t.L_.add(2),yield pc(t),t.q_.set("Unknown"))})}function _s(n){return n.K_||(n.K_=function(t,r,i){let o=ae(t);return o.w_(),new fv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:D2.bind(null,n),Ro:b2.bind(null,n),mo:T2.bind(null,n),d_:S2.bind(null,n)}),n.B_.push(e=>L(this,null,function*(){e?(n.K_.s_(),Yv(n)?Qv(n):n.q_.set("Unknown")):(yield n.K_.stop(),fS(n))}))),n.K_}function si(n){return n.U_||(n.U_=function(t,r,i){let o=ae(t);return o.w_(),new pv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:M2.bind(null,n),mo:N2.bind(null,n),f_:R2.bind(null,n),g_:P2.bind(null,n)}),n.B_.push(e=>L(this,null,function*(){e?(n.U_.s_(),yield dh(n)):(yield n.U_.stop(),n.O_.length>0&&(Q("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var vv=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Zv(n,e){if(Tr("AsyncQueue",`${e}: ${n}`),fc(n))return new K(O.UNAVAILABLE,`${e}: ${n}`);throw n}var Kd=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||X.comparator(t.key,r.key):(t,r)=>X.comparator(t.key,r.key),this.keyedMap=qa(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Qd=class{constructor(){this.W_=new Qe(X.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):te():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},gs=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Kd.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var _v=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},wv=class{constructor(){this.queries=_T(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ae(t),o=i.queries;i.queries=_T(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new K(O.ABORTED,"Firestore shutting down"))}};function _T(){return new oi(n=>zT(n),ah)}function k2(n,e){return L(this,null,function*(){let t=ae(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new _v,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Zv(s,`Initialization of query '${es(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&Jv(t)})}function F2(n,e){return L(this,null,function*(){let t=ae(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function V2(n,e){let t=ae(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Jv(t)}function L2(n,e,t){let r=ae(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function Jv(n){n.Y_.forEach(e=>{e.next()})}var Ev,wT;(wT=Ev||(Ev={})).ea="default",wT.Cache="cache";var Iv=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new gs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ev.Cache}};var Yd=class{constructor(e){this.key=e}},Zd=class{constructor(e){this.key=e}},Cv=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ve(),this.mutatedKeys=ve(),this.Aa=HT(e),this.Ra=new Kd(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Qd,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=ch(this.query,p)?p:null,x=!!m&&this.mutatedKeys.has(m.key),P=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),M=!1;m&&v?m.data.isEqual(v.data)?x!==P&&(r.track({type:3,doc:v}),M=!0):this.ga(m,v)||(r.track({type:2,doc:v}),M=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),M=!0):m&&!v&&(r.track({type:1,doc:m}),M=!0,(u||l)&&(a=!0)),M&&(v?(s=s.add(v),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(v,x){let P=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return P(v)-P(x)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new gs(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Qd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Zd(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Yd(r))}),t}ba(e){this.Ta=e.Ts,this.da=ve();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return gs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Dv=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},bv=class{constructor(e){this.key=e,this.va=!1}},Tv=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new oi(a=>zT(a),ah),this.Ma=new Map,this.xa=new Set,this.Oa=new Qe(X.comparator),this.Na=new Map,this.La=new oc,this.Ba={},this.ka=new Map,this.qa=ic.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function j2(n,e,t=!0){return L(this,null,function*(){let r=IS(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield yS(r,e,t,!0),i})}function U2(n,e){return L(this,null,function*(){let t=IS(n);yield yS(t,e,!0,!1)})}function yS(n,e,t,r){return L(this,null,function*(){let i=yield E2(n.localStore,Kn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield B2(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&dS(n.remoteStore,i),a})}function B2(n,e,t,r,i){return L(this,null,function*(){n.Ka=(p,m,v)=>function(P,M,F,G){return L(this,null,function*(){let V=M.view.ma(F);V.ns&&(V=yield yT(P.localStore,M.query,!1).then(({documents:E})=>M.view.ma(E,V)));let J=G&&G.targetChanges.get(M.targetId),me=G&&G.targetMismatches.get(M.targetId)!=null,re=M.view.applyChanges(V,P.isPrimaryClient,J,me);return IT(P,M.targetId,re.wa),re.snapshot})}(n,p,m,v);let o=yield yT(n.localStore,e,!0),s=new Cv(e,o.Ts),a=s.ma(o.documents),u=nc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);IT(n,t,l.wa);let h=new Dv(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function $2(n,e,t){return L(this,null,function*(){let r=ae(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!ah(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield cv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Wv(r.remoteStore,i.targetId),Sv(r,i.targetId)}).catch(hc))):(Sv(r,i.targetId),yield cv(r.localStore,i.targetId,!0))})}function z2(n,e){return L(this,null,function*(){let t=ae(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Wv(t.remoteStore,r.targetId))})}function H2(n,e,t){return L(this,null,function*(){let r=Z2(n);try{let i=yield function(s,a){let u=ae(s),l=ft.now(),h=a.reduce((v,x)=>v.add(x.key),ve()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let x=Ar(),P=ve();return u.cs.getEntries(v,h).next(M=>{x=M,x.forEach((F,G)=>{G.isValidDocument()||(P=P.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,x)).next(M=>{p=M;let F=[];for(let G of a){let V=QL(G,p.get(G.key).overlayedDocument);V!=null&&F.push(new xr(G.key,V,FT(V.value.mapValue),ni.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,F,a)}).next(M=>{m=M;let F=M.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(v,M.batchId,F)})}).then(()=>({batchId:m.batchId,changes:GT(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Qe(Te)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,t),yield gc(r,i.changes),yield dh(r.remoteStore)}catch(i){let o=Zv(i,"Failed to persist write");t.reject(o)}})}function vS(n,e){return L(this,null,function*(){let t=ae(n);try{let r=yield v2(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Pe(s.va):i.removedDocuments.size>0&&(Pe(s.va),s.va=!1))}),yield gc(t,r,e)}catch(r){yield hc(r)}})}function ET(n,e,t){let r=ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ae(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&Jv(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function q2(n,e,t){return L(this,null,function*(){let r=ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Qe(X.comparator);s=s.insert(o,Dn.newNoDocument(o,ce.min()));let a=ve().add(o),u=new Vd(ce.min(),new Map,new Qe(Te),s,a);yield vS(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Xv(r)}else yield cv(r.localStore,e,!1).then(()=>Sv(r,e,t)).catch(hc)})}function G2(n,e){return L(this,null,function*(){let t=ae(n),r=e.batch.batchId;try{let i=yield y2(t.localStore,e);wS(t,r,null),_S(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield gc(t,i)}catch(i){yield hc(i)}})}function W2(n,e,t){return L(this,null,function*(){let r=ae(n);try{let i=yield function(s,a){let u=ae(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Pe(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);wS(r,e,t),_S(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield gc(r,i)}catch(i){yield hc(i)}})}function _S(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function wS(n,e,t){let r=ae(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Sv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||ES(n,r)})}function ES(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Wv(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Xv(n))}function IT(n,e,t){for(let r of t)r instanceof Yd?(n.La.addReference(r.key,e),K2(n,r)):r instanceof Zd?(Q("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||ES(n,r.key)):te()}function K2(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(Q("SyncEngine","New document in limbo: "+t),n.xa.add(r),Xv(n))}function Xv(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new X(Ge.fromString(e)),r=n.qa.next();n.Na.set(r,new bv(t)),n.Oa=n.Oa.insert(t,r),dS(n.remoteStore,new rc(Kn(Hv(t.path)),r,"TargetPurposeLimboResolution",PT.oe))}}function gc(n,e,t){return L(this,null,function*(){let r=ae(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=iv.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return L(this,null,function*(){let h=ae(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,m=>k.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>k.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!fc(p))throw p;Q("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),x=v.snapshotVersion,P=v.withLastLimboFreeSnapshotVersion(x);h.os=h.os.insert(m,P)}}})}(r.localStore,o))})}function Q2(n,e){return L(this,null,function*(){let t=ae(n);if(!t.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());let r=yield uS(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new K(O.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield gc(t,r.hs)}})}function Y2(n,e){let t=ae(n),r=t.Na.get(e);if(r&&r.va)return ve().add(r.key);{let i=ve(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function IS(n){let e=ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q2.bind(null,e),e.Ca.d_=V2.bind(null,e.eventManager),e.Ca.$a=L2.bind(null,e.eventManager),e}function Z2(n){let e=ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W2.bind(null,e),e}var CT=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return L(this,null,function*(){this.serializer=uh(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return m2(this.persistence,new sv,t.initialUser,this.serializer)}Ga(t){return new tv(rv.Zr,this.serializer)}Wa(t){return new uv}terminate(){return L(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var J2=(()=>{class n{initialize(t,r){return L(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ET(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q2.bind(null,this.syncEngine),yield O2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new wv}()}createDatastore(t){let r=uh(t.databaseInfo.databaseId),i=function(s){return new hv(s)}(t.databaseInfo);return function(s,a,u,l){return new gv(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new yv(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>ET(this.syncEngine,r,0),function(){return Hd.D()?new Hd:new lv}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let m=new Tv(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return L(this,null,function*(){var t,r;yield function(o){return L(this,null,function*(){let s=ae(o);Q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield pc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Av=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var xv=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=Rd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>L(this,null,function*(){Q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>L(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Zv(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function iy(n,e){return L(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>L(this,null,function*(){r.isEqual(i)||(yield uS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function DT(n,e){return L(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield X2(n);Q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>vT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>vT(e.remoteStore,i)),n._onlineComponents=e})}function X2(n){return L(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield iy(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Za("Error using user provided cache. Falling back to memory cache: "+t),yield iy(n,new CT)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),yield iy(n,new CT);return n._offlineComponents})}function CS(n){return L(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),yield DT(n,n._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),yield DT(n,new J2))),n._onlineComponents})}function ej(n){return CS(n).then(e=>e.syncEngine)}function bT(n){return L(this,null,function*(){let e=yield CS(n),t=e.eventManager;return t.onListen=j2.bind(null,e.syncEngine),t.onUnlisten=$2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=U2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=z2.bind(null,e.syncEngine),t})}function DS(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var TT=new Map;function bS(n,e,t){if(!t)throw new K(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tj(n,e,t,r){if(e===!0&&r===!0)throw new K(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ST(n){if(!X.isDocumentKey(n))throw new K(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AT(n){if(X.isDocumentKey(n))throw new K(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":te()}function Ya(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new K(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=hh(n);throw new K(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Jd=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new K(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new K(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new K(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},sc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sy;switch(r.type){case"firstParty":return new uy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return L(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=TT.get(t);r&&(Q("ComponentProvider","Removing Datastore"),TT.delete(t),r.terminate())}(this),Promise.resolve()}};var ms=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Zt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ri=class n extends ms{constructor(e,t,r){super(e,t,Hv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new X(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function TS(n,e,...t){if(n=ir(n),bS("collection","path",e),n instanceof sc){let r=Ge.fromString(e,...t);return AT(r),new ri(n,null,r)}{if(!(n instanceof Zt||n instanceof ri))throw new K(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ge.fromString(e,...t));return AT(r),new ri(n.firestore,null,r)}}function e_(n,e,...t){if(n=ir(n),arguments.length===1&&(e=Rd.newId()),bS("doc","path",e),n instanceof sc){let r=Ge.fromString(e,...t);return ST(r),new Zt(n,null,new X(r))}{if(!(n instanceof Zt||n instanceof ri))throw new K(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ge.fromString(e,...t));return ST(r),new Zt(n.firestore,n instanceof ri?n.converter:null,new X(r))}}var Xd=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new qd(this,"async_queue_retry"),this.Vu=()=>{let r=ry();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=ry();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=ry();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new br;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return L(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!fc(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=vv.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&te()}verifyOperationInProgress(){}wu(){return L(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function xT(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var no=class extends sc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Xd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return L(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Xd(e),this._firestoreClient=void 0,yield e}})}};function SS(n){if(n._terminated)throw new K(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||nj(n),n._firestoreClient}function nj(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new py(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,DS(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new xv(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var ac=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Tt.fromBase64String(e))}catch(t){throw new K(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var cc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new K(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var eh=class{constructor(e){this._methodName=e}};var uc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new K(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new K(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var lc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var rj=/^__.*__$/,Mv=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,t,this.fieldTransforms):new to(e,this.data,t,this.fieldTransforms)}};function AS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}var Rv=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return th(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(AS(this.Cu)&&rj.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Pv=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||uh(e)}Qu(e,t,r,i=!1){return new Rv({Cu:e,methodName:t,qu:r,path:Yt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function xS(n){let e=n._freezeSettings(),t=uh(n._databaseId);return new Pv(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ij(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);PS("Data must be an object, but it was:",s,r);let a=MS(r,s),u,l;if(o.merge)u=new Gn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=sj(e,p,t);if(!s.contains(m))throw new K(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);cj(h,m)||h.push(m)}u=new Gn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Mv(new Cn(a),u,l)}function oj(n,e,t,r=!1){return t_(t,n.Qu(r?4:3,e))}function t_(n,e){if(RS(n=ir(n)))return PS("Unsupported field value:",e,n),MS(n,e);if(n instanceof eh)return function(r,i){if(!AS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=t_(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=ir(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ft.fromDate(r);return{timestampValue:Bd(i.serializer,o)}}if(r instanceof ft){let o=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bd(i.serializer,o)}}if(r instanceof uc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ac)return{bytesValue:nS(i.serializer,r._byteString)};if(r instanceof Zt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Gv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return qv(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${hh(r)}`)}(n,e)}function MS(n,e){let t={};return NT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(n,(r,i)=>{let o=t_(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function RS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ft||n instanceof uc||n instanceof ac||n instanceof Zt||n instanceof eh||n instanceof lc)}function PS(n,e,t){if(!RS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=hh(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function sj(n,e,t){if((e=ir(e))instanceof cc)return e._internalPath;if(typeof e=="string")return NS(n,e);throw th("Field path arguments must be of type string or ",n,!1,void 0,t)}var aj=new RegExp("[~\\*/\\[\\]]");function NS(n,e,t){if(e.search(aj)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cc(...e.split("."))._internalPath}catch{throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function th(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new K(O.INVALID_ARGUMENT,a+n+u)}function cj(n,e){return n.some(t=>t.isEqual(e))}var nh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Nv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(n_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Nv=class extends nh{data(){return super.data()}};function n_(n,e){return typeof e=="string"?NS(n,e):e instanceof cc?e._internalPath:e._delegate._internalPath}function uj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new K(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dc=class{},Ov=class extends dc{};function OS(n,e,...t){let r=[];e instanceof dc&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof kv).length,a=o.filter(u=>u instanceof rh).length;if(s>1||s>0&&a>0)throw new K(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var rh=class n extends Ov{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return FS(e._query,t),new ms(e.firestore,e.converter,Sy(e._query,t))}_parse(e){let t=xS(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){RT(p,h);let v=[];for(let x of p)v.push(MT(u,o,x));m={arrayValue:{values:v}}}else m=MT(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||RT(p,h),m=oj(a,s,p,h==="in"||h==="not-in");return et.create(l,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function kS(n,e,t){let r=e,i=n_("where",n);return rh._create(i,r,t)}var kv=class n extends dc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:bn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)FS(s,u),s=Sy(s,u)}(e._query,t),new ms(e.firestore,e.converter,Sy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function MT(n,e,t){if(typeof(t=ir(t))=="string"){if(t==="")throw new K(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$T(e)&&t.indexOf("/")!==-1)throw new K(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ge.fromString(t));if(!X.isDocumentKey(r))throw new K(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eT(n,new X(r))}if(t instanceof Zt)return eT(n,t._key);throw new K(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(t)}.`)}function RT(n,e){if(!Array.isArray(n)||n.length===0)throw new K(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FS(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new K(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Fv=class{convertValue(e,t="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return vs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>He(s.doubleValue));return new lc(o)}convertGeoPoint(e){return new uc(He(e.latitude),He(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Uv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Xa(e));default:return null}}convertTimestamp(e){let t=Sr(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ge.fromString(e);Pe(cS(r));let i=new kd(r.get(1),r.get(3)),o=new X(r.popFirst(5));return i.isEqual(t)||Tr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function lj(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ki=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ih=class extends nh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new os(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(n_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},os=class extends ih{data(e={}){return super.data(e)}},Vv=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ki(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new os(this._firestore,this._userDataWriter,r.key,r,new Ki(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new K(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new os(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ki(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new os(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ki(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:dj(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function dj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}var oh=class extends Fv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,t)}};function VS(n){return jS(Ya(n.firestore,no),[new tc(n._key,ni.none())])}function LS(n,e){let t=Ya(n.firestore,no),r=e_(n),i=lj(n.converter,e);return jS(t,[ij(xS(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ni.exists(!1))]).then(()=>r)}function r_(n,...e){var t,r,i;n=ir(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||xT(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(xT(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Zt)l=Ya(n.firestore,no),h=Hv(n._key.path),u={next:p=>{e[s]&&e[s](hj(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Ya(n,ms);l=Ya(p.firestore,no),h=p._query;let m=new oh(l);u={next:v=>{e[s]&&e[s](new Vv(l,m,p,v))},error:e[s+1],complete:e[s+2]},uj(n._query)}return function(m,v,x,P){let M=new Av(P),F=new Iv(v,M,x);return m.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return k2(yield bT(m),F)})),()=>{M.Za(),m.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return F2(yield bT(m),F)}))}}(SS(l),h,a,u)}function jS(n,e){return function(r,i){let o=new br;return r.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return H2(yield ej(r),i,o)})),o.promise}(SS(n),e)}function hj(n,e,t){let r=t.docs.get(e._key),i=new oh(n);return new ih(n,i,e._key,r,new Ki(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ys=i})(T0),sa(new oa("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new no(new ay(r.getProvider("auth-internal")),new dy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new K(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),tt(Yb,"4.7.3",e),tt(Yb,"4.7.3","esm2017")})();var fh=function(){return fh=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},fh.apply(this,arguments)};var gj={includeMetadataChanges:!1};function US(n,e){return e===void 0&&(e=gj),new oe(function(t){var r=r_(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function BS(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:fh(fh({},r),(t={},t[e.idField]=n.id,t))}function $S(n){return US(n,{includeMetadataChanges:!0}).pipe(ee(function(e){return e.docs}))}function zS(n,e){return e===void 0&&(e={}),$S(n).pipe(ee(function(t){return t.map(function(r){return BS(r,e)})}))}var ws=class{constructor(e){return e}},HS="firestore",i_=class{constructor(){return $a(HS)}};var qS=new $("angularfire2.firestore-instances");function mj(n,e){let t=Cd(HS,n,e);return t&&new ws(t)}var yj={provide:i_,deps:[[new _t,qS]]},vj={provide:ws,useFactory:mj,deps:[[new _t,qS],Cr]},GS=(()=>{class n{constructor(){tt("angularfire",Ut.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ot({type:n});static \u0275inj=it({providers:[vj,yj]})}return n})();var WS=ht(zS,!0);var KS=ht(LS,!0);var o_=ht(TS,!0);var QS=ht(VS,!0);var YS=ht(e_,!0);var ZS=ht(OS,!0);var JS=ht(kS,!0);var ph=class{id;produit;qte=0;constructor(e,t){this.produit=e,this.qte=t}};var ai=(()=>{class n{productCartSubject=new $e([]);constructor(){}addProductToCart(t){let r=this.productCartSubject.getValue(),i=r.find(o=>o.produit.id===t.id);i?i.qte++:r.push(new ph(t,1)),this.productCartSubject.next(r),console.log("Product added to cart:",r)}getAllCartProducts(){return this.productCartSubject.asObservable()}increaseQte(t){let r=this.productCartSubject.getValue(),i=r.find(o=>o.produit.id===t.id);i&&i.qte++,this.productCartSubject.next(r)}decreaseQte(t){let r=this.productCartSubject.getValue(),i=r.find(o=>o.produit.id===t.id);i&&(i.qte===1?this.removeProductFromCart(t):(i.qte--,this.productCartSubject.next(r)))}removeProductFromCart(t){let r=this.productCartSubject.getValue();r=r.filter(i=>i.produit.id!==t.id),this.productCartSubject.next(r)}removeAllProducts(){this.productCartSubject.getValue().forEach(r=>{this.removeProductFromCart(r.produit)}),this.productCartSubject.next([])}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Bt=(()=>{class n{firebaseauth=N(qi);user$=$b(this.firebaseauth);currentUserSig=Fi(void 0);getUserId(){return L(this,null,function*(){let t=yield this.firebaseauth.currentUser;return t?t.uid:null})}register(t,r,i){let o=zb(this.firebaseauth,t,i).then(s=>Wb(s.user,{displayName:r}));return de(o)}login(t,r){let i=qb(this.firebaseauth,t,r).then(()=>{});return de(i)}logout(){let t=Gb(this.firebaseauth);return de(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Es=(()=>{class n{panier;authService;orderSubject=new $e([]);constructor(t,r){this.panier=t,this.authService=r}fireStore=N(ws);allOrders=[];cart=[];createCommande(t,r){return L(this,null,function*(){let i=t.map(u=>({productId:u.produit.id,productName:u.produit.title,quantity:u.qte})),s={userid:yield this.authService.getUserId(),montant:r,dateCommande:new Date,details:i};console.log(s);let a=o_(this.fireStore,"orders");yield KS(a,s).then(()=>console.log("Commande created successfully!",s)).catch(u=>console.error("Error creating commande:",u))})}getCurrentCart(){this.panier.getAllCartProducts().subscribe(t=>{this.cart=t})}deleteOrder(t){let r=YS(this.fireStore,"orders",t);QS(r).then(()=>console.log("data deleted !")).catch(i=>console.log(i))}getAllOrdersByUserId(){return de(this.authService.getUserId()).pipe(Me(t=>{if(!t)return console.error("User ID is not available"),Y([]);let r=o_(this.fireStore,"orders"),i=ZS(r,JS("userid","==",t));return WS(i,{idField:"id"})}),Pn(t=>(console.error("Error fetching orders:",t),Y([]))))}static \u0275fac=function(r){return new(r||n)(z(ai),z(Bt))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ue="primary",Mc=Symbol("RouteTitle"),l_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ss(n){return new l_(n)}function _j(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function wj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zn(n[t],e[t]))return!1;return!0}function Zn(n,e){let t=n?d_(n):void 0,r=e?d_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!dA(n[i],e[i]))return!1;return!0}function d_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function dA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function hA(n){return n.length>0?n[n.length-1]:null}function ui(n){return tp(n)?n:ji(n)?de(Promise.resolve(n)):Y(n)}var Ej={exact:pA,subset:gA},fA={exact:Ij,subset:Cj,ignored:()=>!0};function tA(n,e,t){return Ej[t.paths](n.root,e.root,t.matrixParams)&&fA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Ij(n,e){return Zn(n,e)}function pA(n,e,t){if(!oo(n.segments,e.segments)||!vh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!pA(n.children[r],e.children[r],t))return!1;return!0}function Cj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>dA(n[t],e[t]))}function gA(n,e,t){return mA(n,e,e.segments,t)}function mA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!oo(i,t)||e.hasChildren()||!vh(i,t,r))}else if(n.segments.length===t.length){if(!oo(n.segments,t)||!vh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!gA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!oo(n.segments,i)||!vh(n.segments,i,r)||!n.children[ue]?!1:mA(n.children[ue],e,o,r)}}function vh(n,e,t){return e.every((r,i)=>fA[t](n[i].parameters,r.parameters))}var Rr=class{constructor(e=new xe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ss(this.queryParams),this._queryParamMap}toString(){return Tj.serialize(this)}},xe=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _h(this)}},io=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ss(this.parameters),this._parameterMap}toString(){return vA(this)}};function Dj(n,e){return oo(n,e)&&n.every((t,r)=>Zn(t.parameters,e[r].parameters))}function oo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function bj(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ue&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ue&&(t=t.concat(e(i,r)))}),t}var Rc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>new As,providedIn:"root"})}}return n})(),As=class{parse(e){let t=new f_(e);return new Rr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${mc(e.root,!0)}`,r=xj(e.queryParams),i=typeof e.fragment=="string"?`#${Sj(e.fragment)}`:"";return`${t}${r}${i}`}},Tj=new As;function _h(n){return n.segments.map(e=>vA(e)).join("/")}function mc(n,e){if(!n.hasChildren())return _h(n);if(e){let t=n.children[ue]?mc(n.children[ue],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ue&&r.push(`${i}:${mc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=bj(n,(r,i)=>i===ue?[mc(n.children[ue],!1)]:[`${i}:${mc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ue]!=null?`${_h(n)}/${t[0]}`:`${_h(n)}/(${t.join("//")})`}}function yA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mh(n){return yA(n).replace(/%3B/gi,";")}function Sj(n){return encodeURI(n)}function h_(n){return yA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wh(n){return decodeURIComponent(n)}function nA(n){return wh(n.replace(/\+/g,"%20"))}function vA(n){return`${h_(n.path)}${Aj(n.parameters)}`}function Aj(n){return Object.entries(n).map(([e,t])=>`;${h_(e)}=${h_(t)}`).join("")}function xj(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${mh(t)}=${mh(i)}`).join("&"):`${mh(t)}=${mh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Mj=/^[^\/()?;#]+/;function s_(n){let e=n.match(Mj);return e?e[0]:""}var Rj=/^[^\/()?;=#]+/;function Pj(n){let e=n.match(Rj);return e?e[0]:""}var Nj=/^[^=?&#]+/;function Oj(n){let e=n.match(Nj);return e?e[0]:""}var kj=/^[^&#]+/;function Fj(n){let e=n.match(kj);return e?e[0]:""}var f_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new xe(e,t)),r}parseSegment(){let e=s_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Z(4009,!1);return this.capture(e),new io(wh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Pj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=s_(this.remaining);i&&(r=i,this.capture(r))}e[wh(t)]=wh(r)}parseQueryParam(e){let t=Oj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Fj(this.remaining);s&&(r=s,this.capture(r))}let i=nA(t),o=nA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=s_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ue);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ue]:new xe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Z(4011,!1)}};function _A(n){return n.segments.length>0?new xe([],{[ue]:n}):n}function wA(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=wA(i);if(r===ue&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new xe(n.segments,e);return Vj(t)}function Vj(n){if(n.numberOfChildren===1&&n.children[ue]){let e=n.children[ue];return new xe(n.segments.concat(e.segments),e.children)}return n}function so(n){return n instanceof Rr}function Lj(n,e,t=null,r=null){let i=EA(n);return IA(i,e,t,r)}function EA(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new xe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=_A(r);return e??i}function IA(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return a_(i,i,i,t,r);let o=jj(e);if(o.toRoot())return a_(i,i,new xe([],{}),t,r);let s=Uj(o,i,n),a=s.processChildren?_c(s.segmentGroup,s.index,o.commands):DA(s.segmentGroup,s.index,o.commands);return a_(i,s.segmentGroup,a,t,r)}function Eh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ic(n){return typeof n=="object"&&n!=null&&n.outlets}function a_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=CA(n,e,t);let a=_A(wA(s));return new Rr(a,o,i)}function CA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=CA(o,e,t)}),new xe(n.segments,r)}var Ih=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Eh(r[0]))throw new Z(4003,!1);let i=r.find(Ic);if(i&&i!==hA(r))throw new Z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function jj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ih(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ih(t,e,r)}var Ds=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Uj(n,e,t){if(n.isAbsolute)return new Ds(e,!0,0);if(!t)return new Ds(e,!1,NaN);if(t.parent===null)return new Ds(t,!0,0);let r=Eh(n.commands[0])?0:1,i=t.segments.length-1+r;return Bj(t,i,n.numberOfDoubleDots)}function Bj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Z(4005,!1);i=r.segments.length}return new Ds(r,!1,i-o)}function $j(n){return Ic(n[0])?n[0].outlets:{[ue]:n}}function DA(n,e,t){if(n??=new xe([],{}),n.segments.length===0&&n.hasChildren())return _c(n,e,t);let r=zj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new xe(n.segments.slice(0,r.pathIndex),{});return o.children[ue]=new xe(n.segments.slice(r.pathIndex),n.children),_c(o,0,i)}else return r.match&&i.length===0?new xe(n.segments,{}):r.match&&!n.hasChildren()?p_(n,e,t):r.match?_c(n,0,i):p_(n,e,t)}function _c(n,e,t){if(t.length===0)return new xe(n.segments,{});{let r=$j(t),i={};if(Object.keys(r).some(o=>o!==ue)&&n.children[ue]&&n.numberOfChildren===1&&n.children[ue].segments.length===0){let o=_c(n.children[ue],e,t);return new xe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=DA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new xe(n.segments,i)}}function zj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ic(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!iA(u,l,s))return o;r+=2}else{if(!iA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function p_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ic(o)){let u=Hj(o.outlets);return new xe(r,u)}if(i===0&&Eh(t[0])){let u=n.segments[e];r.push(new io(u.path,rA(t[0]))),i++;continue}let s=Ic(o)?o.outlets[ue]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Eh(a)?(r.push(new io(s,rA(a))),i+=2):(r.push(new io(s,{})),i++)}return new xe(r,{})}function Hj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=p_(new xe([],{}),0,r))}),e}function rA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function iA(n,e,t){return n==t.path&&Zn(e,t.parameters)}var wc="imperative",at=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(at||{}),un=class{constructor(e,t){this.id=e,this.url=t}},xs=class extends un{constructor(e,t,r="imperative",i=null){super(e,t),this.type=at.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Sn=class extends un{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=at.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Xt||{}),Ch=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ch||{}),Mr=class extends un{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=at.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ci=class extends un{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=at.NavigationSkipped}},Cc=class extends un{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=at.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Dh=class extends un{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=at.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},g_=class extends un{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=at.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},m_=class extends un{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=at.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},y_=class extends un{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=at.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},v_=class extends un{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=at.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},__=class{constructor(e){this.route=e,this.type=at.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},w_=class{constructor(e){this.route=e,this.type=at.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},E_=class{constructor(e){this.snapshot=e,this.type=at.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},I_=class{constructor(e){this.snapshot=e,this.type=at.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},C_=class{constructor(e){this.snapshot=e,this.type=at.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},D_=class{constructor(e){this.snapshot=e,this.type=at.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bh=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=at.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Dc=class{},Ms=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function qj(n,e){return n.providers&&!n._injector&&(n._injector=id(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Tn(n){return n.outlet||ue}function Gj(n,e){let t=n.filter(r=>Tn(r)===e);return t.push(...n.filter(r=>Tn(r)!==e)),t}function Pc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var b_=class{get injector(){return Pc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Nc(this.rootInjector),this.attachRef=null}},Nc=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new b_(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(z(Nt))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Th=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=T_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=T_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=S_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return S_(e,this._root).map(t=>t.value)}};function T_(n,e){if(n===e.value)return e;for(let t of e.children){let r=T_(n,t);if(r)return r}return null}function S_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=S_(n,t);if(r.length)return r.unshift(e),r}return[]}var Jt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Cs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Sh=class extends Th{constructor(e,t){super(e),this.snapshot=t,F_(this,e)}toString(){return this.snapshot.toString()}};function bA(n){let e=Wj(n),t=new $e([new io("",{})]),r=new $e({}),i=new $e({}),o=new $e({}),s=new $e(""),a=new Jn(t,r,o,s,i,ue,n,e.root);return a.snapshot=e.root,new Sh(new Jt(a,[]),e)}function Wj(n){let e={},t={},r={},i="",o=new bs([],e,r,i,t,ue,n,null,{});return new xh("",new Jt(o,[]))}var Jn=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ee(l=>l[Mc]))??Y(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Ss(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Ss(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ah(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),i?.data),n._resolvedData)}:r={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},i&&SA(i)&&(r.resolve[Mc]=i.title),r}var bs=class{get title(){return this.data?.[Mc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ss(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ss(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},xh=class extends Th{constructor(e,t){super(t),this.url=e,F_(this,t)}toString(){return TA(this._root)}};function F_(n,e){e.value._routerState=n,e.children.forEach(t=>F_(n,t))}function TA(n){let e=n.children.length>0?` { ${n.children.map(TA).join(", ")} } `:"";return`${n.value}${e}`}function c_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Zn(e.params,t.params)||n.paramsSubject.next(t.params),wj(e.url,t.url)||n.urlSubject.next(t.url),Zn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function A_(n,e){let t=Zn(n.params,e.params)&&Dj(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||A_(n.parent,e.parent))}function SA(n){return typeof n.title=="string"||n.title===null}var V_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.parentContexts=N(Nc),this.location=N(Wr),this.changeDetector=N(Kr),this.inputBinder=N(Nh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Z(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Z(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new x_(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Fe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wn]})}}return n})(),x_=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Jn?this.route:e===Nc?this.childContexts:this.parent.get(e,t)}},Nh=new $(""),oA=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ur([r.queryParams,r.params,r.data]).pipe(Me(([o,s,a],u)=>(a=U(U(U({},o),s),a),u===0?Y(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=GD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function Kj(n,e,t){let r=bc(n,e._root,t?t._root:void 0);return new Sh(r,e)}function bc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Qj(n,e,t);return new Jt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>bc(n,a)),s}}let r=Yj(e.value),i=e.children.map(o=>bc(n,o));return new Jt(r,i)}}function Qj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return bc(n,r,i);return bc(n,r)})}function Yj(n){return new Jn(new $e(n.url),new $e(n.params),new $e(n.queryParams),new $e(n.fragment),new $e(n.data),n.outlet,n.component,n)}var Tc=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},AA="ngNavigationCancelingError";function Mh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=so(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=xA(!1,Xt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function xA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[AA]=!0,t.cancellationCode=e,t}function Zj(n){return MA(n)&&so(n.url)}function MA(n){return!!n&&n[AA]}var Jj=(n,e,t,r)=>ee(i=>(new M_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),M_=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),c_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Cs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Cs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Cs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Cs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new D_(o.value.snapshot))}),e.children.length&&this.forwardEvent(new I_(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(c_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),c_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Rh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ts=class{constructor(e,t){this.component=e,this.route=t}};function Xj(n,e,t){let r=n._root,i=e?e._root:null;return yc(r,i,t,[r.value])}function eU(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ps(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!JE(n)?n:e.get(n):r}function yc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Cs(e);return n.children.forEach(s=>{tU(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ec(a,t.getContext(s),i)),i}function tU(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=nU(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Rh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?yc(n,e,a?a.children:null,r,i):yc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ts(a.outlet.component,s))}else s&&Ec(e,a,i),i.canActivateChecks.push(new Rh(r)),o.component?yc(n,null,a?a.children:null,r,i):yc(n,null,t,r,i);return i}function nU(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!oo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!oo(n.url,e.url)||!Zn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!A_(n,e)||!Zn(n.queryParams,e.queryParams);case"paramsChange":default:return!A_(n,e)}}function Ec(n,e,t){let r=Cs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ec(s,e.children.getContext(o),t):Ec(s,null,t):Ec(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ts(e.outlet.component,i)):t.canDeactivateChecks.push(new Ts(null,i)):t.canDeactivateChecks.push(new Ts(null,i))}function Oc(n){return typeof n=="function"}function rU(n){return typeof n=="boolean"}function iU(n){return n&&Oc(n.canLoad)}function oU(n){return n&&Oc(n.canActivate)}function sU(n){return n&&Oc(n.canActivateChild)}function aU(n){return n&&Oc(n.canDeactivate)}function cU(n){return n&&Oc(n.canMatch)}function RA(n){return n instanceof cr||n?.name==="EmptyError"}var yh=Symbol("INITIAL_VALUE");function Rs(){return Me(n=>ur(n.map(e=>e.pipe(dr(1),Yu(yh)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===yh)return yh;if(t===!1||uU(t))return t}return!0}),ut(e=>e!==yh),dr(1)))}function uU(n){return so(n)||n instanceof Tc}function lU(n,e){return Ze(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Y(ye(U({},t),{guardsResult:!0})):dU(s,r,i,n).pipe(Ze(a=>a&&rU(a)?hU(r,o,n,e):Y(a)),ee(a=>ye(U({},t),{guardsResult:a})))})}function dU(n,e,t,r){return de(n).pipe(Ze(i=>yU(i.component,i.route,t,e,r)),qt(i=>i!==!0,!0))}function hU(n,e,t,r){return de(e).pipe(lr(i=>Do(pU(i.route.parent,r),fU(i.route,r),mU(n,i.path,t),gU(n,i.route,t))),qt(i=>i!==!0,!0))}function fU(n,e){return n!==null&&e&&e(new C_(n)),Y(!0)}function pU(n,e){return n!==null&&e&&e(new E_(n)),Y(!0)}function gU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(o=>Gu(()=>{let s=Pc(e)??t,a=Ps(o,s),u=oU(a)?a.canActivate(e,n):an(s,()=>a(e,n));return ui(u).pipe(qt())}));return Y(i).pipe(Rs())}function mU(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>eU(s)).filter(s=>s!==null).map(s=>Gu(()=>{let a=s.guards.map(u=>{let l=Pc(s.node)??t,h=Ps(u,l),p=sU(h)?h.canActivateChild(r,n):an(l,()=>h(r,n));return ui(p).pipe(qt())});return Y(a).pipe(Rs())}));return Y(o).pipe(Rs())}function yU(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Y(!0);let s=o.map(a=>{let u=Pc(e)??i,l=Ps(a,u),h=aU(l)?l.canDeactivate(n,e,t,r):an(u,()=>l(n,e,t,r));return ui(h).pipe(qt())});return Y(s).pipe(Rs())}function vU(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let o=i.map(s=>{let a=Ps(s,n),u=iU(a)?a.canLoad(e,t):an(n,()=>a(e,t));return ui(u)});return Y(o).pipe(Rs(),PA(r))}function PA(n){return Tu(Ye(e=>{if(typeof e!="boolean")throw Mh(n,e)}),ee(e=>e===!0))}function _U(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let o=i.map(s=>{let a=Ps(s,n),u=cU(a)?a.canMatch(e,t):an(n,()=>a(e,t));return ui(u)});return Y(o).pipe(Rs(),PA(r))}var Sc=class{constructor(e){this.segmentGroup=e||null}},Ac=class extends Error{constructor(e){super(),this.urlTree=e}};function Is(n){return Co(new Sc(n))}function wU(n){return Co(new Z(4e3,!1))}function EU(n){return Co(xA(!1,Xt.GuardRejected))}var R_=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[ue])return wU(`${e.redirectTo}`);i=i.children[ue]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:v,data:x,title:P}=i,M=an(o,()=>a({params:v,data:x,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:P}));if(M instanceof Rr)throw new Ac(M);t=M}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Ac(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Rr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new xe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Z(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},P_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IU(n,e,t,r,i){let o=NA(n,e,t);return o.matched?(r=qj(e,r),_U(r,e,t,i).pipe(ee(s=>s===!0?o:U({},P_)))):Y(o)}function NA(n,e,t){if(e.path==="**")return CU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},P_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||_j)(t,n,e);if(!i)return U({},P_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function CU(n){return{matched:!0,parameters:n.length>0?hA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function sA(n,e,t,r){return t.length>0&&TU(n,t,r)?{segmentGroup:new xe(e,bU(r,new xe(t,n.children))),slicedSegments:[]}:t.length===0&&SU(n,t,r)?{segmentGroup:new xe(n.segments,DU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xe(n.segments,n.children),slicedSegments:t}}function DU(n,e,t,r){let i={};for(let o of t)if(Oh(n,e,o)&&!r[Tn(o)]){let s=new xe([],{});i[Tn(o)]=s}return U(U({},r),i)}function bU(n,e){let t={};t[ue]=e;for(let r of n)if(r.path===""&&Tn(r)!==ue){let i=new xe([],{});t[Tn(r)]=i}return t}function TU(n,e,t){return t.some(r=>Oh(n,e,r)&&Tn(r)!==ue)}function SU(n,e,t){return t.some(r=>Oh(n,e,r))}function Oh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function AU(n,e,t){return e.length===0&&!n.children[t]}var N_=class{};function xU(n,e,t,r,i,o,s="emptyOnly"){return new O_(n,e,t,r,i,s,o).recognize()}var MU=31,O_=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new R_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Z(4002,`'${e.segmentGroup}'`)}recognize(){let e=sA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:t,rootSnapshot:r})=>{let i=new Jt(r,t),o=new xh("",i),s=Lj(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new bs([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ue,t).pipe(ee(r=>({children:r,rootSnapshot:t})),Pn(r=>{if(r instanceof Ac)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Sc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ee(s=>s instanceof Jt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return de(o).pipe(lr(s=>{let a=r.children[s],u=Gj(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Ku((s,a)=>(s.push(...a),s)),Vr(null),sp(),Ze(s=>{if(s===null)return Is(r);let a=OA(s);return RU(a),Y(a)}))}processSegment(e,t,r,i,o,s,a){return de(t).pipe(lr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Pn(l=>{if(l instanceof Sc)return Y(null);throw l}))),qt(u=>!!u),Pn(u=>{if(RA(u))return AU(r,i,o)?Y(new N_):Is(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Tn(r)!==s&&(s===ue||!Oh(i,o,r))?Is(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Is(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=NA(t,i,o);if(!u)return Is(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>MU&&(this.allowRedirects=!1));let v=new bs(o,l,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,aA(i),Tn(i),i.component??i._loadedComponent??null,i,cA(i)),x=Ah(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(x.params),v.data=Object.freeze(x.data);let P=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(Ze(M=>this.processSegment(e,r,t,M.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=IU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Me(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Me(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,x=new bs(m,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,aA(r),Tn(r),r.component??r._loadedComponent??null,r,cA(r)),P=Ah(x,s,this.paramsInheritanceStrategy);x.params=Object.freeze(P.params),x.data=Object.freeze(P.data);let{segmentGroup:M,slicedSegments:F}=sA(t,m,v,l);if(F.length===0&&M.hasChildren())return this.processChildren(h,l,M,x).pipe(ee(V=>new Jt(x,V)));if(l.length===0&&F.length===0)return Y(new Jt(x,[]));let G=Tn(r)===o;return this.processSegment(h,l,M,F,G?ue:o,!0,x).pipe(ee(V=>new Jt(x,V instanceof Jt?[V]:[])))}))):Is(t)))}getChildConfig(e,t,r){return t.children?Y({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Y({routes:t._loadedRoutes,injector:t._loadedInjector}):vU(e,t,r,this.urlSerializer).pipe(Ze(i=>i?this.configLoader.loadChildren(e,t).pipe(Ye(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):EU(t))):Y({routes:[],injector:e})}};function RU(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}function PU(n){let e=n.value.routeConfig;return e&&e.path===""}function OA(n){let e=[],t=new Set;for(let r of n){if(!PU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=OA(r.children);e.push(new Jt(r.value,i))}return e.filter(r=>!t.has(r))}function aA(n){return n.data||{}}function cA(n){return n.resolve||{}}function NU(n,e,t,r,i,o){return Ze(s=>xU(n,e,t,r,s.extractedUrl,i,o).pipe(ee(({state:a,tree:u})=>ye(U({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function OU(n,e){return Ze(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Y(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of kA(u))s.add(l);let a=0;return de(s).pipe(lr(u=>o.has(u)?kU(u,r,n,e):(u.data=Ah(u,u.parent,n).resolve,Y(void 0))),Ye(()=>a++),bo(1),Ze(u=>a===s.size?Y(t):xt))})}function kA(n){let e=n.children.map(t=>kA(t)).flat();return[n,...e]}function kU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!SA(i)&&(o[Mc]=i.title),FU(o,n,e,r).pipe(ee(s=>(n._resolvedData=s,n.data=Ah(n,n.parent,t).resolve,null)))}function FU(n,e,t,r){let i=d_(n);if(i.length===0)return Y({});let o={};return de(i).pipe(Ze(s=>VU(n[s],e,t,r).pipe(qt(),Ye(a=>{if(a instanceof Tc)throw Mh(new As,a);o[s]=a}))),bo(1),op(o),Pn(s=>RA(s)?xt:Co(s)))}function VU(n,e,t,r){let i=Pc(e)??r,o=Ps(n,i),s=o.resolve?o.resolve(e,t):an(i,()=>o(e,t));return ui(s)}function u_(n){return Me(e=>{let t=n(e);return t?de(t).pipe(ee(()=>e)):Y(e)})}var FA=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[Mc]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>N(LU),providedIn:"root"})}}return n})(),LU=(()=>{class n extends FA{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(z(Pb))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kc=new $("",{providedIn:"root",factory:()=>({})}),jU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Se({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ae],decls:1,vars:0,template:function(r,i){r&1&&W(0,"router-outlet")},dependencies:[V_],encapsulation:2})}}return n})();function L_(n){let e=n.children&&n.children.map(L_),t=e?ye(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=jU),t}var xc=new $(""),j_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(dd)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Y(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ui(t.loadComponent()).pipe(ee(VA),Ye(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ii(()=>{this.componentLoaders.delete(t)})),i=new _o(r,()=>new Be).pipe(vo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=UU(r,this.compiler,t,this.onLoadEndListener).pipe(Ii(()=>{this.childrenLoaders.delete(r)})),s=new _o(o,()=>new Be).pipe(vo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function UU(n,e,t,r){return ui(n.loadChildren()).pipe(ee(VA),Ze(i=>i instanceof Ia||Array.isArray(i)?Y(i):de(e.compileModuleAsync(i))),ee(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(xc,[],{optional:!0,self:!0}).flat()),{routes:s.map(L_),injector:o}}))}function BU(n){return n&&typeof n=="object"&&"default"in n}function VA(n){return BU(n)?n.default:n}var U_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>N($U),providedIn:"root"})}}return n})(),$U=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),LA=new $(""),jA=new $("");function zU(n,e,t){let r=n.get(jA),i=n.get(It);return n.get(we).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),HU(n))),{onViewTransitionCreated:u}=r;return u&&an(n,()=>u({transition:a,from:e,to:t})),s})}function HU(n){return new Promise(e=>{hm({read:()=>setTimeout(e)},{injector:n})})}var qU=new $(""),B_=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Be,this.transitionAbortSubject=new Be,this.configLoader=N(j_),this.environmentInjector=N(Nt),this.urlSerializer=N(Rc),this.rootContexts=N(Nc),this.location=N(Yo),this.inputBindingEnabled=N(Nh,{optional:!0})!==null,this.titleStrategy=N(FA),this.options=N(kc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(U_),this.createViewTransition=N(LA,{optional:!0}),this.navigationErrorHandler=N(qU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let t=i=>this.events.next(new __(i)),r=i=>this.events.next(new w_(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ye(U(U({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new $e({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:wc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ut(o=>o.id!==0),ee(o=>ye(U({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Me(o=>{let s=!1,a=!1;return Y(o).pipe(Me(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),xt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ye(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new ci(u.id,this.urlSerializer.serialize(u.rawUrl),p,Ch.IgnoredSameUrlNavigation)),u.resolve(!1),xt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Y(u).pipe(Me(p=>{let m=this.transitions?.getValue();return this.events.next(new xs(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?xt:Promise.resolve(p)}),NU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ye(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ye(U({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new Dh(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:v,restoredState:x,extras:P}=u,M=new xs(p,this.urlSerializer.serialize(m),v,x);this.events.next(M);let F=bA(this.rootComponentType).snapshot;return this.currentTransition=o=ye(U({},u),{targetSnapshot:F,urlAfterRedirects:m,extras:ye(U({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,Y(o)}else{let p="";return this.events.next(new ci(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Ch.IgnoredByUrlHandlingStrategy)),u.resolve(!1),xt}}),Ye(u=>{let l=new g_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ee(u=>(this.currentTransition=o=ye(U({},u),{guards:Xj(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),lU(this.environmentInjector,u=>this.events.next(u)),Ye(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Mh(this.urlSerializer,u.guardsResult);let l=new m_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),ut(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Xt.GuardRejected),!1)),u_(u=>{if(u.guards.canActivateChecks.length)return Y(u).pipe(Ye(l=>{let h=new y_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Me(l=>{let h=!1;return Y(l).pipe(OU(this.paramsInheritanceStrategy,this.environmentInjector),Ye({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Xt.NoDataFromResolver)}}))}),Ye(l=>{let h=new v_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),u_(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ye(m=>{h.component=m}),ee(()=>{})));for(let m of h.children)p.push(...l(m));return p};return ur(l(u.targetSnapshot.root)).pipe(Vr(null),dr(1))}),u_(()=>this.afterPreactivation()),Me(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?de(h).pipe(ee(()=>o)):Y(o)}),ee(u=>{let l=Kj(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ye(U({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ye(()=>{this.events.next(new Dc)}),Jj(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),dr(1),Ye({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),cp(this.transitionAbortSubject.pipe(Ye(u=>{throw u}))),Ii(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Pn(u=>{if(a=!0,MA(u))this.events.next(new Mr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),Zj(u)?this.events.next(new Ms(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Cc(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=an(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Tc){let{message:p,cancellationCode:m}=Mh(this.urlSerializer,h);this.events.next(new Mr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,m)),this.events.next(new Ms(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return xt}))}))}cancelNavigationTransition(t,r,i){let o=new Mr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function GU(n){return n!==wc}var WU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>N(KU),providedIn:"root"})}}return n})(),k_=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},KU=(()=>{class n extends k_{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})()}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),UA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>N(QU),providedIn:"root"})}}return n})(),QU=(()=>{class n extends UA{constructor(){super(...arguments),this.location=N(Yo),this.urlSerializer=N(Rc),this.options=N(kc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(U_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Rr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=bA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof xs)this.stateMemento=this.createStateMemento();else if(t instanceof ci)this.rawUrlTree=r.initialUrl;else if(t instanceof Dh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Dc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Mr&&(t.code===Xt.GuardRejected||t.code===Xt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Cc?this.restoreHistory(r,!0):t instanceof Sn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Rr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=U(U({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})()}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(vc||{});function BA(n,e){n.events.pipe(ut(t=>t instanceof Sn||t instanceof Mr||t instanceof Cc||t instanceof ci),ee(t=>t instanceof Sn||t instanceof ci?vc.COMPLETE:(t instanceof Mr?t.code===Xt.Redirect||t.code===Xt.SupersededByNewNavigation:!1)?vc.REDIRECTING:vc.FAILED),ut(t=>t!==vc.REDIRECTING),dr(1)).subscribe(()=>{e()})}function YU(n){throw n}var ZU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ne=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=N(cd),this.stateManager=N(UA),this.options=N(kc,{optional:!0})||{},this.pendingTasks=N(Gr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(B_),this.urlSerializer=N(Rc),this.location=N(Yo),this.urlHandlingStrategy=N(U_),this._events=new Be,this.errorHandler=this.options.errorHandler||YU,this.navigated=!1,this.routeReuseStrategy=N(WU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(xc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(Nh,{optional:!0}),this.eventsSubscription=new Ke,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Mr&&r.code!==Xt.Redirect&&r.code!==Xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Sn)this.navigated=!0;else if(r instanceof Ms){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||GU(i.source)},s);this.scheduleNavigation(a,wc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}eB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=U({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(L_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=EA(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return IA(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=so(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,wc,null,r)}navigate(t,r={skipLocationChange:!1}){return XU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=U({},ZU):r===!1?i=U({},JU):i=r,so(t))return tA(this.currentUrlTree,t,i);let o=this.parseUrl(t);return tA(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return BA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function XU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Z(4008,!1)}function eB(n){return!(n instanceof Dc)&&!(n instanceof Ms)}var ln=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Be,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Sn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(so(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:bC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:so(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(H(Ne),H(Jn),jg("tabindex"),H(En),H(Ft),H(Er))}}static{this.\u0275dir=Fe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Ce("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Go("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Qr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Qr],replaceUrl:[2,"replaceUrl","replaceUrl",Qr],routerLink:"routerLink"},standalone:!0,features:[lm,wn]})}}return n})(),Xn=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new qe,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Sn&&this.update()})}ngAfterContentInit(){Y(this.links.changes,Y(null)).pipe(Rn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=de(t).pipe(Rn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=tB(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(H(Ne),H(Ft),H(En),H(Kr),H(ln,8))}}static{this.\u0275dir=Fe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&RD(o,ln,5),r&2){let s;PD(s=ND())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[wn]})}}return n})();function tB(n){return!!n.paths}var Ph=class{};var nB=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ut(t=>t instanceof Sn),lr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=id(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return de(i).pipe(Rn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Y(null);let o=i.pipe(Ze(s=>s===null?Y(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return de([o,s]).pipe(Rn())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(z(Ne),z(dd),z(Nt),z(Ph),z(j_))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$A=new $(""),rB=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof xs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Sn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ci&&t.code===Ch.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof bh&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bh(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){jC()}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function $_(n,...e){return Kt([{provide:xc,multi:!0,useValue:n},[],{provide:Jn,useFactory:zA,deps:[Ne]},{provide:Ui,multi:!0,useFactory:HA},e.map(t=>t.\u0275providers)])}function zA(n){return n.routerState.root}function Fc(n,e){return{\u0275kind:n,\u0275providers:e}}function HA(){let n=N(dt);return e=>{let t=n.get(zn);if(e!==t.components[0])return;let r=n.get(Ne),i=n.get(qA);n.get(z_)===1&&r.initialNavigation(),n.get(GA,null,he.Optional)?.setUpPreloading(),n.get($A,null,he.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var qA=new $("",{factory:()=>new Be}),z_=new $("",{providedIn:"root",factory:()=>1});function iB(){return Fc(2,[{provide:z_,useValue:0},{provide:ud,multi:!0,deps:[dt],useFactory:e=>{let t=e.get(eb,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Ne),o=e.get(qA);BA(i,()=>{r(!0)}),e.get(B_).afterPreactivation=()=>(r(!0),o.closed?Y(void 0):o),i.initialNavigation()}))}}])}function oB(){return Fc(3,[{provide:ud,multi:!0,useFactory:()=>{let e=N(Ne);return()=>{e.setUpLocationChangeListener()}}},{provide:z_,useValue:2}])}var GA=new $("");function sB(n){return Fc(0,[{provide:GA,useExisting:nB},{provide:Ph,useExisting:n}])}function aB(){return Fc(8,[oA,{provide:Nh,useExisting:oA}])}function cB(n){let e=[{provide:LA,useValue:zU},{provide:jA,useValue:U({skipNextTransition:!!n?.skipInitialTransition},n)}];return Fc(9,e)}var uA=new $("ROUTER_FORROOT_GUARD"),uB=[Yo,{provide:Rc,useClass:As},Ne,Nc,{provide:Jn,useFactory:zA,deps:[Ne]},j_,[]],dn=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[uB,[],{provide:xc,multi:!0,useValue:t},{provide:uA,useFactory:fB,deps:[[Ne,new _t,new Dg]]},{provide:kc,useValue:r||{}},r?.useHash?dB():hB(),lB(),r?.preloadingStrategy?sB(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?pB(r):[],r?.bindToComponentInputs?aB().\u0275providers:[],r?.enableViewTransitions?cB().\u0275providers:[],gB()]}}static forChild(t){return{ngModule:n,providers:[{provide:xc,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(z(uA,8))}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=it({})}}return n})();function lB(){return{provide:$A,useFactory:()=>{let n=N(rb),e=N(we),t=N(kc),r=N(B_),i=N(Rc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new rB(i,r,n,e,t)}}}function dB(){return{provide:Er,useClass:nb}}function hB(){return{provide:Er,useClass:Dm}}function fB(n){return"guarded"}function pB(n){return[n.initialNavigation==="disabled"?oB().\u0275providers:[],n.initialNavigation==="enabledBlocking"?iB().\u0275providers:[]]}var lA=new $("");function gB(){return[{provide:lA,useFactory:HA},{provide:Ui,multi:!0,useExisting:lA}]}var WA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Se({type:n,selectors:[["app-pagenotfound"]],standalone:!0,features:[Ae],decls:4,vars:0,consts:[["routerLink","/","routerLinkActive","active"]],template:function(r,i){r&1&&(b(0,"p"),A(1," Go BACK HOME "),T(),b(2,"button",0),A(3,` Home
`),T())},dependencies:[ln,dn,Xn]})}return n})();var mB=()=>[1,2,3,4,5],yB=(n,e)=>({"fa-star":n,"fa-star-o":e});function vB(n,e){if(n&1&&W(0,"i",9),n&2){let t=e.$implicit,r=ze();ge("ngClass",ad(1,yB,t<=r.product.rating,t>r.product.rating))}}function _B(n,e){if(n&1){let t=In();b(0,"div")(1,"button",10),Ce("click",function(){Ot(t);let i=ze();return kt(i.AddtoCart())}),A(2,"Ajouter au panier"),T()()}}function wB(n,e){n&1&&(b(0,"div"),A(1," Non Disponible "),T())}var KA=(()=>{class n{panier;route;product;constructor(t,r){this.panier=t,this.route=r}AddtoCart(){this.panier.addProductToCart(this.product)}goToProductDetails(t){this.route.navigate(["/product",t])}static \u0275fac=function(r){return new(r||n)(H(ai),H(Ne))};static \u0275cmp=Se({type:n,selectors:[["app-productitem"]],inputs:{product:"product"},standalone:!0,features:[Ae],decls:12,vars:7,consts:[[1,"product-card"],[1,"card-img-top",3,"click","src"],[1,"card-body"],[1,"card-title"],[3,"click"],["class","fa","style","color: rgb(240, 255, 71);",3,"ngClass",4,"ngFor","ngForOf"],[1,"card-text"],[1,"card-footer"],[4,"ngIf"],[1,"fa",2,"color","rgb(240, 255, 71)",3,"ngClass"],[1,"btn","btn-primary",3,"click"]],template:function(r,i){r&1&&(b(0,"div",0)(1,"img",1),Ce("click",function(){return i.goToProductDetails(i.product.id)}),T(),b(2,"div",2)(3,"h5",3)(4,"a",4),Ce("click",function(){return i.goToProductDetails(i.product.id)}),A(5),T()(),Ve(6,vB,1,4,"i",5),b(7,"p",6),A(8),T()(),b(9,"div",7),Ve(10,_B,3,0,"div",8)(11,wB,2,0,"div",8),T()()),r&2&&(B(),ge("src",i.product.images[0],yr),B(4),Ee(" ",i.product.title," "),B(),ge("ngForOf",sd(6,mB)),B(2),Ee("Price: ",i.product.price," USD"),B(2),ge("ngIf",i.product.stock>0),B(),ge("ngIf",i.product.stock==0))},dependencies:[Yr,pd,jt],styles:[".container[_ngcontent-%COMP%]{margin-top:20px}.product-card[_ngcontent-%COMP%]{width:220px;height:400px;margin:0 10px;display:flex;flex-direction:column;justify-content:space-between;border-radius:10px;transition:transform .3s ease,box-shadow .3s ease}.product-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 15px #00000026;transform:translateY(-5px)}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:150px;object-fit:cover;border-radius:10px 10px 0 0;transition:transform .3s ease}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.card-body[_ngcontent-%COMP%]{background-color:transparent;padding:15px;max-height:200px;overflow-y:auto;-ms-overflow-style:none;scrollbar-width:none}[_ngcontent-%COMP%]:scope::-webkit-scrollbar{display:none}:is()   .card-title[_ngcontent-%COMP%]{font-weight:700;color:#4bc305;margin-bottom:10px}:is()   .card-text[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:10px;flex-grow:1}.card-footer[_ngcontent-%COMP%]{background-color:transparent;text-align:center;padding:10px 0;color:red;text-decoration:line-through}.card-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#000;border:none;border-radius:30px;color:#fff;padding:8px 15px;font-size:18px;transition:background-color .3s ease}.card-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#4dff00ec}.card-title[_ngcontent-%COMP%]{color:#0f0f11ec}"]})}return n})();var li=(()=>{class n{email="UNIVERSO@gmail.com";static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Se({type:n,selectors:[["app-footer"]],standalone:!0,features:[Ae],decls:40,vars:1,consts:[[1,"footer"],[1,"container"],[1,"row"],[1,"col-md-4"],[1,"footer-links"],["routerLink","/home","routerLinkActive","active"],["routerLink","/contactus","routerLinkActive","active"],["routerLink","/about","routerLinkActive","active"],[1,"social-links"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-square-x-twitter"],[1,"fa-brands","fa-instagram"],[1,"footer-bottom"]],template:function(r,i){r&1&&(b(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5"),A(5,"About Us"),T(),b(6,"p"),A(7," We are an online store offering a wide range of products from sports, beauty, furniture, tablets, laptops, and much more. "),T()(),b(8,"div",3)(9,"h5"),A(10,"Quick Links"),T(),b(11,"ul",4)(12,"li")(13,"a",5),A(14,"Home"),T()(),b(15,"li")(16,"a",6),A(17,"Contact Us"),T()(),b(18,"li")(19,"a",7),A(20,"About Us"),T()()()(),b(21,"div",3)(22,"h5"),A(23,"Contact Us"),T(),b(24,"p"),A(25),W(26,"br"),A(27," Phone: +212 689 802 208 "),W(28,"br"),A(29," Address: Rabat Agdal, Morocco. "),T(),b(30,"div",8)(31,"a"),W(32,"i",9),T(),b(33,"a"),W(34,"i",10),T(),b(35,"a"),W(36,"i",11),T()()()()(),b(37,"div",12)(38,"p"),A(39,"\xA9 2024 UNIVERSO. All rights reserved."),T()()()),r&2&&(B(25),Ee(" ",i.email," "))},dependencies:[dn,ln,Xn],styles:[".footer[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:40px 0;color:#333}.footer[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:20px}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#6c757d}.footer-links[_ngcontent-%COMP%]{list-style:none;padding:0}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4bc305;text-decoration:none}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.social-links[_ngcontent-%COMP%]{margin-top:20px}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#4bc305;margin-right:15px;transition:color .3s}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#333}.footer-bottom[_ngcontent-%COMP%]{text-align:center;padding:15px 0;background-color:#e9ecef;font-size:14px;color:#6c757d}"]})}return n})();var Ns=(()=>{class n{http;constructor(t){this.http=t}productsAPI="https://dummyjson.com/products";categoriesAPI="https://dummyjson.com/products/category-list";searchResults$;getProducts(){return this.http.get(this.productsAPI)}getCategoriesOfProducts(){return this.http.get(this.categoriesAPI)}getProductById(t){return this.http.get(`https://dummyjson.com/products/${t}`)}static \u0275fac=function(r){return new(r||n)(z(Ir))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Os=(()=>{class n{http;searchTermSubject=new $e("");searchTerm$=this.searchTermSubject.asObservable();categorySubject=new $e("");category$=this.categorySubject.asObservable();constructor(t){this.http=t,ur([this.searchTerm$,this.category$]).pipe(ip(400),Me(([r,i])=>this.searchProducts(r,i))).subscribe(r=>{console.log("Search results:",r)})}setSearchTerm(t){this.searchTermSubject.next(t)}setCategory(t){this.categorySubject.next(t)}searchProducts(t,r){let i=`https://dummyjson.com/products/search?q=${t}`;return r&&(i=`https://dummyjson.com/products/category/${r}`),this.http.get(i)}static \u0275fac=function(r){return new(r||n)(z(Ir))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function EB(n,e){if(n&1&&(b(0,"div",5),W(1,"app-productitem",6),T()),n&2){let t=e.$implicit;B(),ge("product",t)}}function IB(n,e){if(n&1&&(b(0,"div")(1,"div",3),Ve(2,EB,2,1,"div",4),T()()),n&2){let t=ze();B(2),ge("ngForOf",t.filtredproducts)}}function CB(n,e){n&1&&(b(0,"div",0)(1,"div",7),W(2,"img",8),b(3,"h3"),A(4,"We are sorry "),T(),b(5,"h5"),A(6,"What are you Looking for is not Available "),T(),b(7,"h5"),A(8,"You can Always search again "),T()()())}var QA=(()=>{class n{productsService;searchService;route;filtredproducts=[];constructor(t,r,i){this.productsService=t,this.searchService=r,this.route=i}ngOnInit(){ur([this.searchService.searchTerm$,this.searchService.category$]).subscribe(([t,r])=>{t||r?this.searchService.searchProducts(t,r).subscribe(i=>{this.filtredproducts=i.products}):this.productsService.getProducts().subscribe(i=>{this.filtredproducts=i.products})})}static \u0275fac=function(r){return new(r||n)(H(Ns),H(Os),H(Ne))};static \u0275cmp=Se({type:n,selectors:[["app-listproducts"]],standalone:!0,features:[Ae],decls:4,vars:2,consts:[[1,"container"],[4,"ngIf"],["class","container",4,"ngIf"],[1,"row"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],[3,"product"],[1,"not-avaliable"],["src","unv.png"]],template:function(r,i){r&1&&(b(0,"div",0),Ve(1,IB,3,1,"div",1),T(),Ve(2,CB,9,0,"div",2),W(3,"app-footer")),r&2&&(B(),ge("ngIf",i.filtredproducts.length>0),B(),ge("ngIf",i.filtredproducts.length==0))},dependencies:[KA,bm,jt,Yr,li],styles:[".not-avaliable[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.not-avaliable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%}.not-avaliable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .not-avaliable[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#333;margin:10px 0}"]})}return n})();var ox=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(H(En),H(Ft))}}static{this.\u0275dir=Fe({type:n})}}return n})(),Hh=(()=>{class n extends ox{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})()}static{this.\u0275dir=Fe({type:n,features:[Lt]})}}return n})(),Ls=new $("");var DB={provide:Ls,useExisting:sn(()=>er),multi:!0};function bB(){let n=wr()?wr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var TB=new $(""),er=(()=>{class n extends ox{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!bB())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(H(En),H(Ft),H(TB,8))}}static{this.\u0275dir=Fe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ce("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[$n([DB]),Lt]})}}return n})();function di(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function sx(n){return n!=null&&typeof n.length=="number"}var $c=new $(""),J_=new $(""),SB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Pr=class{static min(e){return ax(e)}static max(e){return AB(e)}static required(e){return cx(e)}static requiredTrue(e){return xB(e)}static email(e){return MB(e)}static minLength(e){return RB(e)}static maxLength(e){return PB(e)}static pattern(e){return NB(e)}static nullValidator(e){return Fh(e)}static compose(e){return px(e)}static composeAsync(e){return mx(e)}};function ax(n){return e=>{if(di(e.value)||di(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function AB(n){return e=>{if(di(e.value)||di(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function cx(n){return di(n.value)?{required:!0}:null}function xB(n){return n.value===!0?null:{required:!0}}function MB(n){return di(n.value)||SB.test(n.value)?null:{email:!0}}function RB(n){return e=>di(e.value)||!sx(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function PB(n){return e=>sx(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function NB(n){if(!n)return Fh;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(di(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Fh(n){return null}function ux(n){return n!=null}function lx(n){return ji(n)?de(n):n}function dx(n){let e={};return n.forEach(t=>{e=t!=null?U(U({},e),t):e}),Object.keys(e).length===0?null:e}function hx(n,e){return e.map(t=>t(n))}function OB(n){return!n.validate}function fx(n){return n.map(e=>OB(e)?e:t=>e.validate(t))}function px(n){if(!n)return null;let e=n.filter(ux);return e.length==0?null:function(t){return dx(hx(t,e))}}function gx(n){return n!=null?px(fx(n)):null}function mx(n){if(!n)return null;let e=n.filter(ux);return e.length==0?null:function(t){let r=hx(t,e).map(lx);return np(r).pipe(ee(dx))}}function yx(n){return n!=null?mx(fx(n)):null}function YA(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vx(n){return n._rawValidators}function _x(n){return n._rawAsyncValidators}function G_(n){return n?Array.isArray(n)?n:[n]:[]}function Vh(n,e){return Array.isArray(n)?n.includes(e):n===e}function ZA(n,e){let t=G_(e);return G_(n).forEach(i=>{Vh(t,i)||t.push(i)}),t}function JA(n,e){return G_(e).filter(t=>!Vh(n,t))}var Lh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ao=class extends Lh{get formDirective(){return null}get path(){return null}},co=class extends Lh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},jh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},kB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xK=ye(U({},kB),{"[class.ng-submitted]":"isSubmitted"}),fi=(()=>{class n extends jh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(H(co,2))}}static{this.\u0275dir=Fe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&od("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Lt]})}}return n})(),qh=(()=>{class n extends jh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(H(ao,10))}}static{this.\u0275dir=Fe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&od("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Lt]})}}return n})();var Vc="VALID",kh="INVALID",ks="PENDING",Lc="DISABLED",hi=class{},Uh=class extends hi{constructor(e,t){super(),this.value=e,this.source=t}},jc=class extends hi{constructor(e,t){super(),this.pristine=e,this.source=t}},Uc=class extends hi{constructor(e,t){super(),this.touched=e,this.source=t}},Fs=class extends hi{constructor(e,t){super(),this.status=e,this.source=t}},W_=class extends hi{constructor(e){super(),this.source=e}},K_=class extends hi{constructor(e){super(),this.source=e}};function X_(n){return(Gh(n)?n.validators:n)||null}function FB(n){return Array.isArray(n)?gx(n):n||null}function ew(n,e){return(Gh(e)?e.asyncValidators:n)||null}function VB(n){return Array.isArray(n)?yx(n):n||null}function Gh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function wx(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Z(1e3,"");if(!r[t])throw new Z(1001,"")}function Ex(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Z(1002,"")})}var Vs=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ka(()=>this.statusReactive()),this.statusReactive=Fi(void 0),this._pristine=ka(()=>this.pristineReactive()),this.pristineReactive=Fi(!0),this._touched=ka(()=>this.touchedReactive()),this.touchedReactive=Fi(!1),this._events=new Be,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return vr(this.statusReactive)}set status(e){vr(()=>this.statusReactive.set(e))}get valid(){return this.status===Vc}get invalid(){return this.status===kh}get pending(){return this.status==ks}get disabled(){return this.status===Lc}get enabled(){return this.status!==Lc}get pristine(){return vr(this.pristineReactive)}set pristine(e){vr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return vr(this.touchedReactive)}set touched(e){vr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ZA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ZA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JA(e,this._rawAsyncValidators))}hasValidator(e){return Vh(this._rawValidators,e)}hasAsyncValidator(e){return Vh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ye(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Uc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Uc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ye(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new jc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new jc(!0,r))}markAsPending(e={}){this.status=ks;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ye(U({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Lc,this.errors=null,this._forEachChild(i=>{i.disable(ye(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Uh(this.value,r)),this._events.next(new Fs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ye(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Vc,this._forEachChild(r=>{r.enable(ye(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ye(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vc||this.status===ks)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Uh(this.value,t)),this._events.next(new Fs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ye(U({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lc:Vc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ks,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=lx(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Fs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?Lc:this.errors?kh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ks)?ks:this._anyControlsHaveStatus(kh)?kh:Vc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new jc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Uc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=FB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=VB(this._rawAsyncValidators)}},Bh=class extends Vs{constructor(e,t,r){super(X_(t),ew(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Ex(this,!0,e),Object.keys(e).forEach(r=>{wx(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Q_=class extends Bh{};var Wh=new $("CallSetDisabledState",{providedIn:"root",factory:()=>Kh}),Kh="always";function Ix(n,e){return[...e.path,n]}function Y_(n,e,t=Kh){tw(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),jB(n,e),BB(n,e),UB(n,e),LB(n,e)}function XA(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),zh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function $h(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function LB(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function tw(n,e){let t=vx(n);e.validator!==null?n.setValidators(YA(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=_x(n);e.asyncValidator!==null?n.setAsyncValidators(YA(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();$h(e._rawValidators,i),$h(e._rawAsyncValidators,i)}function zh(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=vx(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=_x(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return $h(e._rawValidators,r),$h(e._rawAsyncValidators,r),t}function jB(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Cx(n,e)})}function UB(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Cx(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Cx(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function BB(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function $B(n,e){n==null,tw(n,e)}function zB(n,e){return zh(n,e)}function Dx(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function HB(n){return Object.getPrototypeOf(n.constructor)===Hh}function qB(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function bx(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===er?t=o:HB(o)?r=o:i=o}),i||r||t||null}function GB(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ex(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function tx(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Bc=class extends Vs{constructor(e=null,t,r){super(X_(t),ew(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(tx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ex(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ex(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){tx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var WB=n=>n instanceof Bc;var KB={provide:co,useExisting:sn(()=>zc)},nx=Promise.resolve(),zc=(()=>{class n extends co{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Bc,this._registered=!1,this.name="",this.update=new qe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bx(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Dx(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Y_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){nx.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Qr(r);nx.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Ix(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(H(ao,9),H($c,10),H(J_,10),H(Ls,10),H(Kr,8),H(Wh,8))}}static{this.\u0275dir=Fe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$n([KB]),Lt,wn]})}}return n})(),Qh=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Fe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),QB={provide:Ls,useExisting:sn(()=>nw),multi:!0},nw=(()=>{class n extends Hh{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})()}static{this.\u0275dir=Fe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ce("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[$n([QB]),Lt]})}}return n})();var Tx=new $("");var YB={provide:ao,useExisting:sn(()=>Hc)},Hc=(()=>{class n extends ao{get submitted(){return vr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ka(()=>this._submittedReactive()),this._submittedReactive=Fi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new qe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Y_(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){XA(t.control||null,t,!1),GB(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),qB(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new W_(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new K_(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(XA(r||null,t),WB(i)&&(Y_(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);$B(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&zB(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tw(this.form,this),this._oldForm&&zh(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(H($c,10),H(J_,10),H(Wh,8))}}static{this.\u0275dir=Fe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ce("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$n([YB]),Lt,wn]})}}return n})();var ZB={provide:co,useExisting:sn(()=>qc)},qc=(()=>{class n extends co{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new qe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bx(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Dx(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Ix(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(H(ao,13),H($c,10),H(J_,10),H(Ls,10),H(Tx,8))}}static{this.\u0275dir=Fe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[$n([ZB]),Lt,wn]})}}return n})(),JB={provide:Ls,useExisting:sn(()=>Yh),multi:!0};function Sx(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function XB(n){return n.split(":")[0]}var Yh=(()=>{class n extends Hh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=Sx(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=XB(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})()}static{this.\u0275dir=Fe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ce("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[$n([JB]),Lt]})}}return n})(),Ax=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(Sx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(H(Ft),H(En),H(Yh,9))}}static{this.\u0275dir=Fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),e$={provide:Ls,useExisting:sn(()=>xx),multi:!0};function rx(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function t$(n){return n.split(":")[0]}var xx=(()=>{class n extends Hh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=t$(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})()}static{this.\u0275dir=Fe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ce("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[$n([e$]),Lt]})}}return n})(),Mx=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(rx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(rx(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(H(Ft),H(En),H(xx,9))}}static{this.\u0275dir=Fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function n$(n){return typeof n=="number"?n:parseFloat(n)}var Rx=(()=>{class n{constructor(){this._validator=Fh}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Fh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Fe({type:n,features:[wn]})}}return n})();var r$={provide:$c,useExisting:sn(()=>rw),multi:!0},rw=(()=>{class n extends Rx{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>n$(t),this.createValidator=t=>ax(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})()}static{this.\u0275dir=Fe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Go("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[$n([r$]),Lt]})}}return n})(),i$={provide:$c,useExisting:sn(()=>Gc),multi:!0};var Gc=(()=>{class n extends Rx{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Qr,this.createValidator=t=>cx}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Un(n)))(i||n)}})()}static{this.\u0275dir=Fe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Go("required",i._enabled?"":null)},inputs:{required:"required"},features:[$n([i$]),Lt]})}}return n})();var Px=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=it({})}}return n})(),Z_=class extends Vs{constructor(e,t,r){super(X_(t),ew(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Ex(this,!1,e),e.forEach((r,i)=>{wx(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function ix(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Zh=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return ix(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Bh(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Q_(i,r)}control(t,r,i){let o={};return this.useNonNullable?(ix(r)?o=r:(o.validators=r,o.asyncValidators=i),new Bc(t,ye(U({},o),{nonNullable:!0}))):new Bc(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Z_(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Bc)return t;if(t instanceof Vs)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var js=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Wh,useValue:t.callSetDisabledState??Kh}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=it({imports:[Px]})}}return n})(),Jh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Tx,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Wh,useValue:t.callSetDisabledState??Kh}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=it({imports:[Px]})}}return n})();function o$(n,e){if(n&1){let t=In();b(0,"div",3)(1,"h2"),A(2,"Your UNIVERSO Cart is Empty"),T(),b(3,"div"),W(4,"i",4),T(),b(5,"div",5)(6,"button",6),Ce("click",function(){Ot(t);let i=ze();return kt(i.continueShopping())}),A(7,"Shop now"),T()()()}}function s$(n,e){if(n&1){let t=In();b(0,"tr")(1,"td",31)(2,"div",32),W(3,"img",33),T()(),b(4,"td",34)(5,"h3")(6,"a",35),A(7),T()(),b(8,"p",36),A(9),T(),b(10,"div",25)(11,"a",37),Ce("click",function(){let i=Ot(t).$implicit,o=ze(2);return kt(o.deleteProduct(i.produit))}),W(12,"i",38),A(13," Remove item"),T()()(),b(14,"td"),A(15),b(16,"s",39),A(17),T()(),b(18,"td",40)(19,"input",41),Ko("ngModelChange",function(i){let o=Ot(t).$implicit;return Na(o.qte,i)||(o.qte=i),kt(i)}),T()(),b(20,"td")(21,"h4"),A(22),T()()()}if(n&2){let t=e.$implicit;B(3),Li("alt",t.produit.title),ge("src",t.produit.images[0],yr),B(4),st(t.produit.title),B(2),st(t.produit.description),B(6),Ee(" ",t.produit.price," "),B(2),st(t.produit.price+t.produit.price*32/100),B(2),Wo("ngModel",t.qte),B(3),st(t.produit.price*t.qte)}}function a$(n,e){if(n&1){let t=In();b(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"div",12)(6,"span",13),A(7,"("),b(8,"strong"),A(9),T(),A(10,") item "),T(),b(11,"h5"),A(12,"UNIVERSO Carte "),T()(),b(13,"div",14)(14,"div",15)(15,"table",16)(16,"tbody"),Ve(17,s$,23,8,"tr",17),T()()()(),b(18,"div",14)(19,"button",18),Ce("click",function(){Ot(t);let i=ze();return kt(i.Acheter())}),W(20,"i",19),A(21," Acheter "),T(),b(22,"button",20),Ce("click",function(){Ot(t);let i=ze();return kt(i.continueShopping())}),W(23,"i",21),A(24," Continue l'achat "),T()()()(),b(25,"div",22)(26,"div",11)(27,"div",12)(28,"h5"),A(29,"Cart Summary"),T()(),b(30,"div",14)(31,"span"),A(32,"Total"),T(),b(33,"h2",23),A(34),T(),W(35,"hr")(36,"span",24),b(37,"div",25)(38,"div",26)(39,"button",27),Ce("click",function(){Ot(t);let i=ze();return kt(i.Acheter())}),W(40,"i",28),A(41,"Acheter "),T(),b(42,"button",29),Ce("click",function(){Ot(t);let i=ze();return kt(i.cancel())}),W(43,"i",30),A(44," Cancel "),T()()()()()()()()()}if(n&2){let t=ze();B(9),st(t.productCart.length),B(8),ge("ngForOf",t.productCart),B(17),st(t.calculateTotal())}}var Nx=(()=>{class n{panier;route;orderservice;authService;productCart=[];constructor(t,r,i,o){this.panier=t,this.route=r,this.orderservice=i,this.authService=o}ngOnInit(){this.panier.getAllCartProducts().subscribe(t=>{this.productCart=t})}increaseQte(t){this.panier.increaseQte(t)}decreaseQte(t){this.panier.decreaseQte(t)}deleteProduct(t){this.panier.removeProductFromCart(t)}calculateTotal(){return this.productCart.reduce((t,r)=>t+r.qte*r.produit.price,0)}cancel(){this.panier.removeAllProducts()}Acheter(){this.authService.currentUserSig()?confirm("Vous voulez continuer ?")&&(this.orderservice.createCommande(this.productCart,this.calculateTotal()),this.route.navigateByUrl("/orders"),this.productCart=[],this.panier.removeAllProducts()):(alert("Se Conncter D'abord "),this.route.navigateByUrl("/signin"))}continueShopping(){this.route.navigate(["/products"])}static \u0275fac=function(r){return new(r||n)(H(ai),H(Ne),H(Es),H(Bt))};static \u0275cmp=Se({type:n,selectors:[["app-panier"]],standalone:!0,features:[Ae],decls:4,vars:2,consts:[["href",DC`https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css`,"rel","stylesheet"],["class","empty-cart-container",4,"ngIf"],["class","container",4,"ngIf"],[1,"empty-cart-container"],[1,"fa-solid","fa-cart-shopping"],[1,"continueShopping"],[1,"btn","btn-primary",3,"click"],[1,"container"],[1,"wrapper","wrapper-content","animated","fadeInRight"],[1,"row"],[1,"col-md-9"],[1,"ibox"],[1,"ibox-title"],[1,"pull-right"],[1,"ibox-content"],[1,"table-responsive"],[1,"table","shoping-cart-table"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","pull-right",2,"background-color","#b8fc04","border-width","0px","border-radius","6px",3,"click"],[1,"fa","fa","fa-shopping-cart"],[1,"btn","btn-white",3,"click"],[1,"fa","fa-arrow-left"],[1,"col-md-3"],[1,"font-bold"],[1,"text-muted","small"],[1,"m-t-sm"],[1,"btn-group"],[1,"btn","btn-primary","btn-sm",2,"background-color","#b8fc04","border-width","0px","border-radius","6px",3,"click"],[1,"fa","fa-shopping-cart"],[1,"btn","btn-white","btn-sm",3,"click"],[1,"fa","fa-times"],["width","90"],[1,"cart-product-imitation"],[3,"src","alt"],[1,"desc"],["href","#",1,"text-navy"],[1,"small"],[1,"text-muted","btn","btn-outline",3,"click"],[1,"fa","fa-trash"],[1,"small","text-muted"],["width","65"],["type","number","min","1",1,"form-control",3,"ngModelChange","ngModel"]],template:function(r,i){r&1&&(W(0,"link",0),Ve(1,o$,8,0,"div",1)(2,a$,45,3,"div",2),W(3,"app-footer")),r&2&&(B(),ge("ngIf",i.productCart.length==0),B(),ge("ngIf",i.productCart.length>0))},dependencies:[jt,Yr,js,er,nw,fi,rw,zc,li],styles:["body[_ngcontent-%COMP%]{margin-top:20px;background:#eee}h3[_ngcontent-%COMP%]{font-size:16px}.text-navy[_ngcontent-%COMP%]{color:#1ab394}.cart-product-imitation[_ngcontent-%COMP%]{text-align:center;padding-top:30px;height:80px;width:80px;background-color:#f8f8f9}.cart-product-imitation[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80px;object-fit:contain;display:block}.product-imitation.xl[_ngcontent-%COMP%]{padding:120px 0}.product-desc[_ngcontent-%COMP%]{padding:20px;position:relative}.ecommerce[_ngcontent-%COMP%]   .tag-list[_ngcontent-%COMP%]{padding:0}.ecommerce[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{color:#d1dade}.ecommerce[_ngcontent-%COMP%]   .fa-star.active[_ngcontent-%COMP%]{color:#f8ac59}.ecommerce[_ngcontent-%COMP%]   .note-editor[_ngcontent-%COMP%]{border:1px solid #e7eaec}table.shoping-cart-table[_ngcontent-%COMP%]{margin-bottom:0}table.shoping-cart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;text-align:right}table.shoping-cart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.desc[_ngcontent-%COMP%], table.shoping-cart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{text-align:left}table.shoping-cart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:80px}.ibox[_ngcontent-%COMP%]{clear:both;margin-bottom:25px;margin-top:0;padding:0}.ibox.collapsed[_ngcontent-%COMP%]   .ibox-content[_ngcontent-%COMP%]{display:none}.ibox[_ngcontent-%COMP%]:after, .ibox[_ngcontent-%COMP%]:before{display:table}.ibox-title[_ngcontent-%COMP%]{-moz-border-bottom-colors:none;-moz-border-left-colors:none;-moz-border-right-colors:none;-moz-border-top-colors:none;background-color:#fff;border-color:#e7eaec;border-image:none;border-style:solid solid none;border-width:3px 0 0;color:inherit;margin-bottom:0;padding:14px 15px 7px;min-height:48px}.empty-cart-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:70vh;text-align:center;color:#333}.empty-cart-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px;color:#000}.empty-cart-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:5rem;color:#000;margin-bottom:20px}.continueShopping[_ngcontent-%COMP%]{margin-top:20px}.continueShopping[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#000;border-width:0px;border-radius:6px;padding:10px 20px;font-size:1.2rem;color:#fff;transition:background-color .3s ease;cursor:pointer}.continueShopping[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#5eff00}"]})}return n})();function c$(n,e){if(n&1&&(b(0,"div"),A(1),T()),n&2){let t=ze();B(),Ee(" ",t.errorMessage," ")}}var Ox=(()=>{class n{fb=N(Zh);http=N(Ir);router=N(Ne);authService=N(Bt);form=this.fb.nonNullable.group({username:["",Pr.required],email:["",Pr.required],password:["",Pr.required]});errorMessage=null;onSubmit(){let t=this.form.getRawValue();this.authService.register(t.email,t.username,t.password).subscribe({next:()=>{this.router.navigateByUrl("/signin")},error:r=>{this.errorMessage=r.code}})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Se({type:n,selectors:[["app-signup"]],standalone:!0,features:[Ae],decls:34,vars:2,consts:[[1,"amazon-logo"],["src","unv.png","alt","Universo Logo"],[1,"sign-in-container"],[3,"ngSubmit","formGroup"],["for","name"],["type","text","id","name","name","name","formControlName","username","required",""],["for","email"],["type","text","id","email","name","email","formControlName","email","required",""],["for","password"],["type","password","id","password","name","password","formControlName","password","required",""],["type","submit"],["href","#"],["routerLink","/signin","routerLinkActive","active",1,"nav-link"],[1,"okk",2,"height","1vh"]],template:function(r,i){r&1&&(b(0,"div",0),W(1,"img",1),T(),b(2,"div",2)(3,"h2"),A(4,"Create account"),T(),Ve(5,c$,2,1,"div"),b(6,"form",3),Ce("ngSubmit",function(){return i.onSubmit()}),b(7,"label",4),A(8,"Your name"),T(),W(9,"input",5),b(10,"label",6),A(11,"Email"),T(),W(12,"input",7),b(13,"label",8),A(14,"Password"),T(),W(15,"input",9),b(16,"button",10),A(17,"Create your Universo account"),T()(),b(18,"p"),A(19,"By creating an account, you agree to Universo's "),b(20,"a",11),A(21,"Conditions of Use & Sale"),T(),A(22,". Please see our "),b(23,"a",11),A(24,"Privacy Notice"),T(),A(25,", and "),b(26,"a",11),A(27,"Cookies Notice"),T(),A(28,". "),T(),b(29,"p"),A(30,"Already have an account? "),b(31,"a",12),A(32,"Sign in"),T()()(),W(33,"div",13)),r&2&&(B(5),Vi(i.errorMessage?5:-1),B(),ge("formGroup",i.form))},dependencies:[Jh,Qh,er,fi,qh,Gc,Hc,qc,dn,ln,Xn],styles:[".sign-in-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:30px;border:1px #000000;border-radius:15px;box-shadow:0 4px 10px #0000001a;text-align:center;background-color:#fff;position:relative}.amazon-logo[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center}.amazon-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:140px;opacity:.9;transition:opacity .3s ease}.amazon-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:1}form[_ngcontent-%COMP%]{margin-bottom:16px;pad:10px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700;font-size:14px;color:#000;text-align:left}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ccc;border-radius:3px;margin-bottom:10px;font-size:16px;background-color:#fff;transition:border-color .3s ease}button[_ngcontent-%COMP%]{padding:12px 25px;background-color:#b8fc04;color:#000;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s ease;width:100%}button[_ngcontent-%COMP%]:hover{background-color:#000}button[_ngcontent-%COMP%]:active, button[_ngcontent-%COMP%]:focus{background-color:#000;outline:none}p[_ngcontent-%COMP%]{margin-bottom:15px;color:#666;font-size:14px}a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;transition:color .3s ease}a[_ngcontent-%COMP%]:hover{color:#0056b3;text-decoration:underline}.sign-in-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#b8fc04}.sign-in-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{background-color:#b8fc04}@media (max-width: 500px){.sign-in-container[_ngcontent-%COMP%]{padding:20px}.amazon-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px}button[_ngcontent-%COMP%]{padding:11px 2px;font-size:13px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{padding:10px;font-size:14px}}.new[_ngcontent-%COMP%]{text-align:center}.sign-in-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}"]})}return n})();function u$(n,e){if(n&1&&(b(0,"div"),A(1),T()),n&2){let t=ze();B(),Ee(" ",t.errorMessage," ")}}var kx=(()=>{class n{fb=N(Zh);http=N(Ir);router=N(Ne);authService=N(Bt);errorMessage=null;form=this.fb.nonNullable.group({email:["",Pr.required],password:["",Pr.required]});onSubmit(){let t=this.form.getRawValue();this.authService.login(t.email,t.password).subscribe({next:()=>{this.router.navigateByUrl("/")},error:r=>{this.errorMessage=r.code}})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Se({type:n,selectors:[["app-signin"]],standalone:!0,features:[Ae],decls:40,vars:2,consts:[[1,"amazon-logo"],["src","unv.png","alt","Universo Logo"],[1,"sign-in-container"],[3,"ngSubmit","formGroup"],["for","email"],["type","text","id","email","name","email","formControlName","email","required",""],["type","password","id","password","name","password","formControlName","password","required",""],["type","submit"],["href","#"],["routerLink","/signup","routerLinkActive","active"],[1,"okk",2,"height","1vh"],[1,"new"],[1,"okk",2,"height","0.1vh"],["id","okk",1,"sign-in-container"],[1,"okk",2,"height","10vh"]],template:function(r,i){r&1&&(b(0,"div",0),W(1,"img",1),T(),b(2,"div",2),Ve(3,u$,2,1,"div"),b(4,"h2"),A(5,"Sign in"),T(),b(6,"form",3),Ce("ngSubmit",function(){return i.onSubmit()}),b(7,"label",4),A(8,"Email "),T(),W(9,"input",5),b(10,"label",4),A(11,"Password "),T(),W(12,"input",6),b(13,"button",7),A(14,"Continue"),T()(),b(15,"p"),A(16,"By continuing, you agree to Universo's "),b(17,"a",8),A(18,"Conditions of Use & Sale"),T(),A(19,". Please see our "),b(20,"a",8),A(21,"Privacy Notice"),T(),A(22,", our "),b(23,"a",8),A(24,"Cookies Notice"),T(),A(25,". "),T(),b(26,"p")(27,"a",8),A(28,"Forget password ?"),T()(),b(29,"button",9),A(30,"Create your Universo account"),T()(),W(31,"div",10),b(32,"div",11)(33,"p"),A(34,"New to Universo?"),T()(),W(35,"div",12),b(36,"div",13)(37,"a",9),A(38," Create your account ? "),T()(),W(39,"div",14)),r&2&&(B(3),Vi(i.errorMessage?3:-1),B(3),ge("formGroup",i.form))},dependencies:[Jh,Qh,er,fi,qh,Gc,Hc,qc,dn,ln,Xn,js],styles:[".sign-in-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:30px;border:1px #000000;border-radius:15px;box-shadow:0 4px 10px #0000001a;text-align:center;background-color:#fff;position:relative}.amazon-logo[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center}.amazon-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:140px;opacity:.9;transition:opacity .3s ease}.amazon-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:1}form[_ngcontent-%COMP%]{margin-bottom:16px;pad:10px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700;font-size:14px;color:#000;text-align:left}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ccc;border-radius:3px;margin-bottom:10px;font-size:16px;background-color:#fff;transition:border-color .3s ease}button[_ngcontent-%COMP%]{padding:12px 25px;background-color:#b8fc04;color:#000;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s ease;width:100%}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:active{background-color:#000}button[_ngcontent-%COMP%]:focus{outline:none}p[_ngcontent-%COMP%]{margin-bottom:15px;color:#666;font-size:14px}a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;transition:color .3s ease}a[_ngcontent-%COMP%]:hover{color:#0056b3;text-decoration:underline}.sign-in-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#b8fc04}.sign-in-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{background-color:#b8fc04}.sign-in-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:active{background-color:#b8fc04}@media (max-width: 500px){.sign-in-container[_ngcontent-%COMP%]{padding:20px}.amazon-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px}button[_ngcontent-%COMP%]{padding:11px 2px;font-size:13px}input[type=text][_ngcontent-%COMP%]{padding:10px;font-size:14px}}.new[_ngcontent-%COMP%]{text-align:center}.sign-in-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}"]})}return n})();function l$(n,e){if(n&1){let t=In();b(0,"div",7)(1,"div",8)(2,"div",9)(3,"img",10),Ce("click",function(){let i=Ot(t).$implicit,o=ze();return kt(o.goTothisproducts(i.title))}),T()(),b(4,"div",11)(5,"h3",12),A(6),T()()()()}if(n&2){let t=e.$implicit;B(3),Li("alt",t.title),ge("src",t.src,yr),B(3),st(t.title)}}var Fx=(()=>{class n{route;searchservice;constructor(t,r){this.route=t,this.searchservice=r}images=[{title:"sports-accessories",src:"basket.jpg",alt:"Sports Products"},{title:"beauty",src:"beauty.jpg",alt:"Beauty"},{title:"furniture",src:"frach.jpg",alt:"Furniture"},{title:"tablets",src:"tablet.jpg",alt:"Tablets"},{title:"Laptops",src:"pc.jpg",alt:"Laptops"},{title:"Clothing",src:"clothes.jpg",alt:"Clothing"},{title:"vehicle",src:"car.jpg",alt:"Cars"},{title:"motorcycle",src:"motor.jpg",alt:"motor"},{title:"Fragnances",src:"fragnances.jpg",alt:"Rway7"},{title:"groceries",src:"groceries.jpg",alt:"**"},{title:"home-decoration",src:"home-decoration.jpg",alt:"**"},{title:"kitchen-accessories",src:"kitchen-accessories.jpg",alt:"***"},{title:"mens-shirts",src:"mens-shirts.jpg",alt:"***"},{title:"mens-shoes",src:"mens-shoes.jpg",alt:"***"},{title:"mens-watches",src:"mens-watches.jpg",alt:"***"},{title:"mobile-accessories",src:"mobile-accesoires.jpg",alt:"***"},{title:"skin-care",src:"skin-care.jpg",alt:"***"},{title:"smartphones",src:"smart.jpg",alt:"***"},{title:"mens-shirts",src:"mens-shirts.jpg",alt:"***"},{title:"sunglasses",src:"sunglace.jpg",alt:"***"},{title:"womens-watches",src:"womems-watches.jpg",alt:"***"},{title:"women-bags",src:"women-bags.jpg",alt:"***"},{title:"women-jewellery",src:"women-jewelries.jpg",alt:"***"},{title:"women-shoes",src:"women-shoes.jpg",alt:"***"}];goTothisproducts(t){this.searchservice.setCategory(t),this.goToProducts()}goToProducts(){this.route.navigate(["/products"])}static \u0275fac=function(r){return new(r||n)(H(Ne),H(Os))};static \u0275cmp=Se({type:n,selectors:[["app-home"]],standalone:!0,features:[Ae],decls:18,vars:1,consts:[[1,"home-container"],[1,"banner"],[1,"shop-now-btn",3,"click"],[1,"container"],[1,"fa-solid","fa-down-long"],[1,"row"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],[1,"product-card"],[1,"image"],[1,"category-image",3,"click","src","alt"],[1,"card-body"],[1,"card-title"]],template:function(r,i){r&1&&(b(0,"div",0)(1,"div",1)(2,"h1"),A(3,"Welcome to Our Shop!"),T(),b(4,"p"),A(5,"Discover the best products at unbeatable prices"),T(),b(6,"button",2),Ce("click",function(){return i.goToProducts()}),A(7,"Shop Now"),T()(),b(8,"div",3)(9,"h2"),A(10,"Shop now"),W(11,"br"),A(12,"Delivery guy is next to your house"),W(13,"br")(14,"i",4),T(),b(15,"div",5),Ve(16,l$,7,3,"div",6),T()()(),W(17,"app-footer")),r&2&&(B(16),ge("ngForOf",i.images))},dependencies:[dn,jt,li],styles:[".home-container[_ngcontent-%COMP%]{padding:20px;font-family:Arial,sans-serif}.banner[_ngcontent-%COMP%]{background-image:url(/banner.png);background-size:cover;background-position:center;color:#000;font-family:Courier New;text-align:center;padding:220px 20px;border-radius:10px}.banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:10px}.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:20px}.shop-now-btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:15px 30px;font-size:1.2rem;cursor:pointer;border-radius:5px;transition:background-color .3s}.shop-now-btn[_ngcontent-%COMP%]:hover{background-color:#59ff00}.container[_ngcontent-%COMP%]{margin-top:20px}.container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-family:Georgia,;font-size:30px}.product-card[_ngcontent-%COMP%]{width:220px;height:200px;margin:0 10px;display:flex;flex-direction:column;justify-content:space-between;border-radius:10px;transition:transform .3s ease,box-shadow .3s ease}.product-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 15px #00000026;transform:translateY(-5px)}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px;transition:transform .3s ease}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05);border-radius:10px}.card-body[_ngcontent-%COMP%]{background-color:transparent;padding:15px;max-height:50px;overflow-y:auto;-ms-overflow-style:none;scrollbar-width:none}.card-body[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.card-title[_ngcontent-%COMP%]{font-weight:700;color:#fff;font-size:small;margin-bottom:3px}.card-text[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:10px;flex-grow:1}.card-footer[_ngcontent-%COMP%]{background-color:transparent;text-align:center;padding:10px 0;color:red;text-decoration:line-through;max-height:10px}.btn-primary[_ngcontent-%COMP%]{background-color:#000;border:none;border-radius:30px;color:#fff;padding:8px 15px;font-size:18px;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#4dff00ec}.image[_ngcontent-%COMP%]{max-height:40px}"]})}return n})();function d$(n,e){if(n&1&&(b(0,"tr")(1,"td",23)(2,"h3")(3,"a",24),A(4,"OrderID "),T(),b(5,"p",25),A(6),T()(),b(7,"p",25),A(8),T(),b(9,"p",25),A(10),T(),b(11,"div",18)(12,"a",26),W(13,"i",27),A(14," View Details"),T()()(),b(15,"td")(16,"span"),A(17," Status:"),T(),b(18,"h4"),A(19,"Not delivered Yet "),T()(),b(20,"td")(21,"span"),A(22,"Total:"),T(),b(23,"h4"),A(24),T()(),b(25,"td",28)(26,"button",20),W(27,"i",29),A(28," Track Order "),T()()()),n&2){let t=e.$implicit;B(6),Ee("",t.id," "),B(2),Ee("Placed on: ",t.dateCommande,""),B(2),Ee("Items: ",t.details.length,""),B(14),st(t.montant)}}var Vx=(()=>{class n{orderService;route;userOrders=[];constructor(t,r){this.orderService=t,this.route=r}ngOnInit(){this.orderService.getAllOrdersByUserId().subscribe(t=>{this.userOrders=t.map(r=>ye(U({},r),{dateCommande:r.dateCommande?r.dateCommande.toDate():null}))})}calculateTotal(t){return t.productCart.reduce((r,i)=>r+i.qte*i.produit.price,0)}continueShopping(){this.route.navigate(["/products"])}static \u0275fac=function(r){return new(r||n)(H(Es),H(Ne))};static \u0275cmp=Se({type:n,selectors:[["app-myorders"]],standalone:!0,features:[Ae],decls:45,vars:3,consts:[[1,"container"],[1,"wrapper","wrapper-content","animated","fadeInRight"],[1,"row"],[1,"col-md-9"],[1,"ibox"],[1,"ibox-title"],[1,"pull-right"],[1,"ibox-content"],[1,"table-responsive"],[1,"table","shoping-cart-table"],[4,"ngFor","ngForOf"],[1,"btn","btn-white"],[1,"fa","fa-arrow-left"],[1,"btn","btn-white","pull-right"],[1,"fa","fa-arrow-right"],[1,"col-md-3"],[1,"font-bold"],[1,"text-muted","small"],[1,"m-t-sm"],[1,"btn-group"],[1,"btn","btn-primary","btn-sm",2,"background-color","#b8fc04","border-width","0px","border-radius","6px"],[1,"fa","fa-list"],[1,"ok",2,"height","30vh"],[1,"desc"],[1,"text-navy"],[1,"small"],[1,"text-muted"],[1,"fa","fa-eye"],["width","150"],[1,"fa","fa-truck"]],template:function(r,i){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"span",6),A(7,"("),b(8,"strong"),A(9),T(),A(10,") Mes Commandes : "),T(),b(11,"h5"),A(12,"Order History"),T()(),b(13,"div",7)(14,"div",8)(15,"table",9)(16,"tbody"),Ve(17,d$,29,4,"tr",10),T()()()(),b(18,"div",7)(19,"button",11),W(20,"i",12),A(21," Previous "),T(),b(22,"button",13),A(23," Next "),W(24,"i",14),T()()()(),b(25,"div",15)(26,"div",4)(27,"div",5)(28,"h5"),A(29,"Summary"),T()(),b(30,"div",7)(31,"span"),A(32,"Total Orders:"),T(),b(33,"h2",16),A(34),T(),W(35,"hr"),b(36,"span",17),A(37," Review your order history "),T(),b(38,"div",18)(39,"div",19)(40,"button",20),W(41,"i",21),A(42," View All Orders"),T()()()()()()()()(),W(43,"div",22)(44,"app-footer")),r&2&&(B(9),st(i.userOrders.length),B(8),ge("ngForOf",i.userOrders),B(17),st(i.userOrders.length))},dependencies:[jt,li]})}return n})();var iw=(n,e)=>{let t=N(Bt),r=N(Ne);return t.currentUserSig()==null?(r.navigate(["/signin"]),!1):!0};var h$=()=>[1,2,3,4,5],f$=n=>({"out-of-stock":n}),p$=(n,e)=>({"fa-star":n,"fa-star-o":e});function g$(n,e){if(n&1&&W(0,"i",21),n&2){let t=e.$implicit,r=ze();ge("ngClass",ad(1,p$,t<=r.product.rating,t>r.product.rating))}}function m$(n,e){if(n&1&&(b(0,"span",22),A(1),T()),n&2){let t=e.$implicit;B(),st(t)}}function y$(n,e){if(n&1&&(b(0,"div",23)(1,"div",24)(2,"div",25)(3,"span",26),A(4),T(),b(5,"span",27),A(6),T()(),b(7,"div",28)(8,"p"),A(9),T()(),b(10,"div",29)(11,"button"),A(12,"R\xE9pondre"),T(),b(13,"button"),A(14,"Signaler"),T()()()()),n&2){let t=e.$implicit;B(4),Ee("",t.reviewerName," "),B(2),Ee(" ",t.date," "),B(3),Ee(" ",t.comment," ")}}function v$(n,e){n&1&&(b(0,"p",30),A(1,"No reviews available for this product."),T())}var Lx=(()=>{class n{route;productService;panier;product;reviews;constructor(t,r,i){this.route=t,this.productService=r,this.panier=i}ngOnInit(){let t=+this.route.snapshot.paramMap.get("id");this.productService.getProductById(t).subscribe(r=>{this.product=r,this.reviews=r.reviews})}addToCart(){this.panier.addProductToCart(this.product)}static \u0275fac=function(r){return new(r||n)(H(Jn),H(Ns),H(ai))};static \u0275cmp=Se({type:n,selectors:[["app-productdetails"]],standalone:!0,features:[Ae],decls:56,vars:25,consts:[[1,"product-detail"],[1,"product-main"],[1,"product-image"],[3,"src","alt"],[1,"product-info"],[1,"product-title"],[1,"product-sku"],[1,"product-category","text-navy"],[1,"rating"],["class","fa",3,"ngClass",4,"ngFor","ngForOf"],[1,"product-price"],[1,"product-discount"],[1,"product-stock",3,"ngClass"],[1,"btn-add-to-cart",3,"click","disabled"],[1,"product-details"],["class","product-tag",4,"ngFor","ngForOf"],[1,"product-description"],[1,"product-reviews"],[1,"btn","btn-outline",2,"background-color","black","color","rgb(255, 255, 255)"],["class","review-item",4,"ngFor","ngForOf"],["class","no-reviews",4,"ngIf"],[1,"fa",3,"ngClass"],[1,"product-tag"],[1,"review-item"],[1,"comment"],[1,"comment-header"],[1,"author"],[1,"date"],[1,"comment-body"],[1,"comment-actions"],[1,"no-reviews"]],template:function(r,i){r&1&&(b(0,"div",0)(1,"div",1)(2,"div",2),W(3,"img",3),T(),b(4,"div",4)(5,"h1",5),A(6),T(),b(7,"p",6),A(8),T(),b(9,"p",7),A(10),T(),b(11,"div",8),A(12," Rating: "),Ve(13,g$,1,4,"i",9),A(14),T(),b(15,"p",10),A(16),T(),b(17,"p",11),A(18),T(),b(19,"p",12),A(20),T(),b(21,"button",13),Ce("click",function(){return i.addToCart()}),A(22," Add to Cart "),T()()(),b(23,"div",14)(24,"h2"),A(25,"Product Details"),T(),b(26,"p")(27,"strong"),A(28,"Brand:"),T(),A(29),T(),b(30,"p")(31,"strong"),A(32,"Tags:"),T(),Ve(33,m$,2,1,"span",15),T(),b(34,"p")(35,"strong"),A(36,"Dimensions:"),T(),A(37),T(),b(38,"p")(39,"strong"),A(40,"Weight:"),T(),A(41),T(),b(42,"p")(43,"strong"),A(44,"Return Policy:"),T(),A(45),T(),b(46,"p",16),A(47),T()(),b(48,"div",14)(49,"div",17)(50,"h2"),A(51,"Customer Reviews"),T(),b(52,"button",18),A(53,"Commenter"),T(),Ve(54,y$,15,3,"div",19)(55,v$,2,0,"p",20),T()()()),r&2&&(B(3),Li("alt",i.product.title),ge("src",i.product.images[0],yr),B(3),st(i.product.title),B(2),Ee("SKU: ",i.product.sku,""),B(2),Ee("Category: ",i.product.category,""),B(3),ge("ngForOf",sd(22,h$)),B(),Ee(" (",i.product.rating," stars) "),B(2),Ee("Price: $",i.product.price.toFixed(2),""),B(2),Ee("Discount: ",i.product.discountPercentage,"%"),B(),ge("ngClass",FD(23,f$,i.product.stock===0)),B(),Ee(" Stock: ",i.product.stock>0?i.product.stock+" Available":"Out of stock"," "),B(),ge("disabled",i.product.stock===0),B(8),Ee(" ",i.product.brand,""),B(4),ge("ngForOf",i.product.tags),B(4),fm(" ",i.product.dimensions.width," cm (W) x ",i.product.dimensions.height," cm (H) x ",i.product.dimensions.depth," cm (D)"),B(4),Ee(" ",i.product.weight," Kg"),B(4),Ee(" ",i.product.returnPolicy,""),B(2),st(i.product.description),B(7),ge("ngForOf",i.reviews),B(),ge("ngIf",!i.product.reviews||i.product.reviews.length===0))},dependencies:[pd,Yr,jt],styles:[".product-detail[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:1200px;margin:0 auto;padding:20px;font-family:Arial,sans-serif;color:#000}.product-main[_ngcontent-%COMP%], .product-details[_ngcontent-%COMP%]{flex:1 1 48%;margin:10px}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:8px;box-shadow:0 4px 8px #0003}.product-info[_ngcontent-%COMP%]{padding:15px;border-radius:8px;background-color:#fff;box-shadow:0 4px 8px #0000001a}.product-title[_ngcontent-%COMP%]{font-size:1.8em;color:#000;margin-bottom:5px}.product-sku[_ngcontent-%COMP%], .product-category[_ngcontent-%COMP%], .product-price[_ngcontent-%COMP%], .product-discount[_ngcontent-%COMP%], .product-stock[_ngcontent-%COMP%], .product-description[_ngcontent-%COMP%]{margin:8px 0;font-size:1em}.text-navy[_ngcontent-%COMP%]{color:#000}.rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#b9ff2d}.rating[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.product-stock[_ngcontent-%COMP%]{font-weight:700;font-size:1.1em}.out-of-stock[_ngcontent-%COMP%]{color:#ff1900}.product-details[_ngcontent-%COMP%]{background-color:#fff;padding:15px;border-radius:8px;box-shadow:0 4px 8px #0000001a}.product-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6em;color:#000;border-bottom:2px solid #000000;padding-bottom:5px;margin-bottom:15px}.product-tag[_ngcontent-%COMP%]{background-color:transparent;color:#fff;padding:5px 10px;margin-right:5px;border-radius:12px;font-size:.9em}.btn-add-to-cart[_ngcontent-%COMP%]{background-color:#000;color:#fff;padding:12px 20px;border:none;border-radius:10px;font-size:1em;cursor:pointer;transition:background-color .3s ease;display:inline-block}.btn-add-to-cart[_ngcontent-%COMP%]:disabled{background-color:#fff;cursor:not-allowed}.btn-add-to-cart[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#fffc53}.product-reviews[_ngcontent-%COMP%]{margin-top:20px}.product-reviews[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6em;color:#000;border-bottom:2px solid #ffffff;padding-bottom:5px;margin-bottom:15px}.review-item[_ngcontent-%COMP%]{background-color:transparent;padding:10px;border-radius:5px;margin-bottom:10px}.review-text[_ngcontent-%COMP%]{margin:5px 0}.no-reviews[_ngcontent-%COMP%]{color:transparent;font-style:italic;font-size:.9em}.comment[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;padding:10px}.comment-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.comment-author[_ngcontent-%COMP%]{font-weight:700}.comment-date[_ngcontent-%COMP%]{color:#888;font-size:.8em}.comment-body[_ngcontent-%COMP%]{margin-bottom:10px}.comment-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px;padding:5px 10px;border:none;background-color:#f0f0f0;border-radius:3px;cursor:pointer}"]})}return n})();var jx=(()=>{class n{authService=N(Bt);userName;userEmail;ngOnInit(){this.userName=this.authService.currentUserSig()?.username,this.userEmail=this.authService.currentUserSig()?.email}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Se({type:n,selectors:[["app-account"]],standalone:!0,features:[Ae],decls:8,vars:2,consts:[[1,"account-container"],[1,"profile-photo"],["src","anonyme.png","alt","Profile Photo"],[1,"account-details"],[1,"name"],[1,"email"]],template:function(r,i){r&1&&(b(0,"div",0)(1,"div",1),W(2,"img",2),T(),b(3,"div",3)(4,"h2",4),A(5),T(),b(6,"p",5),A(7),T()()()),r&2&&(B(5),Ee("Nom et Pr\xE9nome : ",i.userName,""),B(2),Ee("Email : ",i.userEmail,""))},styles:[".account-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:400px;margin:0 auto}.profile-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;object-fit:cover;margin-right:16px}.account-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.name[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;margin:0}.email[_ngcontent-%COMP%]{font-size:.9em;color:#666;margin:4px 0 0}"]})}return n})();var Ux=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Se({type:n,selectors:[["app-future"]],standalone:!0,features:[Ae],decls:2,vars:0,template:function(r,i){r&1&&(b(0,"h4"),A(1,"not implemented yet"),T())}})}return n})();var ow=[{path:"",component:Fx},{path:"products",component:QA},{path:"panier",component:Nx},{path:"signup",component:Ox},{path:"signin",component:kx},{path:"orders",component:Vx,canActivate:[iw]},{path:"product/:id",component:Lx},{path:"***",component:WA},{path:"account",component:jx,canActivate:[iw]},{path:"future",component:Ux}];var _$=new Map,w$={activated:!1,tokenObservers:[]},E$={initialized:!1,enabled:!1};function xn(n){return _$.get(n)||Object.assign({},w$)}function qx(){return E$}var I$="https://content-firebaseappcheck.googleapis.com/v1";var C$="exchangeDebugToken",Bx={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},FQ=24*60*60*1e3;var aw=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return L(this,null,function*(){this.stop();try{this.pending=new Rf,this.pending.promise.catch(t=>{}),yield D$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Rf,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function D$(n){return new Promise(e=>{setTimeout(e,n)})}var b$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},pi=new b0("appCheck","AppCheck",b$);function Gx(n){if(!xn(n).activated)throw pi.create("use-before-activation",{appName:n.name})}function Wx(r,i){return L(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(o["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(v){throw pi.create("fetch-network-error",{originalErrorMessage:v?.message})}if(u.status!==200)throw pi.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(v){throw pi.create("fetch-parse-error",{originalErrorMessage:v?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw pi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function Kx(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${I$}/projects/${t}/apps/${r}:${C$}?key=${i}`,body:{debug_token:e}}}var T$="firebase-app-check-database",S$=1,cw="firebase-app-check-store";var ef=null;function A$(){return ef||(ef=new Promise((n,e)=>{try{let t=indexedDB.open(T$,S$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(pi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(cw,{keyPath:"compositeKey"})}}}catch(t){e(pi.create("storage-open",{originalErrorMessage:t?.message}))}}),ef)}function x$(n,e){return M$(R$(n),e)}function M$(n,e){return L(this,null,function*(){let r=(yield A$()).transaction(cw,"readwrite"),o=r.objectStore(cw).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(pi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function R$(n){return`${n.options.appId}-${n.name}`}var uw=new hu("@firebase/app-check");function sw(n,e){return Pf()?x$(n,e).catch(t=>{uw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Qx(){return qx().enabled}function Yx(){return L(this,null,function*(){let n=qx();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var P$={error:"UNKNOWN_ERROR"};function N$(n){return E0.encodeString(JSON.stringify(n),!1)}function lw(n,e=!1){return L(this,null,function*(){let t=n.app;Gx(t);let r=xn(t),i=r.token,o;if(i&&!Wc(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(Wc(u)?i=u:yield sw(t,void 0))}if(!e&&i&&Wc(i))return{token:i.token};let s=!1;if(Qx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Wx(Kx(t,yield Yx()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let u=yield r.exchangeTokenPromise;return yield sw(t,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield xn(t).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?uw.warn(u.message):uw.error(u),o=u}let a;return i?o?Wc(i)?a={token:i.token,internalError:o}:a=zx(o):(a={token:i.token},r.token=i,yield sw(t,i)):a=zx(o),s&&V$(t,a),a})}function O$(n){return L(this,null,function*(){let e=n.app;Gx(e);let{provider:t}=xn(e);if(Qx()){let r=yield Yx(),{token:i}=yield Wx(Kx(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function k$(n,e,t,r){let{app:i}=n,o=xn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Wc(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),$x(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>$x(n))}function Zx(n,e){let t=xn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function $x(n){let{app:e}=n,t=xn(e),r=t.tokenRefresher;r||(r=F$(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function F$(n){let{app:e}=n;return new aw(()=>L(this,null,function*(){let t=xn(e),r;if(t.token?r=yield lw(n,!0):r=yield lw(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=xn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Bx.RETRIAL_MIN_WAIT,Bx.RETRIAL_MAX_WAIT)}function V$(n,e){let t=xn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Wc(n){return n.expireTimeMillis-Date.now()>0}function zx(n){return{token:N$(P$),error:n}}var dw=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=xn(this.app);for(let t of e)Zx(this.app,t.next);return Promise.resolve()}};function L$(n,e){return new dw(n,e)}function j$(n){return{getToken:e=>lw(n,e),getLimitedUseToken:()=>O$(n),addTokenListener:e=>k$(n,"INTERNAL",e),removeTokenListener:e=>Zx(n.app,e)}}var U$="@firebase/app-check",B$="0.8.8";var $$="app-check",Hx="app-check-internal";function z$(){sa(new oa($$,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return L$(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Hx).initialize()})),sa(new oa(Hx,n=>{let e=n.getProvider("app-check").getImmediate();return j$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),tt(U$,B$)}z$();var H$=["localhost","0.0.0.0","127.0.0.1"],KQ=typeof window<"u"&&H$.includes(window.location.hostname);var G$="firebase",W$="10.14.1";fn.registerVersion(G$,W$,"app-compat");var K$=["ngOnDestroy"],Xx=(n,e,t,r={})=>new Proxy(n,{get:(i,o)=>t.runOutsideAngular(()=>{if(n[o])return r?.spy?.get&&r.spy.get(o,n[o]),n[o];if(K$.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let u=a?.[o];return typeof u=="function"?u.bind(a):u?.then?u.then(l=>t.run(()=>l)):t.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>s[u],apply:(a,u,l)=>s.then(h=>{let p=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,p),p})})})});var tf=class{constructor(e){return e}},nf=new $("angularfire2.app.options"),rf=new $("angularfire2.app.name");function hw(n,e,t){let r=typeof t=="string"&&t||"[DEFAULT]",i=typeof t=="object"&&t||{};i.name=i.name||r;let s=fn.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>fn.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){let a=!!module.hot;Q$("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new tf(s)}var Q$=(n,...e)=>{gm()&&typeof console<"u"&&console[n](...e)},Y$={provide:tf,useFactory:hw,deps:[nf,we,[new _t,rf]]},fw=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:nf,useValue:t},{provide:rf,useValue:r}]}}constructor(t){fn.registerVersion("angularfire",Ut.full,"core"),fn.registerVersion("angularfire",Ut.full,"app-compat"),fn.registerVersion("angular",Oa.full,t.toString())}static \u0275fac=function(r){return new(r||n)(z(rt))};static \u0275mod=ot({type:n});static \u0275inj=it({providers:[Y$]})}return n})();function eM(n,e,t,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return Z$(i,s)||(Jx("error",`${e} was already initialized on the ${t} Firebase App with different settings.${J$?" You may need to reload as Firebase is not HMR aware.":""}`),Jx("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}function Z$(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var J$=typeof module<"u"&&!!module.hot,Jx=(n,...e)=>{gm()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var X$=new $("angularfire2.auth.use-emulator"),e4=new $("angularfire2.auth.settings"),t4=new $("angularfire2.auth.tenant-id"),n4=new $("angularfire2.auth.langugage-code"),r4=new $("angularfire2.auth.use-device-language"),i4=new $("angularfire.auth.persistence"),o4=(n,e,t,r,i,o,s,a)=>eM(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let u=e.runOutsideAngular(()=>n.auth());if(t&&u.useEmulator(...t),r&&(u.tenantId=r),u.languageCode=i,o&&u.useDeviceLanguage(),s)for(let[l,h]of Object.entries(s))u.settings[l]=h;return a&&u.setPersistence(a),u},[t,r,i,o,s,a]),pw=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,o,s,a,u,l,h,p,m,v){let x=new Be,P=Y(void 0).pipe(Ht(s.outsideAngular),Me(()=>o.runOutsideAngular(()=>import("./chunk-ARNYNDQZ.js"))),ee(()=>hw(t,o,r)),ee(M=>o4(M,o,a,l,h,p,u,m)),Qu({bufferSize:1,refCount:!1}));if(Bi(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Y(null);else{P.pipe(qt()).subscribe();let M=P.pipe(Me(V=>V.getRedirectResult().then(J=>J,()=>null)),zm,Qu({bufferSize:1,refCount:!1})),F=P.pipe(Me(V=>new oe(J=>({unsubscribe:o.runOutsideAngular(()=>V.onAuthStateChanged(me=>J.next(me),me=>J.error(me),()=>J.complete()))})))),G=P.pipe(Me(V=>new oe(J=>({unsubscribe:o.runOutsideAngular(()=>V.onIdTokenChanged(me=>J.next(me),me=>J.error(me),()=>J.complete()))}))));this.authState=M.pipe(Zu(F),en(s.outsideAngular),Ht(s.insideAngular)),this.user=M.pipe(Zu(G),en(s.outsideAngular),Ht(s.insideAngular)),this.idToken=this.user.pipe(Me(V=>V?de(V.getIdToken()):Y(null))),this.idTokenResult=this.user.pipe(Me(V=>V?de(V.getIdTokenResult()):Y(null))),this.credential=rp(M,x,this.authState.pipe(ut(V=>!V))).pipe(ee(V=>V?.user?V:null),en(s.outsideAngular),Ht(s.insideAngular))}return Xx(this,P,o,{spy:{apply:(M,F,G)=>{(M.startsWith("signIn")||M.startsWith("createUser"))&&G.then(V=>x.next(V))}}})}static \u0275fac=function(r){return new(r||n)(z(nf),z(rf,8),z(rt),z(we),z(Hi),z(X$,8),z(e4,8),z(t4,8),z(n4,8),z(r4,8),z(i4,8),z(ei,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),gw=(()=>{class n{constructor(){fn.registerVersion("angularfire",Ut.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ot({type:n});static \u0275inj=it({providers:[pw]})}return n})();var of={apiKey:"AIzaSyBRSAjljFn3J_Lpk_CD10_a3tb2tYz4kQw",authDomain:"shopforemi.firebaseapp.com",projectId:"shopforemi",storageBucket:"shopforemi.firebasestorage.app",messagingSenderId:"181782064973",appId:"1:181782064973:web:0193f057d46b9b38a99104",measurementId:"G-YFRW93XMFZ"};$o(fw.initializeApp(of));$o(pw);$o(gw);var tM={providers:[$D({eventCoalescing:!0}),Nb(),$_(ow),Nm(),qm(()=>Gm(of)),Bb(()=>Hb()),$_(ow),Es,qm(()=>Gm(of)),Nm(),$o(fw.initializeApp(of),gw,GS,Fb)]};function s4(n,e){if(n&1&&(b(0,"option",25),A(1),T()),n&2){let t=e.$implicit;ge("value",t),B(),Ee(" ",t," ")}}function a4(n,e){if(n&1){let t=In();b(0,"li",8)(1,"a",26),Ce("click",function(){Ot(t);let i=ze();return kt(i.login())}),A(2," Connexion "),T()()}}function c4(n,e){if(n&1){let t=In();b(0,"li",8)(1,"a",26),Ce("click",function(){Ot(t);let i=ze();return kt(i.logout())}),A(2," Deconnexion "),T()()}}var nM=(()=>{class n{productService;searchService;router;selectedCategory="";searchKey="";categories=[];constructor(t,r,i){this.productService=t,this.searchService=r,this.router=i}authService=N(Bt);ngOnInit(){this.productService.getCategoriesOfProducts().subscribe(t=>{this.categories=t}),this.authService.user$.subscribe(t=>{t?this.authService.currentUserSig.set({email:t.email,username:t.displayName}):this.authService.currentUserSig.set(null),console.log(this.authService.currentUserSig())})}onSearch(t){this.searchService.setCategory(""),this.searchService.setSearchTerm(t),this.router.navigate(["/products"])}onCategoryChange(){this.searchService.setCategory(this.selectedCategory),this.router.navigate(["/products"])}logout(){this.authService.logout(),this.router.navigateByUrl("/")}login(){this.router.navigateByUrl("signin")}static \u0275fac=function(r){return new(r||n)(H(Ns),H(Os),H(Ne))};static \u0275cmp=Se({type:n,selectors:[["app-navbar"]],standalone:!0,features:[Ae],decls:43,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-dark"],[1,"container-fluid"],["routerLink","/","routerLinkActive","active",1,"navbar-brand"],["src","unv.png","alt","Universe Logo","height","120"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/","routerLinkActive","active",1,"nav-link","active"],["routerLink","future","routerLinkActive","actice",1,"nav-link"],["role","searchbox",1,"d-flex","gap-2"],[1,"categories-dropdown"],[1,"dropdown-select",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["role","search",1,"d-flex"],["type","search","placeholder","Search","aria-label","Search",1,"dd","form-control","me-2",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline"],[1,"panier","fa-sharp","fa-solid","fa-magnifying-glass"],[1,"navbar-nav","mb-2","mb-lg-0"],["routerLink","/account","routerLinkActive","active",1,"nav-link"],["routerLink","/orders","routerLinkActive","active",1,"nav-link"],["routerLink","/panier","routerLinkActive","active",1,"nav-link"],[1,"fa-solid","fa-cart-shopping"],[3,"value"],[1,"btn","btn-outline",3,"click"]],template:function(r,i){r&1&&(b(0,"nav",0)(1,"div",1)(2,"a",2),W(3,"img",3),A(4," UNIVERSO "),T(),b(5,"button",4),W(6,"span",5),T(),b(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),A(11,"Home"),T()(),b(12,"li",8)(13,"a",10),A(14,"Prime"),T()(),b(15,"li",8)(16,"a",10),A(17,"Deals"),T()(),b(18,"li",8)(19,"a",10),A(20,"Customer Service"),T()()(),b(21,"div",11)(22,"div",12)(23,"select",13),Ko("ngModelChange",function(s){return Na(i.selectedCategory,s)||(i.selectedCategory=s),s}),Ce("ngModelChange",function(){return i.onCategoryChange()}),b(24,"option",14),A(25,"All"),T(),Ve(26,s4,2,2,"option",15),T()(),b(27,"div",16)(28,"input",17),Ce("ngModelChange",function(s){return i.onSearch(s)}),Ko("ngModelChange",function(s){return Na(i.searchKey,s)||(i.searchKey=s),s}),T(),b(29,"button",18),W(30,"i",19),T()()(),b(31,"ul",20),Ve(32,a4,3,0,"li",8)(33,c4,3,0,"li",8),b(34,"li",8)(35,"a",21),A(36," Account "),T()(),b(37,"li",8)(38,"a",22),A(39,"Orders"),T()(),b(40,"li",8)(41,"a",23),W(42,"i",24),T()()()()()()),r&2&&(B(23),Wo("ngModel",i.selectedCategory),B(3),ge("ngForOf",i.categories),B(2),Wo("ngModel",i.searchKey),B(4),Vi(i.authService.currentUserSig()==null?32:-1),B(),Vi(i.authService.currentUserSig()?33:-1))},dependencies:[jt,js,Ax,Mx,er,Yh,fi,zc,dn,ln,Xn],styles:[".navbar-brand[_ngcontent-%COMP%]{font-weight:700;color:#000}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#030000}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#61c206}.navbar-nav[_ngcontent-%COMP%]   ms-auto[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.navbar-nav[_ngcontent-%COMP%]   ms-auto[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#73ff00}.categories-dropdown[_ngcontent-%COMP%]{margin-right:0}.categories-dropdown[_ngcontent-%COMP%]   .dropdown-select[_ngcontent-%COMP%]{appearance:y;border:1px solid #ced4da;padding:.5rem 1rem;font-size:16px;background-color:#fff;color:#495057;border-radius:8px;width:120px}.categories-dropdown[_ngcontent-%COMP%]   .dropdown-select[_ngcontent-%COMP%]:focus{border-color:#0a2645;outline:none;box-shadow:0 0 0 .2rem #007bff40}.form-control[_ngcontent-%COMP%]:focus{outline:none;transition:all .4s ease-in-out}.form-control[_ngcontent-%COMP%]{width:500px}"]})}return n})();var rM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Se({type:n,selectors:[["app-root"]],standalone:!0,features:[Ae],decls:2,vars:0,consts:[[2,"margin-top","7rem"]],template:function(r,i){r&1&&W(0,"app-navbar")(1,"router-outlet",0)},dependencies:[V_,nM]})}return n})();Rb(rM,tM).catch(n=>console.error(n));
