import{A as Rf,B as Pf,C as gu,D as Nf,E as Of,F as fn,a as U,b as me,c as f0,d as L,e as p0,f as du,g as g0,h as m0,i as y0,j as Af,k as v0,l as _0,m as xf,n as w0,o as E0,p as rr,q as oa,r as ir,s as hu,t as sa,u as I0,v as C0,w as fu,x as pu,y as nt,z as Mf}from"./chunk-LNBT3LOM.js";function D0(n,e){return Object.is(n,e)}var rt=null,mu=!1,yu=1,or=Symbol("SIGNAL");function ve(n){let e=rt;return rt=n,e}function b0(){return rt}var ca={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Vf(n){if(mu)throw new Error("");if(rt===null)return;rt.consumerOnSignalRead(n);let e=rt.nextProducerIndex++;if(Eu(rt),e<rt.producerNode.length&&rt.producerNode[e]!==n&&aa(rt)){let t=rt.producerNode[e];wu(t,rt.producerIndexOfThis[e])}rt.producerNode[e]!==n&&(rt.producerNode[e]=n,rt.producerIndexOfThis[e]=aa(rt)?x0(n,rt,e):0),rt.producerLastReadVersion[e]=n.version}function FM(){yu++}function T0(n){if(!(aa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===yu)){if(!n.producerMustRecompute(n)&&!jf(n)){n.dirty=!1,n.lastCleanEpoch=yu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=yu}}function S0(n){if(n.liveConsumerNode===void 0)return;let e=mu;mu=!0;try{for(let t of n.liveConsumerNode)t.dirty||VM(t)}finally{mu=e}}function A0(){return rt?.consumerAllowSignalWrites!==!1}function VM(n){n.dirty=!0,S0(n),n.consumerMarkedDirty?.(n)}function _u(n){return n&&(n.nextProducerIndex=0),ve(n)}function Lf(n,e){if(ve(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(aa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)wu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function jf(n){Eu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(T0(t),r!==t.version))return!0}return!1}function Uf(n){if(Eu(n),aa(n))for(let e=0;e<n.producerNode.length;e++)wu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function x0(n,e,t){if(M0(n),n.liveConsumerNode.length===0&&R0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=x0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function wu(n,e){if(M0(n),n.liveConsumerNode.length===1&&R0(n))for(let r=0;r<n.producerNode.length;r++)wu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Eu(i),i.producerIndexOfThis[r]=e}}function aa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Eu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function M0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function R0(n){return n.producerNode!==void 0}function P0(n){let e=Object.create(LM);e.computation=n;let t=()=>{if(T0(e),Vf(e),e.value===vu)throw e.error;return e.value};return t[or]=e,t}var kf=Symbol("UNSET"),Ff=Symbol("COMPUTING"),vu=Symbol("ERRORED"),LM=me(U({},ca),{value:kf,dirty:!0,error:null,equal:D0,producerMustRecompute(n){return n.value===kf||n.value===Ff},producerRecomputeValue(n){if(n.value===Ff)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Ff;let t=_u(n),r;try{r=n.computation()}catch(i){r=vu,n.error=i}finally{Lf(n,t)}if(e!==kf&&e!==vu&&r!==vu&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function jM(){throw new Error}var N0=jM;function O0(){N0()}function k0(n){N0=n}var UM=null;function F0(n){let e=Object.create(L0);e.value=n;let t=()=>(Vf(e),e.value);return t[or]=e,t}function Bf(n,e){A0()||O0(),n.equal(n.value,e)||(n.value=e,BM(n))}function V0(n,e){A0()||O0(),Bf(n,e(n.value))}var L0=me(U({},ca),{equal:D0,value:void 0});function BM(n){n.version++,FM(),S0(n),UM?.()}function ie(n){return typeof n=="function"}function ho(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Iu=ho(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function vi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ke=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ie(r))try{r()}catch(o){e=o instanceof Iu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{j0(o)}catch(s){e=e??[],s instanceof Iu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Iu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)j0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&vi(t,e)}remove(e){let{_finalizers:t}=this;t&&vi(t,e),e instanceof n&&e._removeParent(this)}};Ke.EMPTY=(()=>{let n=new Ke;return n.closed=!0,n})();var $f=Ke.EMPTY;function Cu(n){return n instanceof Ke||n&&"closed"in n&&ie(n.remove)&&ie(n.add)&&ie(n.unsubscribe)}function j0(n){ie(n)?n():n.unsubscribe()}var pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fo={setTimeout(n,e,...t){let{delegate:r}=fo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=fo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Du(n){fo.setTimeout(()=>{let{onUnhandledError:e}=pn;if(e)e(n);else throw n})}function ua(){}var U0=zf("C",void 0,void 0);function B0(n){return zf("E",void 0,n)}function $0(n){return zf("N",n,void 0)}function zf(n,e,t){return{kind:n,value:e,error:t}}var _i=null;function po(n){if(pn.useDeprecatedSynchronousErrorHandling){let e=!_i;if(e&&(_i={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=_i;if(_i=null,t)throw r}}else n()}function z0(n){pn.useDeprecatedSynchronousErrorHandling&&_i&&(_i.errorThrown=!0,_i.error=n)}var wi=class extends Ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Cu(e)&&e.add(this)):this.destination=HM}static create(e,t,r){return new sr(e,t,r)}next(e){this.isStopped?qf($0(e),this):this._next(e)}error(e){this.isStopped?qf(B0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qf(U0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$M=Function.prototype.bind;function Hf(n,e){return $M.call(n,e)}var Gf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){bu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){bu(r)}else bu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){bu(t)}}},sr=class extends wi{constructor(e,t,r){super();let i;if(ie(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&pn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Hf(e.next,o),error:e.error&&Hf(e.error,o),complete:e.complete&&Hf(e.complete,o)}):i=e}this.destination=new Gf(i)}};function bu(n){pn.useDeprecatedSynchronousErrorHandling?z0(n):Du(n)}function zM(n){throw n}function qf(n,e){let{onStoppedNotification:t}=pn;t&&fo.setTimeout(()=>t(n,e))}var HM={closed:!0,next:ua,error:zM,complete:ua};var go=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Bt(n){return n}function Tu(...n){return Wf(n)}function Wf(n){return n.length===0?Bt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var oe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=GM(t)?t:new sr(t,r,i);return po(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=H0(r),new r((i,o)=>{let s=new sr({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[go](){return this}pipe(...t){return Wf(t)(this)}toPromise(t){return t=H0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function H0(n){var e;return(e=n??pn.Promise)!==null&&e!==void 0?e:Promise}function qM(n){return n&&ie(n.next)&&ie(n.error)&&ie(n.complete)}function GM(n){return n&&n instanceof wi||qM(n)&&Cu(n)}function Kf(n){return ie(n?.lift)}function fe(n){return e=>{if(Kf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(n,e,t,r,i){return new Qf(n,e,t,r,i)}var Qf=class extends wi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function mo(){return fe((n,e)=>{let t=null;n._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var yo=class extends oe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Kf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ke;let t=this.getSubject();e.add(this.source.subscribe(pe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ke.EMPTY)}return e}refCount(){return mo()(this)}};var q0=ho(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=(()=>{class n extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Su(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new q0}next(t){po(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){po(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){po(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?$f:(this.currentObservers=null,o.push(t),new Ke(()=>{this.currentObservers=null,vi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new oe;return t.source=this,t}}return n.create=(e,t)=>new Su(e,t),n})(),Su=class extends Ue{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:$f}};var Be=class extends Ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var la={now(){return(la.delegate||Date).now()},delegate:void 0};var Au=class extends Ue{constructor(e=1/0,t=1/0,r=la){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}};var xu=class extends Ke{constructor(e,t){super()}schedule(e,t=0){return this}};var da={setInterval(n,e,...t){let{delegate:r}=da;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=da;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var vo=class extends xu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return da.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&da.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,vi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var _o=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};_o.now=la.now;var wo=class extends _o{constructor(e,t=_o.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var ha=new wo(vo);var Mu=class extends vo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ru=class extends wo{};var Yf=new Ru(Mu);var xt=new oe(n=>n.complete());function G0(n){return n&&ie(n.schedule)}function Zf(n){return n[n.length-1]}function Pu(n){return ie(Zf(n))?n.pop():void 0}function Mn(n){return G0(Zf(n))?n.pop():void 0}function W0(n,e){return typeof Zf(n)=="number"?n.pop():e}var Nu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ou(n){return ie(n?.then)}function ku(n){return ie(n[go])}function Fu(n){return Symbol.asyncIterator&&ie(n?.[Symbol.asyncIterator])}function Vu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function WM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Lu=WM();function ju(n){return ie(n?.[Lu])}function Uu(n){return g0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield du(t.read());if(i)return yield du(void 0);yield yield du(r)}}finally{t.releaseLock()}})}function Bu(n){return ie(n?.getReader)}function Le(n){if(n instanceof oe)return n;if(n!=null){if(ku(n))return KM(n);if(Nu(n))return QM(n);if(Ou(n))return YM(n);if(Fu(n))return K0(n);if(ju(n))return ZM(n);if(Bu(n))return JM(n)}throw Vu(n)}function KM(n){return new oe(e=>{let t=n[go]();if(ie(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function QM(n){return new oe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function YM(n){return new oe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Du)})}function ZM(n){return new oe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function K0(n){return new oe(e=>{XM(n,e).catch(t=>e.error(t))})}function JM(n){return K0(Uu(n))}function XM(n,e){var t,r,i,o;return p0(this,void 0,void 0,function*(){try{for(t=m0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Vt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function $t(n,e=0){return fe((t,r)=>{t.subscribe(pe(r,i=>Vt(r,n,()=>r.next(i),e),()=>Vt(r,n,()=>r.complete(),e),i=>Vt(r,n,()=>r.error(i),e)))})}function Jt(n,e=0){return fe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Q0(n,e){return Le(n).pipe(Jt(e),$t(e))}function Y0(n,e){return Le(n).pipe(Jt(e),$t(e))}function Z0(n,e){return new oe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function J0(n,e){return new oe(t=>{let r;return Vt(t,e,()=>{r=n[Lu](),Vt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ie(r?.return)&&r.return()})}function $u(n,e){if(!n)throw new Error("Iterable cannot be null");return new oe(t=>{Vt(t,e,()=>{let r=n[Symbol.asyncIterator]();Vt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function X0(n,e){return $u(Uu(n),e)}function eE(n,e){if(n!=null){if(ku(n))return Q0(n,e);if(Nu(n))return Z0(n,e);if(Ou(n))return Y0(n,e);if(Fu(n))return $u(n,e);if(ju(n))return J0(n,e);if(Bu(n))return X0(n,e)}throw Vu(n)}function de(n,e){return e?eE(n,e):Le(n)}function Q(...n){let e=Mn(n);return de(n,e)}function Eo(n,e){let t=ie(n)?n:()=>n,r=i=>i.error(t());return new oe(e?i=>e.schedule(r,0,i):r)}function Jf(n){return!!n&&(n instanceof oe||ie(n.lift)&&ie(n.subscribe))}var ar=ho(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(n,e){return fe((t,r)=>{let i=0;t.subscribe(pe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:eR}=Array;function tR(n,e){return eR(e)?n(...e):n(e)}function zu(n){return ee(e=>tR(n,e))}var{isArray:nR}=Array,{getPrototypeOf:rR,prototype:iR,keys:oR}=Object;function Hu(n){if(n.length===1){let e=n[0];if(nR(e))return{args:e,keys:null};if(sR(e)){let t=oR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function sR(n){return n&&typeof n=="object"&&rR(n)===iR}function qu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function cr(...n){let e=Mn(n),t=Pu(n),{args:r,keys:i}=Hu(n);if(r.length===0)return de([],e);let o=new oe(aR(r,e,i?s=>qu(i,s):Bt));return t?o.pipe(zu(t)):o}function aR(n,e,t=Bt){return r=>{tE(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)tE(e,()=>{let l=de(n[u],e),h=!1;l.subscribe(pe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function tE(n,e,t){n?Vt(t,n,e):e()}function nE(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=P=>l<r?S(P):u.push(P),S=P=>{o&&e.next(P),l++;let x=!1;Le(t(P,h++)).subscribe(pe(e,F=>{i?.(F),o?v(F):e.next(F)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let F=u.shift();s?Vt(e,s,()=>S(F)):S(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(pe(e,v,()=>{p=!0,m()})),()=>{a?.()}}function Ze(n,e,t=1/0){return ie(e)?Ze((r,i)=>ee((o,s)=>e(r,o,i,s))(Le(n(r,i))),t):(typeof e=="number"&&(t=e),fe((r,i)=>nE(r,i,n,t)))}function Rn(n=1/0){return Ze(Bt,n)}function rE(){return Rn(1)}function Io(...n){return rE()(de(n,Mn(n)))}function Gu(n){return new oe(e=>{Le(n()).subscribe(e)})}function Xf(...n){let e=Pu(n),{args:t,keys:r}=Hu(n),i=new oe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Le(t[h]).subscribe(pe(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?qu(r,a):a),o.complete())}))}});return e?i.pipe(zu(e)):i}function ep(...n){let e=Mn(n),t=W0(n,1/0),r=n;return r.length?r.length===1?Le(r[0]):Rn(t)(de(r,e)):xt}function ut(n,e){return fe((t,r)=>{let i=0;t.subscribe(pe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Pn(n){return fe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(pe(t,void 0,void 0,s=>{o=Le(n(s,Pn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function iE(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(pe(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ur(n,e){return ie(e)?Ze(n,e,1):Ze(n,1)}function tp(n,e=ha){return fe((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+n,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}t.subscribe(pe(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Vr(n){return fe((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function lr(n){return n<=0?()=>xt:fe((e,t)=>{let r=0;e.subscribe(pe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function np(n){return ee(()=>n)}function Wu(n=cR){return fe((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function cR(){return new ar}function Ei(n){return fe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function zt(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ut((i,o)=>n(i,o,r)):Bt,lr(1),t?Vr(e):Wu(()=>new ar))}function Co(n){return n<=0?()=>xt:fe((e,t)=>{let r=[];e.subscribe(pe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function rp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ut((i,o)=>n(i,o,r)):Bt,Co(1),t?Vr(e):Wu(()=>new ar))}function Ku(n,e){return fe(iE(n,e,arguments.length>=2,!0))}function oE(n={}){let{connector:e=()=>new Ue,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,l=0,h=!1,p=!1,m=()=>{a?.unsubscribe(),a=void 0},v=()=>{m(),s=u=void 0,h=p=!1},S=()=>{let P=s;v(),P?.unsubscribe()};return fe((P,x)=>{l++,!p&&!h&&m();let F=u=u??e();x.add(()=>{l--,l===0&&!p&&!h&&(a=ip(S,i))}),F.subscribe(x),!s&&l>0&&(s=new sr({next:G=>F.next(G),error:G=>{p=!0,m(),a=ip(v,t,G),F.error(G)},complete:()=>{h=!0,m(),a=ip(v,r),F.complete()}}),Le(P).subscribe(s))})(o)}}function ip(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new sr({next:()=>{r.unsubscribe(),n()}});return Le(e(...t)).subscribe(r)}function Qu(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,oE({connector:()=>new Au(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Yu(...n){let e=Mn(n);return fe((t,r)=>{(e?Io(n,t,e):Io(n,t)).subscribe(r)})}function Ae(n,e){return fe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(pe(r,u=>{i?.unsubscribe();let l=0,h=o++;Le(n(u,h)).subscribe(i=pe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Zu(n,e){return ie(e)?Ae(()=>n,e):Ae(()=>n)}function op(n){return fe((e,t)=>{Le(n).subscribe(pe(t,()=>t.complete(),ua)),!t.closed&&e.subscribe(t)})}function Ye(n,e,t){let r=ie(n)||e||t?{next:n,error:e,complete:t}:n;return r?fe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Bt}var qE="https://g.co/ng/security#xss",Y=class extends Error{constructor(e,t){super(jl(e,t)),this.code=e}};function jl(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Da(n){return{toString:n}.toString()}var Ju="__parameters__";function uR(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function GE(n,e,t){return Da(()=>{let r=uR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Ju)?u[Ju]:Object.defineProperty(u,Ju,{value:[]})[Ju];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var ma=globalThis;function Pe(n){for(let e in n)if(n[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function lR(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Rt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Rt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function sE(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var dR=Pe({__forward_ref__:Pe});function rn(n){return n.__forward_ref__=rn,n.toString=function(){return Rt(this())},n}function Mt(n){return WE(n)?n():n}function WE(n){return typeof n=="function"&&n.hasOwnProperty(dR)&&n.__forward_ref__===rn}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ot(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ul(n){return aE(n,QE)||aE(n,YE)}function KE(n){return Ul(n)!==null}function aE(n,e){return n.hasOwnProperty(e)?n[e]:null}function hR(n){let e=n&&(n[QE]||n[YE]);return e||null}function cE(n){return n&&(n.hasOwnProperty(uE)||n.hasOwnProperty(fR))?n[uE]:null}var QE=Pe({\u0275prov:Pe}),uE=Pe({\u0275inj:Pe}),YE=Pe({ngInjectableDef:Pe}),fR=Pe({ngInjectorDef:Pe}),B=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ZE(n){return n&&!!n.\u0275providers}var pR=Pe({\u0275cmp:Pe}),gR=Pe({\u0275dir:Pe}),mR=Pe({\u0275pipe:Pe}),yR=Pe({\u0275mod:Pe}),hl=Pe({\u0275fac:Pe}),ga=Pe({__NG_ELEMENT_ID__:Pe}),lE=Pe({__NG_ENV_ID__:Pe});function Mo(n){return typeof n=="string"?n:n==null?"":String(n)}function vR(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Mo(n)}function _R(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Y(-200,n)}function wg(n,e){throw new Y(-201,!1)}var he=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(he||{}),Ep;function JE(){return Ep}function Xt(n){let e=Ep;return Ep=n,e}function XE(n,e,t){let r=Ul(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&he.Optional)return null;if(e!==void 0)return e;wg(n,"Injector")}var wR={},ya=wR,Ip="__NG_DI_FLAG__",fl="ngTempTokenPath",ER="ngTokenPath",IR=/\n/gm,CR="\u0275",dE="__source",Ao;function DR(){return Ao}function Lr(n){let e=Ao;return Ao=n,e}function bR(n,e=he.Default){if(Ao===void 0)throw new Y(-203,!1);return Ao===null?XE(n,void 0,e):Ao.get(n,e&he.Optional?null:void 0,e)}function $(n,e=he.Default){return(JE()||bR)(Mt(n),e)}function N(n,e=he.Default){return $(n,Bl(e))}function Bl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Cp(n){let e=[];for(let t=0;t<n.length;t++){let r=Mt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Y(900,!1);let i,o=he.Default;for(let s=0;s<r.length;s++){let a=r[s],u=TR(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push($(i,o))}else e.push($(r))}return e}function eI(n,e){return n[Ip]=e,n.prototype[Ip]=e,n}function TR(n){return n[Ip]}function SR(n,e,t,r){let i=n[fl];throw e[dE]&&i.unshift(e[dE]),n.message=AR(`
`+n.message,i,t,r),n[ER]=i,n[fl]=null,n}function AR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==CR?n.slice(2):n;let i=Rt(e);if(Array.isArray(e))i=e.map(Rt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Rt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(IR,`
  `)}`}var _t=eI(GE("Optional"),8);var Eg=eI(GE("SkipSelf"),4);function Ro(n,e){let t=n.hasOwnProperty(hl);return t?n[hl]:null}function xR(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function MR(n){return n.flat(Number.POSITIVE_INFINITY)}function Ig(n,e){n.forEach(t=>Array.isArray(t)?Ig(t,e):e(t))}function tI(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function pl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function RR(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function PR(n,e,t){let r=ba(n,e);return r>=0?n[r|1]=t:(r=~r,RR(n,r,e,t)),r}function sp(n,e){let t=ba(n,e);if(t>=0)return n[t|1]}function ba(n,e){return NR(n,e,1)}function NR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Po={},Ht=[],Ci=new B(""),nI=new B("",-1),rI=new B(""),gl=class{get(e,t=ya){if(t===ya){let r=new Error(`NullInjectorError: No provider for ${Rt(e)}!`);throw r.name="NullInjectorError",r}return t}},iI=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(iI||{}),kn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(kn||{}),Ur=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ur||{});function OR(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Dp(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];kR(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function oI(n){return n===3||n===4||n===6}function kR(n){return n.charCodeAt(0)===64}function va(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?hE(n,t,i,null,e[++r]):hE(n,t,i,null,null))}}return n}function hE(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var sI="ng-template";function FR(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&OR(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Cg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Cg(n){return n.type===4&&n.value!==sI}function VR(n,e,t){let r=n.type===4&&!t?sI:n.value;return e===r}function LR(n,e,t){let r=4,i=n.attrs,o=i!==null?BR(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!gn(r)&&!gn(u))return!1;if(s&&gn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!VR(n,u,t)||u===""&&e.length===1){if(gn(r))return!1;s=!0}}else if(r&8){if(i===null||!FR(n,i,u,t)){if(gn(r))return!1;s=!0}}else{let l=e[++a],h=jR(u,i,Cg(n),t);if(h===-1){if(gn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(gn(r))return!1;s=!0}}}}return gn(r)||s}function gn(n){return(n&1)===0}function jR(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return $R(e,n)}function UR(n,e,t=!1){for(let r=0;r<e.length;r++)if(LR(n,e[r],t))return!0;return!1}function BR(n){for(let e=0;e<n.length;e++){let t=n[e];if(oI(t))return e}return n.length}function $R(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function fE(n,e){return n?":not("+e.trim()+")":e}function zR(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!gn(s)&&(e+=fE(o,i),i=""),r=s,o=o||!gn(r);t++}return i!==""&&(e+=fE(o,i)),e}function HR(n){return n.map(zR).join(",")}function qR(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!gn(i))break;i=o}r++}return{attrs:e,classes:t}}function Oe(n){return Da(()=>{let e=dI(n),t=me(U({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===iI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||kn.Emulated,styles:n.styles||Ht,_:null,schemas:n.schemas||null,tView:null,id:""});hI(t);let r=n.dependencies;return t.directiveDefs=gE(r,!1),t.pipeDefs=gE(r,!0),t.id=KR(t),t})}function GR(n){return Br(n)||aI(n)}function WR(n){return n!==null}function st(n){return Da(()=>({type:n.type,bootstrap:n.bootstrap||Ht,declarations:n.declarations||Ht,imports:n.imports||Ht,exports:n.exports||Ht,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function pE(n,e){if(n==null)return Po;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Ur.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Ur.None?[r,a]:r,e[o]=s):t[o]=r}return t}function ke(n){return Da(()=>{let e=dI(n);return hI(e),e})}function Br(n){return n[pR]||null}function aI(n){return n[gR]||null}function cI(n){return n[mR]||null}function uI(n){let e=Br(n)||aI(n)||cI(n);return e!==null?e.standalone:!1}function lI(n,e){let t=n[yR]||null;if(!t&&e===!0)throw new Error(`Type ${Rt(n)} does not have '\u0275mod' property.`);return t}function dI(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Po,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Ht,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pE(n.inputs,e),outputs:pE(n.outputs),debugInfo:null}}function hI(n){n.features?.forEach(e=>e(n))}function gE(n,e){if(!n)return null;let t=e?cI:GR;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(WR)}function KR(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Gt(n){return{\u0275providers:n}}function Bo(...n){return{\u0275providers:fI(!0,n),\u0275fromNgModule:!0}}function fI(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Ig(e,s=>{let a=s;bp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&pI(i,o),t}function pI(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Dg(i,o=>{e(o,r)})}}function bp(n,e,t,r){if(n=Mt(n),!n)return!1;let i=null,o=cE(n),s=!o&&Br(n);if(!o&&!s){let u=n.ngModule;if(o=cE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)bp(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Ig(o.imports,h=>{bp(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&pI(l,e)}if(!a){let l=Ro(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ht},i),e({provide:rI,useValue:i,multi:!0},i),e({provide:Ci,useValue:()=>$(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Dg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Dg(n,e){for(let t of n)ZE(t)&&(t=t.\u0275providers),Array.isArray(t)?Dg(t,e):e(t)}var QR=Pe({provide:String,useValue:Pe});function gI(n){return n!==null&&typeof n=="object"&&QR in n}function YR(n){return!!(n&&n.useExisting)}function ZR(n){return!!(n&&n.useFactory)}function No(n){return typeof n=="function"}function JR(n){return!!n.useClass}var $l=new B(""),sl={},XR={},ap;function bg(){return ap===void 0&&(ap=new gl),ap}var Nt=class{},_a=class extends Nt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sp(e,s=>this.processProvider(s)),this.records.set(nI,Do(void 0,this)),i.has("environment")&&this.records.set(Nt,Do(void 0,this));let o=this.records.get($l);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rI,Ht,he.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Lr(this),r=Xt(void 0),i;try{return e()}finally{Lr(t),Xt(r)}}get(e,t=ya,r=he.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(lE))return e[lE](this);r=Bl(r);let i,o=Lr(this),s=Xt(void 0);try{if(!(r&he.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=iP(e)&&Ul(e);l&&this.injectableDefInScope(l)?u=Do(Tp(e),sl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&he.Self?bg():this.parent;return t=r&he.Optional&&t===ya?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[fl]=a[fl]||[]).unshift(Rt(e)),o)throw a;return SR(a,e,"R3InjectorError",this.source)}else throw a}finally{Xt(s),Lr(o)}}resolveInjectorInitializers(){let e=ve(null),t=Lr(this),r=Xt(void 0),i;try{let o=this.get(Ci,Ht,he.Self);for(let s of o)s()}finally{Lr(t),Xt(r),ve(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Rt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Y(205,!1)}processProvider(e){e=Mt(e);let t=No(e)?e:Mt(e&&e.provide),r=tP(e);if(!No(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Do(void 0,sl,!0),i.factory=()=>Cp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ve(null);try{return t.value===sl&&(t.value=XR,t.value=t.factory()),typeof t.value=="object"&&t.value&&rP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ve(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Mt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Tp(n){let e=Ul(n),t=e!==null?e.factory:Ro(n);if(t!==null)return t;if(n instanceof B)throw new Y(204,!1);if(n instanceof Function)return eP(n);throw new Y(204,!1)}function eP(n){if(n.length>0)throw new Y(204,!1);let t=hR(n);return t!==null?()=>t.factory(n):()=>new n}function tP(n){if(gI(n))return Do(void 0,n.useValue);{let e=mI(n);return Do(e,sl)}}function mI(n,e,t){let r;if(No(n)){let i=Mt(n);return Ro(i)||Tp(i)}else if(gI(n))r=()=>Mt(n.useValue);else if(ZR(n))r=()=>n.useFactory(...Cp(n.deps||[]));else if(YR(n))r=()=>$(Mt(n.useExisting));else{let i=Mt(n&&(n.useClass||n.provide));if(nP(n))r=()=>new i(...Cp(n.deps));else return Ro(i)||Tp(i)}return r}function Do(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function nP(n){return!!n.deps}function rP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function iP(n){return typeof n=="function"||typeof n=="object"&&n instanceof B}function Sp(n,e){for(let t of n)Array.isArray(t)?Sp(t,e):t&&ZE(t)?Sp(t.\u0275providers,e):e(t)}function on(n,e){n instanceof _a&&n.assertNotDestroyed();let t,r=Lr(n),i=Xt(void 0);try{return e()}finally{Lr(r),Xt(i)}}function yI(){return JE()!==void 0||DR()!=null}function oP(n){if(!yI())throw new Y(-203,!1)}function sP(n){return typeof n=="function"}var qt=0,se=1,ne=2,lt=3,mn=4,_n=5,Fn=6,ml=7,tn=8,Oo=9,Vn=10,je=11,wa=12,mE=13,$o=14,nn=15,Di=16,bo=17,dr=18,zl=19,vI=20,jr=21,cp=22,en=23,vt=25,_I=1,Ea=6,hr=7,yl=8,ko=9,Pt=10,vl=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(vl||{});function yn(n){return Array.isArray(n)&&typeof n[_I]=="object"}function Ln(n){return Array.isArray(n)&&n[_I]===!0}function wI(n){return(n.flags&4)!==0}function Ta(n){return n.componentOffset>-1}function Tg(n){return(n.flags&1)===1}function $r(n){return!!n.template}function _l(n){return(n[ne]&512)!==0}var Ap=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function EI(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function wn(){return II}function II(n){return n.type.prototype.ngOnChanges&&(n.setInput=cP),aP}wn.ngInherit=!0;function aP(){let n=DI(this),e=n?.current;if(e){let t=n.previous;if(t===Po)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function cP(n,e,t,r,i){let o=this.declaredInputs[r],s=DI(n)||uP(n,{previous:Po,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Ap(l&&l.currentValue,t,u===Po),EI(n,e,i,t)}var CI="__ngSimpleChanges__";function DI(n){return n[CI]||null}function uP(n,e){return n[CI]=e}var yE=null;var Nn=function(n,e,t){yE?.(n,e,t)},lP="svg",dP="math";function vn(n){for(;Array.isArray(n);)n=n[qt];return n}function bI(n,e){return vn(e[n])}function Wt(n,e){return vn(e[n.index])}function Sg(n,e){return n.data[e]}function Hr(n,e){let t=e[n];return yn(t)?t:t[qt]}function hP(n){return(n[ne]&4)===4}function Ag(n){return(n[ne]&128)===128}function fP(n){return Ln(n[lt])}function wl(n,e){return e==null?null:n[e]}function TI(n){n[bo]=0}function SI(n){n[ne]&1024||(n[ne]|=1024,Ag(n)&&ql(n))}function pP(n,e){for(;n>0;)e=e[$o],n--;return e}function Hl(n){return!!(n[ne]&9216||n[en]?.dirty)}function xp(n){n[Vn].changeDetectionScheduler?.notify(8),n[ne]&64&&(n[ne]|=1024),Hl(n)&&ql(n)}function ql(n){n[Vn].changeDetectionScheduler?.notify(0);let e=bi(n);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!Ag(e)));)e=bi(e)}function AI(n,e){if((n[ne]&256)===256)throw new Y(911,!1);n[jr]===null&&(n[jr]=[]),n[jr].push(e)}function gP(n,e){if(n[jr]===null)return;let t=n[jr].indexOf(e);t!==-1&&n[jr].splice(t,1)}function bi(n){let e=n[lt];return Ln(e)?e[lt]:e}var le={lFrame:LI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var xI=!1;function mP(){return le.lFrame.elementDepthCount}function yP(){le.lFrame.elementDepthCount++}function vP(){le.lFrame.elementDepthCount--}function MI(){return le.bindingsEnabled}function Sa(){return le.skipHydrationRootTNode!==null}function _P(n){return le.skipHydrationRootTNode===n}function wP(n){le.skipHydrationRootTNode=n}function EP(){le.skipHydrationRootTNode=null}function we(){return le.lFrame.lView}function wt(){return le.lFrame.tView}function Ot(n){return le.lFrame.contextLView=n,n[tn]}function kt(n){return le.lFrame.contextLView=null,n}function Et(){let n=RI();for(;n!==null&&n.type===64;)n=n.parent;return n}function RI(){return le.lFrame.currentTNode}function IP(){let n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Aa(n,e){let t=le.lFrame;t.currentTNode=n,t.isParent=e}function PI(){return le.lFrame.isParent}function CP(){le.lFrame.isParent=!1}function NI(){return xI}function vE(n){xI=n}function xg(){let n=le.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function DP(){return le.lFrame.bindingIndex}function bP(n){return le.lFrame.bindingIndex=n}function xa(){return le.lFrame.bindingIndex++}function OI(n){let e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function TP(){return le.lFrame.inI18n}function SP(n,e){let t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Mp(e)}function AP(){return le.lFrame.currentDirectiveIndex}function Mp(n){le.lFrame.currentDirectiveIndex=n}function xP(n){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function kI(){return le.lFrame.currentQueryIndex}function Mg(n){le.lFrame.currentQueryIndex=n}function MP(n){let e=n[se];return e.type===2?e.declTNode:e.type===1?n[_n]:null}function FI(n,e,t){if(t&he.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&he.Host);)if(i=MP(o),i===null||(o=o[$o],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=le.lFrame=VI();return r.currentTNode=e,r.lView=n,!0}function Rg(n){let e=VI(),t=n[se];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function VI(){let n=le.lFrame,e=n===null?null:n.child;return e===null?LI(n):e}function LI(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function jI(){let n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var UI=jI;function Pg(){let n=jI();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function RP(n){return(le.lFrame.contextLView=pP(n,le.lFrame.contextLView))[tn]}function Ni(){return le.lFrame.selectedIndex}function Ti(n){le.lFrame.selectedIndex=n}function Gl(){let n=le.lFrame;return Sg(n.tView,n.selectedIndex)}function BI(){return le.lFrame.currentNamespace}var $I=!0;function Ng(){return $I}function qr(n){$I=n}function PP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=II(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Og(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function al(n,e,t){zI(n,e,3,t)}function cl(n,e,t,r){(n[ne]&3)===t&&zI(n,e,t,r)}function up(n,e){let t=n[ne];(t&3)===e&&(t&=16383,t+=1,n[ne]=t)}function zI(n,e,t,r){let i=r!==void 0?n[bo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[bo]+=65536),(a<o||o==-1)&&(NP(n,t,e,u),n[bo]=(n[bo]&4294901760)+u+2),u++}function _E(n,e){Nn(4,n,e);let t=ve(null);try{e.call(n)}finally{ve(t),Nn(5,n,e)}}function NP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ne]>>14<n[bo]>>16&&(n[ne]&3)===e&&(n[ne]+=16384,_E(a,o)):_E(a,o)}var xo=-1,Si=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function OP(n){return n instanceof Si}function kP(n){return(n.flags&8)!==0}function FP(n){return(n.flags&16)!==0}var lp={},Rp=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Bl(r);let i=this.injector.get(e,lp,r);return i!==lp||t===lp?i:this.parentInjector.get(e,t,r)}};function HI(n){return n!==xo}function El(n){return n&32767}function VP(n){return n>>16}function Il(n,e){let t=VP(n),r=e;for(;t>0;)r=r[$o],t--;return r}var Pp=!0;function wE(n){let e=Pp;return Pp=n,e}var LP=256,qI=LP-1,GI=5,jP=0,On={};function UP(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ga)&&(r=t[ga]),r==null&&(r=t[ga]=jP++);let i=r&qI,o=1<<i;e.data[n+(i>>GI)]|=o}function Cl(n,e){let t=WI(n,e);if(t!==-1)return t;let r=e[se];r.firstCreatePass&&(n.injectorIndex=e.length,dp(r.data,n),dp(e,null),dp(r.blueprint,null));let i=kg(n,e),o=n.injectorIndex;if(HI(i)){let s=El(i),a=Il(i,e),u=a[se].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function dp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function WI(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function kg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=JI(i),r===null)return xo;if(t++,i=i[$o],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return xo}function Np(n,e,t){UP(n,e,t)}function BP(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(oI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function KI(n,e,t){if(t&he.Optional||n!==void 0)return n;wg(e,"NodeInjector")}function QI(n,e,t,r){if(t&he.Optional&&r===void 0&&(r=null),!(t&(he.Self|he.Host))){let i=n[Oo],o=Xt(void 0);try{return i?i.get(e,r,t&he.Optional):XE(e,r,t&he.Optional)}finally{Xt(o)}}return KI(r,e,t)}function YI(n,e,t,r=he.Default,i){if(n!==null){if(e[ne]&2048&&!(r&he.Self)){let s=qP(n,e,t,r,On);if(s!==On)return s}let o=ZI(n,e,t,r,On);if(o!==On)return o}return QI(e,t,r,i)}function ZI(n,e,t,r,i){let o=zP(t);if(typeof o=="function"){if(!FI(e,n,r))return r&he.Host?KI(i,t,r):QI(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&he.Optional))wg(t);else return s}finally{UI()}}else if(typeof o=="number"){let s=null,a=WI(n,e),u=xo,l=r&he.Host?e[nn][_n]:null;for((a===-1||r&he.SkipSelf)&&(u=a===-1?kg(n,e):e[a+8],u===xo||!IE(r,!1)?a=-1:(s=e[se],a=El(u),e=Il(u,e)));a!==-1;){let h=e[se];if(EE(o,a,h.data)){let p=$P(a,e,t,s,r,l);if(p!==On)return p}u=e[a+8],u!==xo&&IE(r,e[se].data[a+8]===l)&&EE(o,a,e)?(s=h,a=El(u),e=Il(u,e)):a=-1}}return i}function $P(n,e,t,r,i,o){let s=e[se],a=s.data[n+8],u=r==null?Ta(a)&&Pp:r!=s&&(a.type&3)!==0,l=i&he.Host&&o===a,h=ul(a,s,t,u,l);return h!==null?Ai(e,s,h,a):On}function ul(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let S=s[v];if(v<u&&t===S||v>=u&&S.type===t)return v}if(i){let v=s[u];if(v&&$r(v)&&v.type===t)return u}return null}function Ai(n,e,t,r){let i=n[t],o=e.data;if(OP(i)){let s=i;s.resolving&&_R(vR(o[t]));let a=wE(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Xt(s.injectImpl):null,h=FI(n,r,he.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&PP(t,o[t],e)}finally{l!==null&&Xt(l),wE(a),s.resolving=!1,UI()}}return i}function zP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ga)?n[ga]:void 0;return typeof e=="number"?e>=0?e&qI:HP:e}function EE(n,e,t){let r=1<<n;return!!(t[e+(n>>GI)]&r)}function IE(n,e){return!(n&he.Self)&&!(n&he.Host&&e)}var Ii=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return YI(this._tNode,this._lView,e,Bl(r),t)}};function HP(){return new Ii(Et(),we())}function jn(n){return Da(()=>{let e=n.prototype.constructor,t=e[hl]||Op(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[hl]||Op(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Op(n){return WE(n)?()=>{let e=Op(Mt(n));return e&&e()}:Ro(n)}function qP(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!(s[ne]&512);){let a=ZI(o,s,t,r|he.Self,On);if(a!==On)return a;let u=o.parent;if(!u){let l=s[vI];if(l){let h=l.get(t,On,r);if(h!==On)return h}u=JI(s),s=s[$o]}o=u}return i}function JI(n){let e=n[se],t=e.type;return t===2?e.declTNode:t===1?n[_n]:null}function Fg(n){return BP(Et(),n)}function CE(n,e=null,t=null,r){let i=XI(n,e,t,r);return i.resolveInjectorInitializers(),i}function XI(n,e=null,t=null,r,i=new Set){let o=[t||Ht,Bo(n)];return r=r||(typeof n=="object"?void 0:Rt(n)),new _a(o,e||bg(),r||null,i)}var dt=class n{static{this.THROW_IF_NOT_FOUND=ya}static{this.NULL=new gl}static create(e,t){if(Array.isArray(e))return CE({name:""},t,e,"");{let r=e.name??"";return CE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=q({token:n,providedIn:"any",factory:()=>$(nI)})}static{this.__NG_ELEMENT_ID__=-1}};var GP=new B("");GP.__NG_ELEMENT_ID__=n=>{let e=Et();if(e===null)throw new Y(204,!1);if(e.type&2)return e.value;if(n&he.Optional)return null;throw new Y(204,!1)};var WP="ngOriginalError";function hp(n){return n[WP]}var eC=!0,Vg=(()=>{class n{static{this.__NG_ELEMENT_ID__=KP}static{this.__NG_ENV_ID__=t=>t}}return n})(),kp=class extends Vg{constructor(e){super(),this._lView=e}onDestroy(e){return AI(this._lView,e),()=>gP(this._lView,e)}};function KP(){return new kp(we())}var Gr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Be(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Fp=class extends Ue{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,yI()&&(this.destroyRef=N(Vg,{optional:!0})??void 0,this.pendingTasks=N(Gr,{optional:!0})??void 0)}emit(e){let t=ve(null);try{super.next(e)}finally{ve(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ke&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},He=Fp;function Dl(...n){}function tC(n){let e,t;function r(){n=Dl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function DE(n){return queueMicrotask(()=>n()),()=>{n=Dl}}var Lg="isAngularZone",bl=Lg+"_ID",QP=0,_e=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new He(!1),this.onMicrotaskEmpty=new He(!1),this.onStable=new He(!1),this.onError=new He(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=eC}=e;if(typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,JP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Lg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Y(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,YP,Dl,Dl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},YP={};function jg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ZP(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){tC(()=>{n.callbackScheduled=!1,Vp(n),n.isCheckStableRunning=!0,jg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Vp(n)}function JP(n){let e=()=>{ZP(n)},t=QP++;n._inner=n._inner.fork({name:"angular",properties:{[Lg]:!0,[bl]:t,[bl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(XP(u))return r.invokeTask(o,s,a,u);try{return bE(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),TE(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return bE(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!eN(u)&&e(),TE(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Vp(n),jg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Vp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function bE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function TE(n){n._nesting--,jg(n)}var Lp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new He,this.onMicrotaskEmpty=new He,this.onStable=new He,this.onError=new He}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function XP(n){return nC(n,"__ignore_ng_zone__")}function eN(n){return nC(n,"__scheduler_tick__")}function nC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var fr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&hp(e);for(;t&&hp(t);)t=hp(t);return t||null}},tN=new B("",{providedIn:"root",factory:()=>{let n=N(_e),e=N(fr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function nN(){return zo(Et(),we())}function zo(n,e){return new Ft(Wt(n,e))}var Ft=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=nN}}return n})();function rN(n){return n instanceof Ft?n.nativeElement:n}function iN(){return this._results[Symbol.iterator]()}var jp=class n{get changes(){return this._changes??=new He}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=iN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=MR(e);(this._changesDetected=!xR(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},oN="ngSkipHydration",sN="ngskiphydration";function rC(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===sN)return!0}return!1}function iC(n){return n.hasAttribute(oN)}function Tl(n){return(n.flags&128)===128}function aN(n){if(Tl(n))return!0;let e=n.parent;for(;e;){if(Tl(n)||rC(e))return!0;e=e.parent}return!1}var oC=new Map,cN=0;function uN(){return cN++}function lN(n){oC.set(n[zl],n)}function Up(n){oC.delete(n[zl])}var SE="__ngContext__";function xi(n,e){yn(e)?(n[SE]=e[zl],lN(e)):n[SE]=e}function sC(n){return cC(n[wa])}function aC(n){return cC(n[mn])}function cC(n){for(;n!==null&&!Ln(n);)n=n[mn];return n}var Bp;function uC(n){Bp=n}function Wl(){if(Bp!==void 0)return Bp;if(typeof document<"u")return document;throw new Y(210,!1)}var Kl=new B("",{providedIn:"root",factory:()=>dN}),dN="ng",Ug=new B(""),it=new B("",{providedIn:"platform",factory:()=>"unknown"});var Bg=new B("",{providedIn:"root",factory:()=>Wl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function hN(){let n=new Ho;return N(it)==="browser"&&(n.store=fN(Wl(),N(Kl))),n}var Ho=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=q({token:n,providedIn:"root",factory:hN})}get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function fN(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var lC="h",dC="b",$p=function(n){return n.FirstChild="f",n.NextSibling="n",n}($p||{}),pN="e",gN="t",$g="c",hC="x",Sl="r",mN="i",yN="n",fC="d";var vN="__nghData__",pC=vN,fp="ngh",_N="nghm",gC=()=>null;function wN(n,e,t=!1){let r=n.getAttribute(fp);if(r==null)return null;let[i,o]=r.split("|");if(r=t?o:i,!r)return null;let s=o?`|${o}`:"",a=t?i:s,u={};if(r!==""){let h=e.get(Ho,null,{optional:!0});h!==null&&(u=h.get(pC,[])[Number(r)])}let l={data:u,firstChild:n.firstChild??null};return t&&(l.firstChild=n,Ql(l,0,n.nextSibling)),a?n.setAttribute(fp,a):n.removeAttribute(fp),l}function EN(){gC=wN}function zg(n,e,t=!1){return gC(n,e,t)}function IN(n){let e=n._lView;return e[se].type===2?null:(_l(e)&&(e=e[vt]),e)}function CN(n){return n.textContent?.replace(/\s/gm,"")}function DN(n){let e=Wl(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=CN(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Ql(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function zp(n,e){return n.segmentHeads?.[e]??null}function bN(n,e){let t=n.data,r=t[pN]?.[e]??null;return r===null&&t[$g]?.[e]&&(r=Hg(n,e)),r}function mC(n,e){return n.data[$g]?.[e]??null}function Hg(n,e){let t=mC(n,e)??[],r=0;for(let i of t)r+=i[Sl]*(i[hC]??1);return r}function TN(n){if(typeof n.disconnectedNodes>"u"){let e=n.data[fC];n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}function Ma(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[fC];n.disconnectedNodes=t?new Set(t):null}return!!TN(n)?.has(e)}var Xu=new B(""),yC=!1,vC=new B("",{providedIn:"root",factory:()=>yC});var el;function SN(){if(el===void 0&&(el=null,ma.trustedTypes))try{el=ma.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return el}function AN(n){return SN()?.createScriptURL(n)||n}var tl;function xN(){if(tl===void 0&&(tl=null,ma.trustedTypes))try{tl=ma.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return tl}function AE(n){return xN()?.createScriptURL(n)||n}var Al=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qE})`}};function Ra(n){return n instanceof Al?n.changingThisBreaksApplicationSecurity:n}function qg(n,e){let t=MN(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${qE})`)}return t===e}function MN(n){return n instanceof Al&&n.getTypeName()||null}var RN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _C(n){return n=String(n),n.match(RN)?n:"unsafe:"+n}var Yl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Yl||{});function yr(n){let e=IC();return e?e.sanitize(Yl.URL,n)||"":qg(n,"URL")?Ra(n):_C(Mo(n))}function PN(n){let e=IC();if(e)return AE(e.sanitize(Yl.RESOURCE_URL,n)||"");if(qg(n,"ResourceURL"))return AE(Ra(n));throw new Y(904,!1)}function wC(n){return AN(n[0])}function NN(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?PN:yr}function EC(n,e,t){return NN(e,t)(n)}function IC(){let n=we();return n&&n[Vn].sanitizer}var ON=/^>|^->|<!--|-->|--!>|<!-$/g,kN=/(<|>)/g,FN="\u200B$1\u200B";function VN(n){return n.replace(ON,e=>e.replace(kN,FN))}function LN(n){return n.ownerDocument.body}function CC(n){return n instanceof Function?n():n}function fa(n){return(n??N(dt)).get(it)==="browser"}var pr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(pr||{}),jN;function Gg(n,e){return jN(n,e)}function To(n,e,t,r,i){if(r!=null){let o,s=!1;Ln(r)?o=r:yn(r)&&(s=!0,r=r[qt]);let a=vn(r);n===0&&t!==null?i==null?AC(e,t,a):Ml(e,t,a,i||null,!0):n===1&&t!==null?Ml(e,t,a,i||null,!0):n===2?Zg(e,a,s):n===3&&e.destroyNode(a),o!=null&&e1(e,n,o,t,i)}}function DC(n,e){return n.createText(e)}function UN(n,e,t){n.setValue(e,t)}function bC(n,e){return n.createComment(VN(e))}function Wg(n,e,t){return n.createElement(e,t)}function BN(n,e){TC(n,e),e[qt]=null,e[_n]=null}function $N(n,e,t,r,i,o){r[qt]=i,r[_n]=e,Zl(n,r,t,1,i,o)}function TC(n,e){e[Vn].changeDetectionScheduler?.notify(9),Zl(n,e,e[je],2,null,null)}function zN(n){let e=n[wa];if(!e)return pp(n[se],n);for(;e;){let t=null;if(yn(e))t=e[wa];else{let r=e[Pt];r&&(t=r)}if(!t){for(;e&&!e[mn]&&e!==n;)yn(e)&&pp(e[se],e),e=e[lt];e===null&&(e=n),yn(e)&&pp(e[se],e),t=e&&e[mn]}e=t}}function HN(n,e,t,r){let i=Pt+r,o=t.length;r>0&&(t[i-1][mn]=e),r<o-Pt?(e[mn]=t[i],tI(t,Pt+r,e)):(t.push(e),e[mn]=null),e[lt]=t;let s=e[Di];s!==null&&t!==s&&SC(s,e);let a=e[dr];a!==null&&a.insertView(n),xp(e),e[ne]|=128}function SC(n,e){let t=n[ko],r=e[lt];if(yn(r))n[ne]|=vl.HasTransplantedViews;else{let i=r[lt][nn];e[nn]!==i&&(n[ne]|=vl.HasTransplantedViews)}t===null?n[ko]=[e]:t.push(e)}function Kg(n,e){let t=n[ko],r=t.indexOf(e);t.splice(r,1)}function xl(n,e){if(n.length<=Pt)return;let t=Pt+e,r=n[t];if(r){let i=r[Di];i!==null&&i!==n&&Kg(i,r),e>0&&(n[t-1][mn]=r[mn]);let o=pl(n,Pt+e);BN(r[se],r);let s=o[dr];s!==null&&s.detachView(o[se]),r[lt]=null,r[mn]=null,r[ne]&=-129}return r}function Qg(n,e){if(!(e[ne]&256)){let t=e[je];t.destroyNode&&Zl(n,e,t,3,null,null),zN(e)}}function pp(n,e){if(e[ne]&256)return;let t=ve(null);try{e[ne]&=-129,e[ne]|=256,e[en]&&Uf(e[en]),GN(n,e),qN(n,e),e[se].type===1&&e[je].destroy();let r=e[Di];if(r!==null&&Ln(e[lt])){r!==e[lt]&&Kg(r,e);let i=e[dr];i!==null&&i.detachView(n)}Up(e)}finally{ve(t)}}function qN(n,e){let t=n.cleanup,r=e[ml];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[ml]=null);let i=e[jr];if(i!==null){e[jr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function GN(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Si)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Nn(4,a,u);try{u.call(a)}finally{Nn(5,a,u)}}else{Nn(4,i,o);try{o.call(i)}finally{Nn(5,i,o)}}}}}function WN(n,e,t){return KN(n,e.parent,t)}function KN(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[qt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===kn.None||o===kn.Emulated)return null}return Wt(r,t)}}function Ml(n,e,t,r,i){n.insertBefore(e,t,r,i)}function AC(n,e,t){n.appendChild(e,t)}function xE(n,e,t,r,i){r!==null?Ml(n,e,t,r,i):AC(n,e,t)}function xC(n,e){return n.parentNode(e)}function QN(n,e){return n.nextSibling(e)}function YN(n,e,t){return JN(n,e,t)}function ZN(n,e,t){return n.type&40?Wt(n,t):null}var JN=ZN,ME;function Yg(n,e,t,r){let i=WN(n,r,e),o=e[je],s=r.parent||e[_n],a=YN(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)xE(o,i,t[u],a,!1);else xE(o,i,t,a,!1);ME!==void 0&&ME(o,r,e,t,i)}function pa(n,e){if(e!==null){let t=e.type;if(t&3)return Wt(e,n);if(t&4)return Hp(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return pa(n,r);{let i=n[e.index];return Ln(i)?Hp(-1,i):vn(i)}}else{if(t&128)return pa(n,e.next);if(t&32)return Gg(e,n)()||vn(n[e.index]);{let r=MC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=bi(n[nn]);return pa(i,r)}else return pa(n,e.next)}}}return null}function MC(n,e){if(e!==null){let r=n[nn][_n],i=e.projection;return r.projection[i]}return null}function Hp(n,e){let t=Pt+n+1;if(t<e.length){let r=e[t],i=r[se].firstChild;if(i!==null)return pa(r,i)}return e[hr]}function Zg(n,e,t){n.removeChild(null,e,t)}function RC(n){n.textContent=""}function Jg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&xi(vn(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Jg(n,e,t.child,r,i,o,!1),To(e,n,i,a,o);else if(u&32){let l=Gg(t,r),h;for(;h=l();)To(e,n,i,h,o);To(e,n,i,a,o)}else u&16?XN(n,e,r,t,i,o):To(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Zl(n,e,t,r,i,o){Jg(t,r,n.firstChild,e,i,o,!1)}function XN(n,e,t,r,i,o){let s=t[nn],u=s[_n].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];To(e,n,i,h,o)}else{let l=u,h=s[lt];Tl(r)&&(l.flags|=128),Jg(n,e,l,h,i,o,!0)}}function e1(n,e,t,r,i){let o=t[hr],s=vn(t);o!==s&&To(e,n,r,o,i);for(let a=Pt;a<t.length;a++){let u=t[a];Zl(u[se],u,n,e,r,o)}}function t1(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:pr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=pr.Important),n.setStyle(t,r,i,o))}}function n1(n,e,t){n.setAttribute(e,"style",t)}function PC(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function NC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Dp(n,e,r),i!==null&&PC(n,e,i),o!==null&&n1(n,e,o)}var sn={};function H(n=1){OC(wt(),we(),Ni()+n,!1)}function OC(n,e,t,r){if(!r)if((e[ne]&3)===3){let o=n.preOrderCheckHooks;o!==null&&al(e,o,t)}else{let o=n.preOrderHooks;o!==null&&cl(e,o,0,t)}Ti(t)}function z(n,e=he.Default){let t=we();if(t===null)return $(n,e);let r=Et();return YI(r,t,Mt(n),e)}function kC(){let n="invalid";throw new Error(n)}function FC(n,e,t,r,i,o){let s=ve(null);try{let a=null;i&Ur.SignalBased&&(a=e[r][or]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ur.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):EI(e,a,r,o)}finally{ve(s)}}function r1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ti(~i);else{let o=i,s=t[++r],a=t[++r];SP(s,o);let u=e[o];a(2,u)}}}finally{Ti(-1)}}function Jl(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[qt]=i,p[ne]=r|4|128|8|64,(l!==null||n&&n[ne]&2048)&&(p[ne]|=2048),TI(p),p[lt]=p[$o]=n,p[tn]=t,p[Vn]=s||n&&n[Vn],p[je]=a||n&&n[je],p[Oo]=u||n&&n[Oo]||null,p[_n]=o,p[zl]=uN(),p[Fn]=h,p[vI]=l,p[nn]=e.type==2?n[nn]:p,p}function Xl(n,e,t,r,i){let o=n.data[e];if(o===null)o=i1(n,e,t,r,i),TP()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=IP();o.injectorIndex=s===null?-1:s.injectorIndex}return Aa(o,!0),o}function i1(n,e,t,r,i){let o=RI(),s=PI(),a=s?o:o&&o.parent,u=n.data[e]=d1(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function VC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function LC(n,e,t,r,i){let o=Ni(),s=r&2;try{Ti(-1),s&&e.length>vt&&OC(n,e,vt,!1),Nn(s?2:0,i),t(r,i)}finally{Ti(o),Nn(s?3:1,i)}}function jC(n,e,t){if(wI(e)){let r=ve(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ve(r)}}}function UC(n,e,t){MI()&&(y1(n,e,t,Wt(t,e)),(t.flags&64)===64&&GC(n,e,t))}function BC(n,e,t=Wt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function $C(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Xg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Xg(n,e,t,r,i,o,s,a,u,l,h){let p=vt+r,m=p+i,v=o1(p,m),S=typeof l=="function"?l():l;return v[se]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function o1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:sn);return t}function s1(n,e,t,r){let o=r.get(vC,yC)||t===kn.ShadowDom,s=n.selectRootElement(e,o);return a1(s),s}function a1(n){zC(n)}var zC=()=>null;function c1(n){iC(n)?RC(n):DN(n)}function u1(){zC=c1}function l1(n,e,t,r){let i=QC(e);i.push(t),n.firstCreatePass&&YC(n).push(r,i.length-1)}function d1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Sa()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function RE(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Ur.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?PE(r,t,l,a,u):PE(r,t,l,a)}return r}function PE(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function h1(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=t?t.get(p):null,v=m?m.inputs:null,S=m?m.outputs:null;u=RE(0,p.inputs,h,u,v),l=RE(1,p.outputs,h,l,S);let P=u!==null&&s!==null&&!Cg(e)?A1(u,h,s):null;a.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function f1(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function em(n,e,t,r,i,o,s,a){let u=Wt(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(tm(n,t,h,r,i),Ta(e)&&p1(t,e.index)):e.type&3?(r=f1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function p1(n,e){let t=Hr(e,n);t[ne]&16||(t[ne]|=64)}function HC(n,e,t,r){if(MI()){let i=r===null?null:{"":-1},o=_1(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&qC(n,e,t,s,i,a),i&&w1(t,r,i)}t.mergedAttrs=va(t.mergedAttrs,t.attrs)}function qC(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Np(Cl(t,e),n,r[l].type);I1(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=VC(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=va(t.mergedAttrs,h.hostAttrs),C1(n,t,e,u,h),E1(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}h1(n,t,o)}function g1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;m1(s)!=a&&s.push(a),s.push(t,r,o)}}function m1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function y1(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Ta(t)&&D1(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Cl(t,e),xi(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],l=Ai(e,n,a,t);if(xi(l,e),s!==null&&S1(e,a-i,l,u,t,s),$r(u)){let h=Hr(t.index,e);h[tn]=Ai(e,n,a,t)}}}function GC(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=AP();try{Ti(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Mp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&v1(u,l)}}finally{Ti(-1),Mp(s)}}function v1(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function _1(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(UR(e,s.selectors,!1))if(r||(r=[]),$r(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;qp(n,e,u)}else r.unshift(s),qp(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function qp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function w1(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new Y(-301,!1);r.push(e[i],o)}}}function E1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;$r(e)&&(t[""]=n)}}function I1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function C1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ro(i.type,!0)),s=new Si(o,$r(i),z);n.blueprint[r]=s,t[r]=s,g1(n,e,r,VC(n,t,i.hostVars,sn),i)}function D1(n,e,t){let r=Wt(e,n),i=$C(t),o=n[Vn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=ed(n,Jl(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function b1(n,e,t,r,i,o){let s=Wt(n,e);T1(e[je],s,o,n.value,t,r,i)}function T1(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Mo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function S1(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];FC(r,t,u,l,h,p)}}function A1(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function WC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function KC(n,e){let t=n.contentQueries;if(t!==null){let r=ve(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Mg(o),a.contentQueries(2,e[s],s)}}}finally{ve(r)}}}function ed(n,e){return n[wa]?n[mE][mn]=e:n[wa]=e,n[mE]=e,e}function Gp(n,e,t){Mg(0);let r=ve(null);try{e(n,t)}finally{ve(r)}}function QC(n){return n[ml]??=[]}function YC(n){return n.cleanup??=[]}function ZC(n,e){let t=n[Oo],r=t?t.get(fr,null):null;r&&r.handleError(e)}function tm(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],l=e[s],h=n.data[s];FC(h,l,r,a,u,i)}}function JC(n,e,t){let r=bI(e,n);UN(n[je],r,t)}function x1(n,e){let t=Hr(e,n),r=t[se];M1(r,t);let i=t[qt];i!==null&&t[Fn]===null&&(t[Fn]=zg(i,t[Oo])),nm(r,t,t[tn])}function M1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function nm(n,e,t){Rg(e);try{let r=n.viewQuery;r!==null&&Gp(1,r,t);let i=n.template;i!==null&&LC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[dr]?.finishViewCreation(n),n.staticContentQueries&&KC(n,e),n.staticViewQueries&&Gp(2,n.viewQuery,t);let o=n.components;o!==null&&R1(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ne]&=-5,Pg()}}function R1(n,e){for(let t=0;t<e.length;t++)x1(n,e[t])}function XC(n,e,t,r){let i=ve(null);try{let o=e.tView,a=n[ne]&4096?4096:16,u=Jl(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Di]=l;let h=n[dr];return h!==null&&(u[dr]=h.createEmbeddedView(o)),nm(o,u,t),u}finally{ve(i)}}function P1(n,e){let t=Pt+e;if(t<n.length)return n[t]}function Wp(n,e){return!e||e.firstChild===null||Tl(n)}function eD(n,e,t,r=!0){let i=e[se];if(HN(i,e,n,t),r){let s=Hp(t,n),a=e[je],u=xC(a,n[hr]);u!==null&&$N(i,n[_n],a,e,u,s)}let o=e[Fn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function N1(n,e){let t=xl(n,e);return t!==void 0&&Qg(t[se],t),t}function Rl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(vn(o)),Ln(o)&&O1(o,r);let s=t.type;if(s&8)Rl(n,e,t.child,r);else if(s&32){let a=Gg(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=MC(e,t);if(Array.isArray(a))r.push(...a);else{let u=bi(e[nn]);Rl(u[se],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function O1(n,e){for(let t=Pt;t<n.length;t++){let r=n[t],i=r[se].firstChild;i!==null&&Rl(r[se],r,i,e)}n[hr]!==n[qt]&&e.push(n[hr])}var tD=[];function k1(n){return n[en]??F1(n)}function F1(n){let e=tD.pop()??Object.create(L1);return e.lView=n,e}function V1(n){n.lView[en]!==n&&(n.lView=null,tD.push(n))}var L1=me(U({},ca),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ql(n.lView)},consumerOnSignalRead(){this.lView[en]=this}});function j1(n){let e=n[en]??Object.create(U1);return e.lView=n,e}var U1=me(U({},ca),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=bi(n.lView);for(;e&&!nD(e[se]);)e=bi(e);e&&SI(e)},consumerOnSignalRead(){this.lView[en]=this}});function nD(n){return n.type!==2}var B1=100;function rD(n,e=!0,t=0){let r=n[Vn],i=r.rendererFactory,o=!1;o||i.begin?.();try{$1(n,t)}catch(s){throw e&&ZC(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function $1(n,e){let t=NI();try{vE(!0),Kp(n,e);let r=0;for(;Hl(n);){if(r===B1)throw new Y(103,!1);r++,Kp(n,1)}}finally{vE(t)}}function z1(n,e,t,r){let i=e[ne];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Vn].inlineEffectRunner?.flush(),Rg(e);let a=!0,u=null,l=null;o||(nD(n)?(l=k1(e),u=_u(l)):b0()===null?(a=!1,l=j1(e),u=_u(l)):e[en]&&(Uf(e[en]),e[en]=null));try{TI(e),bP(n.bindingStartIndex),t!==null&&LC(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let v=n.preOrderCheckHooks;v!==null&&al(e,v,null)}else{let v=n.preOrderHooks;v!==null&&cl(e,v,0,null),up(e,0)}if(s||H1(e),iD(e,0),n.contentQueries!==null&&KC(n,e),!o)if(h){let v=n.contentCheckHooks;v!==null&&al(e,v)}else{let v=n.contentHooks;v!==null&&cl(e,v,1),up(e,1)}r1(n,e);let p=n.components;p!==null&&sD(e,p,0);let m=n.viewQuery;if(m!==null&&Gp(2,m,r),!o)if(h){let v=n.viewCheckHooks;v!==null&&al(e,v)}else{let v=n.viewHooks;v!==null&&cl(e,v,2),up(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[cp]){for(let v of e[cp])v();e[cp]=null}o||(e[ne]&=-73)}catch(h){throw o||ql(e),h}finally{l!==null&&(Lf(l,u),a&&V1(l)),Pg()}}function iD(n,e){for(let t=sC(n);t!==null;t=aC(t))for(let r=Pt;r<t.length;r++){let i=t[r];oD(i,e)}}function H1(n){for(let e=sC(n);e!==null;e=aC(e)){if(!(e[ne]&vl.HasTransplantedViews))continue;let t=e[ko];for(let r=0;r<t.length;r++){let i=t[r];SI(i)}}}function q1(n,e,t){let r=Hr(e,n);oD(r,t)}function oD(n,e){Ag(n)&&Kp(n,e)}function Kp(n,e){let r=n[se],i=n[ne],o=n[en],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&jf(o)),s||=!1,o&&(o.dirty=!1),n[ne]&=-9217,s)z1(r,n,r.template,n[tn]);else if(i&8192){iD(n,1);let a=r.components;a!==null&&sD(n,a,1)}}function sD(n,e,t){for(let r=0;r<e.length;r++)q1(n,e[r],t)}function rm(n,e){let t=NI()?64:1088;for(n[Vn].changeDetectionScheduler?.notify(e);n;){n[ne]|=t;let r=bi(n);if(_l(n)&&!r)return n;n=r}return null}var Mi=class{get rootNodes(){let e=this._lView,t=e[se];return Rl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tn]}set context(e){this._lView[tn]=e}get destroyed(){return(this._lView[ne]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lt];if(Ln(e)){let t=e[yl],r=t?t.indexOf(this):-1;r>-1&&(xl(e,r),pl(t,r))}this._attachedToViewContainer=!1}Qg(this._lView[se],this._lView)}onDestroy(e){AI(this._lView,e)}markForCheck(){rm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){xp(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,rD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=_l(this._lView),t=this._lView[Di];t!==null&&!e&&Kg(t,this._lView),TC(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=e;let t=_l(this._lView),r=this._lView[Di];r!==null&&!t&&SC(r,this._lView),xp(this._lView)}},Ri=(()=>{class n{static{this.__NG_ELEMENT_ID__=K1}}return n})(),G1=Ri,W1=class extends G1{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=XC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Mi(i)}};function K1(){return im(Et(),we())}function im(n,e){return n.type&4?new W1(e,n,zo(n,e)):null}var Q1=new RegExp(`^(\\d+)*(${dC}|${lC})*(.*)`);function Y1(n){let e=n.match(Q1),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[u,l,h]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(l,p)}return[s,...a]}function Z1(n){return!n.prev&&n.parent?.type===8}function gp(n){return n.index-vt}function J1(n,e){let t=n.i18nNodes;if(t)return t.get(e)}function td(n,e,t,r){let i=gp(r),o=J1(n,i);if(o===void 0){let s=n.data[yN];if(s?.[i])o=eO(s[i],t);else if(e.firstChild===r)o=n.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(Z1(r)){let l=gp(r.parent);o=zp(n,l)}else{let l=Wt(u,t);if(a)o=l.firstChild;else{let h=gp(u),p=zp(n,h);if(u.type===2&&p){let v=Hg(n,h)+1;o=nd(v,p)}else o=l.nextSibling}}}}return o}function nd(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function X1(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case $p.FirstChild:t=t.firstChild;break;case $p.NextSibling:t=t.nextSibling;break}}return t}function eO(n,e){let[t,...r]=Y1(n),i;if(t===lC)i=e[nn][qt];else if(t===dC)i=LN(e[nn][qt]);else{let o=Number(t);i=vn(e[o+vt])}return X1(i,r)}var tO=!1;function nO(n){tO=n}function rO(n){let e=n[Fn];if(e){let{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){let i=n[je];for(let o of r.values())iO(i,t,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function iO(n,e,t){for(let r of t.node.cases[t.case]){let i=e.get(r.index-vt);i&&Zg(n,i,!1)}}function aD(n){let e=n[Ea]??[],r=n[lt][je];for(let i of e)oO(i,r);n[Ea]=Ht}function oO(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[Sl];for(;t<i;){let o=r.nextSibling;Zg(e,r,!1),r=o,t++}}}function cD(n){aD(n);let e=n[qt];yn(e)&&Pl(e);for(let t=Pt;t<n.length;t++)Pl(n[t])}function Pl(n){rO(n);let e=n[se];for(let t=vt;t<e.bindingStartIndex;t++)if(Ln(n[t])){let r=n[t];cD(r)}else yn(n[t])&&Pl(n[t])}function sO(n){let e=n._views;for(let t of e){let r=IN(t);r!==null&&r[qt]!==null&&(yn(r)?Pl(r):cD(r))}}function aO(n,e){let t=[];for(let r of e)for(let i=0;i<(r[hC]??1);i++){let o={data:r,firstChild:null};r[Sl]>0&&(o.firstChild=n,n=nd(r[Sl],n)),t.push(o)}return[n,t]}var uD=()=>null;function cO(n,e){let t=n[Ea];return!e||t===null||t.length===0?null:t[0].data[mN]===e?t.shift():(aD(n),null)}function uO(){uD=cO}function Qp(n,e){return uD(n,e)}var Fo=class{},rd=new B("",{providedIn:"root",factory:()=>!1});var lD=new B(""),dD=new B(""),Yp=class{},Nl=class{};function lO(n){let e=Error(`No component factory found for ${Rt(n)}.`);return e[dO]=n,e}var dO="ngComponent";var Zp=class{resolveComponentFactory(e){throw lO(e)}},Vo=class{static{this.NULL=new Zp}},Lo=class{},En=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>hO()}}return n})();function hO(){let n=we(),e=Et(),t=Hr(e.index,n);return(yn(t)?t:n)[je]}var fO=(()=>{class n{static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>null})}}return n})();function Jp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=sE(i,a);else if(o==2){let u=a,l=e[++s];r=sE(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Ol=class extends Vo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Br(e);return new jo(t,this.ngModule)}};function NE(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Ur.None;e?t.push({propName:s,templateName:r,isSignal:(a&Ur.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function pO(n){let e=n.toLowerCase();return e==="svg"?lP:e==="math"?dP:null}var jo=class extends Nl{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=NE(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return NE(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=HR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=ve(null);try{i=i||this.ngModule;let s=i instanceof Nt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Rp(e,s):e,u=a.get(Lo,null);if(u===null)throw new Y(407,!1);let l=a.get(fO,null),h=a.get(Fo,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",S=r?s1(m,r,this.componentDef.encapsulation,a):Wg(m,v,pO(v)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let x=null;S!==null&&(x=zg(S,a,!0));let F=Xg(0,null,null,1,0,null,null,null,null,null,null),G=Jl(null,F,null,P,null,null,p,m,a,null,x);Rg(G);let V,J,ge=null;try{let re=this.componentDef,E,y=null;re.findHostDirectiveDefs?(E=[],y=new Map,re.findHostDirectiveDefs(re,E,y),E.push(re)):E=[re];let w=gO(G,S);ge=mO(w,S,re,E,G,p,m),J=Sg(F,vt),S&&_O(m,re,S,r),t!==void 0&&wO(J,this.ngContentSelectors,t),V=vO(ge,re,E,y,G,[EO]),nm(F,G,null)}catch(re){throw ge!==null&&Up(ge),Up(G),re}finally{Pg()}return new Xp(this.componentType,V,zo(J,G),G,J)}finally{ve(o)}}},Xp=class extends Yp{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Mi(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;tm(o[se],o,i,e,t),this.previousInputValues.set(e,t);let s=Hr(this._tNode.index,o);rm(s,1)}}get injector(){return new Ii(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function gO(n,e){let t=n[se],r=vt;return n[r]=e,Xl(t,r,2,"#host",null)}function mO(n,e,t,r,i,o,s){let a=i[se];yO(r,n,e,s);let u=null;e!==null&&(u=zg(e,i[Oo]));let l=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=Jl(i,$C(t),null,h,i[n.index],n,o,l,null,null,u);return a.firstCreatePass&&qp(a,n,r.length-1),ed(i,p),i[n.index]=p}function yO(n,e,t,r){for(let i of n)e.mergedAttrs=va(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Jp(e,e.mergedAttrs,!0),t!==null&&NC(r,t,e))}function vO(n,e,t,r,i,o){let s=Et(),a=i[se],u=Wt(s,i);qC(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,m=Ai(i,a,p,s);xi(m,i)}GC(a,i,s),u&&xi(u,i);let l=Ai(i,a,s.directiveStart+s.componentOffset,s);if(n[tn]=i[tn]=l,o!==null)for(let h of o)h(l,e);return jC(a,s,i),l}function _O(n,e,t,r){if(r)Dp(n,t,["ng-version","18.2.8"]);else{let{attrs:i,classes:o}=qR(e.selectors[0]);i&&Dp(n,t,i),o&&o.length>0&&PC(n,t,o.join(" "))}}function wO(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function EO(){let n=Et();Og(we()[se],n)}var Wr=(()=>{class n{static{this.__NG_ELEMENT_ID__=IO}}return n})();function IO(){let n=Et();return fD(n,we())}var CO=Wr,hD=class extends CO{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return zo(this._hostTNode,this._hostLView)}get injector(){return new Ii(this._hostTNode,this._hostLView)}get parentInjector(){let e=kg(this._hostTNode,this._hostLView);if(HI(e)){let t=Il(e,this._hostLView),r=El(e),i=t[se].data[r+8];return new Ii(i,t)}else return new Ii(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=OE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Pt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Qp(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Wp(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!sP(e),a;if(s)a=t;else{let S=t||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new jo(Br(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get(Nt,null);P&&(o=P)}let h=Br(u.componentType??{}),p=Qp(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,o);return this.insertImpl(v.hostView,a,Wp(this._hostTNode,p)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(fP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[lt],l=new hD(u,u[_n],u[lt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return eD(s,i,o,r),e.attachToViewContainerRef(),tI(mp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=OE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=xl(this._lContainer,t);r&&(pl(mp(this._lContainer),t),Qg(r[se],r))}detach(e){let t=this._adjustIndex(e,-1),r=xl(this._lContainer,t);return r&&pl(mp(this._lContainer),t)!=null?new Mi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function OE(n){return n[yl]}function mp(n){return n[yl]||(n[yl]=[])}function fD(n,e){let t,r=e[n.index];return Ln(r)?t=r:(t=WC(r,e,null,n),e[n.index]=t,ed(e,t)),pD(t,e,n,r),new hD(t,n,e)}function DO(n,e){let t=n[je],r=t.createComment(""),i=Wt(e,n),o=xC(t,i);return Ml(t,o,r,QN(t,i),!1),r}var pD=gD,om=()=>!1;function bO(n,e,t){return om(n,e,t)}function gD(n,e,t,r){if(n[hr])return;let i;t.type&8?i=vn(r):i=DO(e,t),n[hr]=i}function TO(n,e,t){if(n[hr]&&n[Ea])return!0;let r=t[Fn],i=e.index-vt;if(!r||aN(e)||Ma(r,i))return!1;let s=zp(r,i),a=r.data[$g]?.[i],[u,l]=aO(s,a);return n[hr]=u,n[Ea]=l,!0}function SO(n,e,t,r){om(n,t,e)||gD(n,e,t,r)}function AO(){pD=SO,om=TO}var eg=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},tg=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)sm(e,t).matches!==null&&this.queries[t].setDirty()}},ng=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=FO(e):this.predicate=e}},rg=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ig=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,xO(t,o)),this.matchTNodeWithReadOption(e,t,ul(t,e,o,!1,!1))}else r===Ri?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ul(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ft||i===Wr||i===Ri&&t.type&4)this.addMatch(t.index,-2);else{let o=ul(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function xO(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function MO(n,e){return n.type&11?zo(n,e):n.type&4?im(n,e):null}function RO(n,e,t,r){return t===-1?MO(e,n):t===-2?PO(n,e,r):Ai(n,n[se],t,e)}function PO(n,e,t){if(t===Ft)return zo(e,n);if(t===Ri)return im(e,n);if(t===Wr)return fD(e,n)}function mD(n,e,t,r){let i=e[dr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(RO(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function og(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=mD(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Pt;p<h.length;p++){let m=h[p];m[Di]===m[lt]&&og(m[se],m,l,r)}if(h[ko]!==null){let p=h[ko];for(let m=0;m<p.length;m++){let v=p[m];og(v[se],v,l,r)}}}}}return r}function NO(n,e){return n[dr].queries[e].queryList}function OO(n,e,t){let r=new jp((t&4)===4);return l1(n,e,r,r.destroy),(e[dr]??=new tg).queries.push(new eg(r))-1}function kO(n,e,t,r){let i=wt();if(i.firstCreatePass){let o=Et();VO(i,new ng(e,t,r),o.index),LO(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return OO(i,we(),t)}function FO(n){return n.split(",").map(e=>e.trim())}function VO(n,e,t){n.queries===null&&(n.queries=new rg),n.queries.track(new ig(e,t))}function LO(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function sm(n,e){return n.queries.getByIndex(e)}function jO(n,e){let t=n[se],r=sm(t,e);return r.crossesNgTemplate?og(t,n,e,[]):mD(t,n,r,e)}var kE=new Set;function Un(n){kE.has(n)||(kE.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function UO(n){return typeof n=="function"&&n[or]!==void 0}function Oi(n,e){Un("NgSignals");let t=F0(n),r=t[or];return e?.equal&&(r.equal=e.equal),t.set=i=>Bf(r,i),t.update=i=>V0(r,i),t.asReadonly=BO.bind(t),t}function BO(){let n=this[or];if(n.readonlyFn===void 0){let e=()=>this();e[or]=n,n.readonlyFn=e}return n.readonlyFn}function yD(n){return UO(n)&&typeof n.set=="function"}function $O(n){return Object.getPrototypeOf(n.prototype).constructor}function Lt(n){let e=$O(n.type),t=!0,r=[n];for(;e;){let i;if($r(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Y(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=nl(n.inputs),s.inputTransforms=nl(n.inputTransforms),s.declaredInputs=nl(n.declaredInputs),s.outputs=nl(n.outputs);let a=i.hostBindings;a&&WO(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&qO(n,u),l&&GO(n,l),zO(n,i),lR(n.outputs,i.outputs),$r(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Lt&&(t=!1)}}e=Object.getPrototypeOf(e)}HO(r)}function zO(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function HO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=va(i.hostAttrs,t=va(t,i.hostAttrs))}}function nl(n){return n===Po?{}:n===Ht?[]:n}function qO(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function GO(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function WO(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function am(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var zr=class{},Ia=class{};var sg=class extends zr{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ol(this);let o=lI(e);this._bootstrapComponents=CC(o.bootstrap),this._r3Injector=XI(e,t,[{provide:zr,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver},...r],Rt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ag=class extends Ia{constructor(e){super(),this.moduleType=e}create(e){return new sg(this.moduleType,e,[])}};var kl=class extends zr{constructor(e){super(),this.componentFactoryResolver=new Ol(this),this.instance=null;let t=new _a([...e.providers,{provide:zr,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver}],e.parent||bg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function id(n,e,t=null){return new kl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function vD(n){return QO(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function KO(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function QO(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function cm(n,e,t){return n[e]=t}function YO(n,e){return n[e]}function gr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function _D(n,e,t,r){let i=gr(n,e,t);return gr(n,e+1,r)||i}function Pa(n){return(n.flags&32)===32}function ZO(n,e,t,r,i,o,s,a,u){let l=e.consts,h=Xl(e,n,4,s||null,a||null);HC(e,t,h,wl(l,u)),Og(e,h);let p=h.tView=Xg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function JO(n,e,t,r,i,o,s,a,u,l){let h=t+vt,p=e.firstCreatePass?ZO(h,e,n,r,i,o,s,a,u):e.data[h];Aa(p,!1);let m=wD(e,n,p,t);Ng()&&Yg(e,n,m,p),xi(m,n);let v=WC(m,n,m,p);return n[h]=v,ed(n,v),bO(v,p,n),Tg(p)&&UC(e,n,p),u!=null&&BC(n,p,l),p}function $e(n,e,t,r,i,o,s,a){let u=we(),l=wt(),h=wl(l.consts,o);return JO(u,l,n,e,t,r,i,h,s,a),$e}var wD=ED;function ED(n,e,t,r){return qr(!0),e[je].createComment("")}function XO(n,e,t,r){let i=e[Fn],o=!i||Sa()||Pa(t)||Ma(i,r);if(qr(o),o)return ED(n,e,t,r);let s=i.data[gN]?.[r]??null;s!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=s);let a=td(i,n,e,t);Ql(i,r,a);let u=Hg(i,r);return nd(u,a)}function ek(){wD=XO}var So=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(So||{}),ID=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}}return n})(),cg=class n{constructor(){this.ngZone=N(_e),this.scheduler=N(Fo),this.errorHandler=N(fr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[So.EarlyRead,So.Write,So.MixedReadWrite,So.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}},ug=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function um(n,e){!e?.injector&&oP(um);let t=e?.injector??N(dt);return fa(t)?(Un("NgAfterNextRender"),nk(n,t,e,!0)):rk}function tk(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function nk(n,e,t,r){let i=e.get(ID);i.impl??=e.get(cg);let o=t?.phase??So.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(Vg):null,a=new ug(i.impl,tk(n,o),r,s);return i.impl.register(a),a}var rk={destroy(){}};function qo(n,e,t,r){let i=we(),o=xa();if(gr(i,o,e)){let s=wt(),a=Gl();b1(a,i,n,e,t,r)}return qo}function CD(n,e,t,r){return gr(n,xa(),t)?e+Mo(t)+r:sn}function ik(n,e,t,r,i,o){let s=DP(),a=_D(n,s,t,i);return OI(2),a?e+Mo(t)+r+Mo(i)+o:sn}function rl(n,e){return n<<17|e<<2}function Pi(n){return n>>17&32767}function ok(n){return(n&2)==2}function sk(n,e){return n&131071|e<<17}function lg(n){return n|2}function Uo(n){return(n&131068)>>2}function yp(n,e){return n&-131069|e<<2}function ak(n){return(n&1)===1}function dg(n){return n|1}function ck(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Pi(s),u=Uo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||ba(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Pi(n[a+1]);n[r+1]=rl(m,a),m!==0&&(n[m+1]=yp(n[m+1],r)),n[a+1]=sk(n[a+1],r)}else n[r+1]=rl(a,0),a!==0&&(n[a+1]=yp(n[a+1],r)),a=r;else n[r+1]=rl(u,0),a===0?a=r:n[u+1]=yp(n[u+1],r),u=r;l&&(n[r+1]=lg(n[r+1])),FE(n,h,r,!0),FE(n,h,r,!1),uk(e,h,n,r,o),s=rl(a,u),o?e.classBindings=s:e.styleBindings=s}function uk(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ba(o,e)>=0&&(t[r+1]=dg(t[r+1]))}function FE(n,e,t,r){let i=n[t+1],o=e===null,s=r?Pi(i):Uo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];lk(u,e)&&(a=!0,n[s+1]=r?dg(l):lg(l)),s=r?Pi(l):Uo(l)}a&&(n[t+1]=r?lg(i):dg(i))}function lk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ba(n,e)>=0:!1}function Ee(n,e,t){let r=we(),i=xa();if(gr(r,i,e)){let o=wt(),s=Gl();em(o,s,r,n,e,r[je],t,!1)}return Ee}function VE(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";tm(n,t,o[s],s,r)}function od(n,e){return dk(n,e,null,!0),od}function dk(n,e,t,r){let i=we(),o=wt(),s=OI(2);if(o.firstUpdatePass&&fk(o,n,s,r),e!==sn&&gr(i,s,e)){let a=o.data[Ni()];vk(o,a,i,i[je],n,i[s+1]=_k(e,t),r,s)}}function hk(n,e){return e>=n.expandoStartIndex}function fk(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ni()],s=hk(n,t);wk(o,r)&&e===null&&!s&&(e=!1),e=pk(i,o,e,r),ck(i,o,e,t,s,r)}}function pk(n,e,t,r){let i=xP(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=vp(null,n,e,t,r),t=Ca(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=vp(i,n,e,t,r),o===null){let u=gk(n,e,r);u!==void 0&&Array.isArray(u)&&(u=vp(null,n,e,u[1],r),u=Ca(u,e.attrs,r),mk(n,e,r,u))}else o=yk(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function gk(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Uo(r)!==0)return n[Pi(r)]}function mk(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Pi(i)]=r}function yk(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ca(r,s,t)}return Ca(r,e.attrs,t)}function vp(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ca(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ca(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),PR(n,s,t?!0:e[++o]))}return n===void 0?null:n}function vk(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=ak(l)?LE(u,e,t,i,Uo(l),s):void 0;if(!Fl(h)){Fl(o)||ok(l)&&(o=LE(u,null,t,i,a,s));let p=bI(Ni(),t);t1(r,s,p,i,o)}}function LE(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===sn&&(m=p?Ht:void 0);let v=p?sp(m,r):h===r?m:void 0;if(l&&!Fl(v)&&(v=sp(u,r)),Fl(v)&&(a=v,s))return a;let S=n[i+1];i=s?Pi(S):Uo(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=sp(u,r))}return a}function Fl(n){return n!==void 0}function _k(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Rt(Ra(n)))),n}function wk(n,e){return(n.flags&(e?8:16))!==0}function ki(n,e){Un("NgControlFlow");let t=we(),r=xa(),i=t[r]!==sn?t[r]:-1,o=i!==-1?jE(t,vt+i):void 0,s=0;if(gr(t,r,n)){let a=ve(null);try{if(o!==void 0&&N1(o,s),n!==-1){let u=vt+n,l=jE(t,u),h=Ek(t[se],u),p=Qp(l,h.tView.ssrId),m=XC(t,h,e,{dehydratedView:p});eD(l,m,s,Wp(h,p))}}finally{ve(a)}}else if(o!==void 0){let a=P1(o,s);a!==void 0&&(a[tn]=e)}}function jE(n,e){return n[e]}function Ek(n,e){return Sg(n,e)}function Ik(n,e,t,r,i,o){let s=e.consts,a=wl(s,i),u=Xl(e,n,2,r,a);return HC(e,t,u,wl(s,o)),u.attrs!==null&&Jp(u,u.attrs,!1),u.mergedAttrs!==null&&Jp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function T(n,e,t,r){let i=we(),o=wt(),s=vt+n,a=i[je],u=o.firstCreatePass?Ik(s,o,i,e,t,r):o.data[s],l=DD(o,i,u,a,e,n);i[s]=l;let h=Tg(u);return Aa(u,!0),NC(a,l,u),!Pa(u)&&Ng()&&Yg(o,i,l,u),mP()===0&&xi(l,i),yP(),h&&(UC(o,i,u),jC(o,u,i)),r!==null&&BC(i,u),T}function A(){let n=Et();PI()?CP():(n=n.parent,Aa(n,!1));let e=n;_P(e)&&EP(),vP();let t=wt();return t.firstCreatePass&&(Og(t,n),wI(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&kP(e)&&VE(t,e,we(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&FP(e)&&VE(t,e,we(),e.stylesWithoutHost,!1),A}function Z(n,e,t,r){return T(n,e,t,r),A(),Z}var DD=(n,e,t,r,i,o)=>(qr(!0),Wg(r,i,BI()));function Ck(n,e,t,r,i,o){let s=e[Fn],a=!s||Sa()||Pa(t)||Ma(s,o);if(qr(a),a)return Wg(r,i,BI());let u=td(s,n,e,t);return mC(s,o)&&Ql(s,o,u.nextSibling),s&&(rC(t)||iC(u))&&Ta(t)&&(wP(t),RC(u)),u}function Dk(){DD=Ck}var bk=(n,e,t,r)=>(qr(!0),bC(e[je],""));function Tk(n,e,t,r){let i,o=e[Fn],s=!o||Sa()||Ma(o,r)||Pa(t);if(qr(s),s)return bC(e[je],"");let a=td(o,n,e,t),u=bN(o,r);return Ql(o,r,a),i=nd(u,a),i}function Sk(){bk=Tk}function In(){return we()}var Vl="en-US";var Ak=Vl;function xk(n){typeof n=="string"&&(Ak=n.toLowerCase().replace(/_/g,"-"))}var Mk=(n,e,t)=>{};function Ie(n,e,t,r){let i=we(),o=wt(),s=Et();return bD(o,i,i[je],s,n,e,r),Ie}function Rk(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ml],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function bD(n,e,t,r,i,o,s){let a=Tg(r),l=n.firstCreatePass&&YC(n),h=e[tn],p=QC(e),m=!0;if(r.type&3||s){let P=Wt(r,e),x=s?s(P):P,F=p.length,G=s?J=>s(vn(J[r.index])):r.index,V=null;if(!s&&a&&(V=Rk(n,e,i,r.index)),V!==null){let J=V.__ngLastListenerFn__||V;J.__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,m=!1}else{o=BE(r,e,h,o),Mk(P,i,o);let J=t.listen(x,i,o);p.push(o,J),l&&l.push(i,G,F,F+1)}}else o=BE(r,e,h,o);let v=r.outputs,S;if(m&&v!==null&&(S=v[i])){let P=S.length;if(P)for(let x=0;x<P;x+=2){let F=S[x],G=S[x+1],ge=e[F][G].subscribe(o),re=p.length;p.push(o,ge),l&&l.push(i,r.index,re,-(re+1))}}}function UE(n,e,t,r){let i=ve(null);try{return Nn(6,e,t),t(r)!==!1}catch(o){return ZC(n,o),!1}finally{Nn(7,e,t),ve(i)}}function BE(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Hr(n.index,e):e;rm(s,5);let a=UE(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=UE(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function qe(n=1){return RP(n)}function Fi(n,e,t){return TD(n,"",e,"",t),Fi}function TD(n,e,t,r,i){let o=we(),s=CD(o,e,t,r);if(s!==sn){let a=wt(),u=Gl();em(a,u,o,n,s,o[je],i,!1)}return TD}function SD(n,e,t,r){kO(n,e,t,r)}function AD(n){let e=we(),t=wt(),r=kI();Mg(r+1);let i=sm(t,r);if(n.dirty&&hP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=jO(e,r);n.reset(o,rN),n.notifyOnChanges()}return!0}return!1}function xD(){return NO(we(),kI())}function R(n,e=""){let t=we(),r=wt(),i=n+vt,o=r.firstCreatePass?Xl(r,i,1,e,null):r.data[i],s=MD(r,t,o,e,n);t[i]=s,Ng()&&Yg(r,t,s,o),Aa(o,!1)}var MD=(n,e,t,r,i)=>(qr(!0),DC(e[je],r));function Pk(n,e,t,r,i){let o=e[Fn],s=!o||Sa()||Pa(t)||Ma(o,i);return qr(s),s?DC(e[je],r):td(o,n,e,t)}function Nk(){MD=Pk}function Je(n){return Te("",n,""),Je}function Te(n,e,t){let r=we(),i=CD(r,n,e,t);return i!==sn&&JC(r,Ni(),i),Te}function lm(n,e,t,r,i){let o=we(),s=ik(o,n,e,t,r,i);return s!==sn&&JC(o,Ni(),s),lm}function Go(n,e,t){yD(e)&&(e=e());let r=we(),i=xa();if(gr(r,i,e)){let o=wt(),s=Gl();em(o,s,r,n,e,r[je],t,!1)}return Go}function Na(n,e){let t=yD(n);return t&&n.set(e),t}function Wo(n,e){let t=we(),r=wt(),i=Et();return bD(r,t,t[je],i,n,e),Wo}function Ok(n,e,t){let r=wt();if(r.firstCreatePass){let i=$r(n);hg(t,r.data,r.blueprint,i,!0),hg(e,r.data,r.blueprint,i,!1)}}function hg(n,e,t,r,i){if(n=Mt(n),Array.isArray(n))for(let o=0;o<n.length;o++)hg(n[o],e,t,r,i);else{let o=wt(),s=we(),a=Et(),u=No(n)?n:Mt(n.provide),l=mI(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(No(n)||!n.multi){let v=new Si(l,i,z),S=wp(u,e,i?h:h+m,p);S===-1?(Np(Cl(a,s),o,u),_p(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[S]=v,s[S]=v)}else{let v=wp(u,e,h+m,p),S=wp(u,e,h,h+m),P=v>=0&&t[v],x=S>=0&&t[S];if(i&&!x||!i&&!P){Np(Cl(a,s),o,u);let F=Vk(i?Fk:kk,t.length,i,r,l);!i&&x&&(t[S].providerFactory=F),_p(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=RD(t[i?S:v],l,!i&&r);_p(o,n,v>-1?v:S,F)}!i&&r&&x&&t[S].componentProviders++}}}function _p(n,e,t,r){let i=No(e),o=JR(e);if(i||o){let u=(o?Mt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function RD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function wp(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function kk(n,e,t,r){return fg(this.multi,[])}function Fk(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ai(t,t[se],this.providerFactory.index,r);o=a.slice(0,s),fg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],fg(i,o);return o}function fg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Vk(n,e,t,r,i){let o=new Si(n,t,z);return o.multi=[],o.index=e,o.componentProviders=0,RD(o,i,r&&!t),o}function Bn(n,e=[]){return t=>{t.providersResolver=(r,i)=>Ok(r,i?i(n):n,e)}}var Lk=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=fI(!1,t.type),i=r.length>0?id([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=q({token:n,providedIn:"environment",factory:()=>new n($(Nt))})}}return n})();function Fe(n){Un("NgStandalone"),n.getStandaloneInjector=e=>e.get(Lk).getOrCreateStandaloneInjector(n)}function PD(n,e,t){let r=xg()+n,i=we();return i[r]===sn?cm(i,r,t?e.call(t):e()):YO(i,r)}function ND(n,e,t,r){return jk(we(),xg(),n,e,t,r)}function OD(n,e,t,r,i){return Uk(we(),xg(),n,e,t,r,i)}function kD(n,e){let t=n[e];return t===sn?void 0:t}function jk(n,e,t,r,i,o){let s=e+t;return gr(n,s,i)?cm(n,s+1,o?r.call(o,i):r(i)):kD(n,s+1)}function Uk(n,e,t,r,i,o,s){let a=e+t;return _D(n,a,i,o)?cm(n,a+2,s?r.call(s,i,o):r(i,o)):kD(n,a+2)}var mr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Oa=new mr("18.2.8");var sd=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var FD=new B("");function Vi(n){return!!n&&typeof n.then=="function"}function VD(n){return!!n&&typeof n.subscribe=="function"}var ad=new B(""),LD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=N(ad,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Vi(o))t.push(o);else if(VD(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Li=new B("");function Bk(){k0(()=>{throw new Y(600,!1)})}function $k(n){return n.isBoundToModule}var zk=10;function Hk(n,e,t){try{let r=t();return Vi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var $n=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(tN),this.afterRenderManager=N(ID),this.zonelessEnabled=N(rd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ue,this.afterTick=new Ue,this.componentTypes=[],this.components=[],this.isStable=N(Gr).hasPendingTasks.pipe(ee(t=>!t)),this._injector=N(Nt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Nl;if(!this._injector.get(LD).done){let m=!i&&uI(t),v=!1;throw new Y(405,v)}let s;i?s=t:s=this._injector.get(Vo).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=$k(s)?void 0:this._injector.get(zr),u=r||s.selector,l=s.create(dt.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(FD,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),ll(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Y(101,!1);let t=ve(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ve(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Lo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<zk;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)qk(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Hl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ll(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Li,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ll(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Y(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ll(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var il;function cd(n){il??=new WeakMap;let e=il.get(n);if(e)return e;let t=n.isStable.pipe(zt(r=>r)).toPromise().then(()=>{});return il.set(n,t),n.onDestroy(()=>il?.delete(n)),t}function qk(n,e,t,r){if(!t&&!Hl(n))return;rD(n,e,t&&!r?0:1)}var pg=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},ud=(()=>{class n{compileModuleSync(t){return new ag(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=lI(t),o=CC(i.declarations).reduce((s,a)=>{let u=Br(a);return u&&s.push(new jo(u)),s},[]);return new pg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Gk=(()=>{class n{constructor(){this.zone=N(_e),this.changeDetectionScheduler=N(Fo),this.applicationRef=N($n)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Wk=new B("",{factory:()=>!1});function jD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _e(me(U({},BD()),{scheduleInRootZone:t})),[{provide:_e,useFactory:n},{provide:Ci,multi:!0,useFactory:()=>{let r=N(Gk,{optional:!0});return()=>r.initialize()}},{provide:Ci,multi:!0,useFactory:()=>{let r=N(Kk);return()=>{r.initialize()}}},e===!0?{provide:lD,useValue:!0}:[],{provide:dD,useValue:t??eC}]}function UD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=jD({ngZoneFactory:()=>{let i=BD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Un("NgZone_CoalesceEvent"),new _e(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Gt([{provide:Wk,useValue:!0},{provide:rd,useValue:!1},r])}function BD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Kk=(()=>{class n{constructor(){this.subscription=new Ke,this.initialized=!1,this.zone=N(_e),this.pendingTasks=N(Gr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Qk=(()=>{class n{constructor(){this.appRef=N($n),this.taskService=N(Gr),this.ngZone=N(_e),this.zonelessEnabled=N(rd),this.disableScheduling=N(lD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ke,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(bl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(dD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Lp||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?DE:tC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(bl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,DE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Yk(){return typeof $localize<"u"&&$localize.locale||Vl}var dm=new B("",{providedIn:"root",factory:()=>N(dm,he.Optional|he.SkipSelf)||Yk()});var gg=new B("");function ol(n){return!n.moduleRef}function Zk(n){let e=ol(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_e);return t.run(()=>{ol(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(fr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),ol(n)){let o=()=>e.destroy(),s=n.platformInjector.get(gg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(gg);s.add(o),n.moduleRef.onDestroy(()=>{ll(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return Hk(r,t,()=>{let o=e.get(LD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(dm,Vl);if(xk(s||Vl),ol(n)){let a=e.get($n);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return Jk(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function Jk(n,e){let t=n.injector.get($n);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new Y(-403,!1);e.push(n)}var dl=null;function Xk(n=[],e){return dt.create({name:e,providers:[{provide:$l,useValue:"platform"},{provide:gg,useValue:new Set([()=>dl=null])},...n]})}function eF(n=[]){if(dl)return dl;let e=Xk(n);return dl=e,Bk(),tF(e),e}function tF(n){n.get(Ug,null)?.forEach(t=>t())}function hm(){return!1}var Kr=(()=>{class n{static{this.__NG_ELEMENT_ID__=nF}}return n})();function nF(n){return rF(Et(),we(),(n&16)===16)}function rF(n,e,t){if(Ta(n)&&!t){let r=Hr(n.index,e);return new Mi(r,r)}else if(n.type&175){let r=e[nn];return new Mi(r,e)}return null}var mg=class{constructor(){}supports(e){return vD(e)}create(e){return new yg(e)}},iF=(n,e)=>e,yg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||iF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<$E(r,i,o)?t:r,a=$E(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let v=m<o.length?o[m]:o[m]=0,S=v+m;h<=S&&S<l&&(o[m]=v+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!vD(e))throw new Y(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,KO(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new vg(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ll),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ll),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},vg=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},_g=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ll=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new _g,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function $E(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function zE(){return new fm([new mg])}var fm=(()=>{class n{static{this.\u0275prov=q({token:n,providedIn:"root",factory:zE})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||zE()),deps:[[n,new Eg,new _t]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new Y(901,!1)}}return n})();function $D(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=eF(r),o=[jD({}),{provide:Fo,useExisting:Qk},...t||[]],s=new kl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Zk({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var HE=!1;function oF(){HE||(HE=!0,EN(),Dk(),Nk(),Sk(),ek(),AO(),uO(),u1())}function sF(n,e){return cd(n)}function zD(){return Gt([{provide:Xu,useFactory:()=>{let n=!0;return fa()&&(n=!!N(Ho,{optional:!0})?.get(pC,null)),n&&Un("NgHydration"),n}},{provide:Ci,useValue:()=>{nO(!1),fa()&&N(Xu)&&(aF(),oF())},multi:!0},{provide:vC,useFactory:()=>fa()&&N(Xu)},{provide:Li,useFactory:()=>{if(fa()&&N(Xu)){let n=N($n),e=N(dt);return()=>{sF(n,e).then(()=>{sO(n)})}}return()=>{}},multi:!0}])}function aF(){let n=Wl(),e;for(let t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===_N){e=t;break}if(!e)throw new Y(-507,!1)}function Qr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ka(n,e){Un("NgSignals");let t=P0(n);return e?.equal&&(t[or].equal=e.equal),t}function vr(n){let e=ve(null);try{return n()}finally{ve(e)}}function HD(n){let e=Br(n);if(!e)return null;let t=new jo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var YD=null;function wr(){return YD}function ZD(n){YD??=n}var ld=class{};var It=new B(""),_m=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>N(cF),providedIn:"platform"})}}return n})(),JD=new B(""),cF=(()=>{class n extends _m{constructor(){super(),this._doc=N(It),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wr().getBaseHref(this._doc)}onPopState(t){let r=wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=wr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function wm(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function qD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function _r(n){return n&&n[0]!=="?"?"?"+n:n}var Er=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>N(Em),providedIn:"root"})}}return n})(),XD=new B(""),Em=(()=>{class n extends Er{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(It).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return wm(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+_r(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+_r(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+_r(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)($(_m),$(XD,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eb=(()=>{class n extends Er{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=wm(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+_r(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+_r(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)($(_m),$(XD,8))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Qo=(()=>{class n{constructor(t){this._subject=new He,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=dF(qD(GD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+_r(r))}normalize(t){return n.stripTrailingSlash(lF(this._basePath,GD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_r(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_r(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=_r}static{this.joinWithSlash=wm}static{this.stripTrailingSlash=qD}static{this.\u0275fac=function(r){return new(r||n)($(Er))}}static{this.\u0275prov=q({token:n,factory:()=>uF(),providedIn:"root"})}}return n})();function uF(){return new Qo($(Er))}function lF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function GD(n){return n.replace(/\/index.html$/,"")}function dF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function dd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var pm=/\s+/,WD=[],tb=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=WD,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(pm):WD}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(pm):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(pm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(z(Ft),z(En))}}static{this.\u0275dir=ke({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var gm=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},an=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new gm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),KD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);KD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(z(Wr),z(Ri),z(fm))}}static{this.\u0275dir=ke({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function KD(n,e){n.context.$implicit=e.item}var Yo=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new mm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){QD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){QD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(z(Wr),z(Ri))}}static{this.\u0275dir=ke({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),mm=class{constructor(){this.$implicit=null,this.ngIf=null}};function QD(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Rt(e)}'.`)}var Im=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=st({type:n})}static{this.\u0275inj=ot({})}}return n})(),Cm="browser",hF="server";function fF(n){return n===Cm}function ji(n){return n===hF}var nb=(()=>{class n{static{this.\u0275prov=q({token:n,providedIn:"root",factory:()=>fF(N(it))?new ym(N(It),window):new vm})}}return n})(),ym=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=pF(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function pF(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var vm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ko=class{};var Va=class{},pd=class{},zn=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Tm=class{encodeKey(e){return rb(e)}encodeValue(e){return rb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function gF(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var mF=/%(\d[a-f0-9])/gi,yF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function rb(n){return encodeURIComponent(n).replace(mF,(e,t)=>yF[t]??e)}function hd(n){return`${n}`}var Zr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Tm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=gF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(hd):[hd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(hd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(hd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Sm=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function vF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ib(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function ob(n){return typeof Blob<"u"&&n instanceof Blob}function sb(n){return typeof FormData<"u"&&n instanceof FormData}function _F(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Fa=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(vF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new zn,this.context??=new Sm,!this.params)this.params=new Zr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ib(this.body)||ob(this.body)||sb(this.body)||_F(this.body)?this.body:this.body instanceof Zr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||sb(this.body)?null:ob(this.body)?this.body.type||null:ib(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Zr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,v)=>m.set(v,e.setHeaders[v]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,v)=>m.set(v,e.setParams[v]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Jr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Jr||{}),La=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new zn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},gd=class n extends La{constructor(e={}){super(e),this.type=Jr.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ui=class n extends La{constructor(e={}){super(e),this.type=Jr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Yr=class extends La{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},yb=200,wF=204;function bm(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Ir=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Fa)o=t;else{let u;i.headers instanceof zn?u=i.headers:u=new zn(i.headers);let l;i.params&&(i.params instanceof Zr?l=i.params:l=new Zr({fromObject:i.params})),o=new Fa(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Q(o).pipe(ur(u=>this.handler.handle(u)));if(t instanceof Fa||i.observe==="events")return s;let a=s.pipe(ut(u=>u instanceof Ui));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ee(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(ee(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Zr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,bm(i,r))}post(t,r,i={}){return this.request("POST",t,bm(i,r))}put(t,r,i={}){return this.request("PUT",t,bm(i,r))}static{this.\u0275fac=function(r){return new(r||n)($(Va))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),EF=/^\)\]\}',?\n/,IF="X-Request-URL";function ab(n){if(n.url)return n.url;let e=IF.toLocaleLowerCase();return n.headers.get(e)}var CF=(()=>{class n{constructor(){this.fetchImpl=N(Am,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=N(_e)}handle(t){return new oe(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(xm,o=>r.error(new Yr({error:o}))),()=>i.abort()})}doRequest(t,r,i){return L(this,null,function*(){let o=this.createRequestInit(t),s;try{let v=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,U({signal:r},o)));DF(v),i.next({type:Jr.Sent}),s=yield v}catch(v){i.error(new Yr({error:v,status:v.status??0,statusText:v.statusText,url:t.urlWithParams,headers:v.headers}));return}let a=new zn(s.headers),u=s.statusText,l=ab(s)??t.urlWithParams,h=s.status,p=null;if(t.reportProgress&&i.next(new gd({headers:a,status:h,statusText:u,url:l})),s.body){let v=s.headers.get("content-length"),S=[],P=s.body.getReader(),x=0,F,G,V=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>L(this,null,function*(){for(;;){let{done:ge,value:re}=yield P.read();if(ge)break;if(S.push(re),x+=re.length,t.reportProgress){G=t.responseType==="text"?(G??"")+(F??=new TextDecoder).decode(re,{stream:!0}):void 0;let E=()=>i.next({type:Jr.DownloadProgress,total:v?+v:void 0,loaded:x,partialText:G});V?V.run(E):E()}}}));let J=this.concatChunks(S,x);try{let ge=s.headers.get("Content-Type")??"";p=this.parseBody(t,J,ge)}catch(ge){i.error(new Yr({error:ge,headers:new zn(s.headers),status:s.status,statusText:s.statusText,url:ab(s)??t.urlWithParams}));return}}h===0&&(h=p?yb:0),h>=200&&h<300?(i.next(new Ui({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Yr({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(EF,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Am=class{};function xm(){}function DF(n){n.then(xm,xm)}function bF(n,e){return e(n)}function TF(n,e,t){return(r,i)=>on(t,()=>e(r,o=>n(o,i)))}var vb=new B(""),_b=new B(""),SF=new B("",{providedIn:"root",factory:()=>!0});var cb=(()=>{class n extends Va{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=N(Gr),this.contributeToStability=N(SF)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(vb),...this.injector.get(_b,[])]));this.chain=r.reduceRight((i,o)=>TF(i,o,this.injector),bF)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ei(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)($(pd),$(Nt))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();var AF=/^\)\]\}',?\n/;function xF(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var ub=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Y(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?de(r.\u0275loadImpl()):Q(null)).pipe(Ae(()=>new oe(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((P,x)=>s.setRequestHeader(P,x.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let P=t.detectContentTypeHeader();P!==null&&s.setRequestHeader("Content-Type",P)}if(t.responseType){let P=t.responseType.toLowerCase();s.responseType=P!=="json"?P:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let P=s.statusText||"OK",x=new zn(s.getAllResponseHeaders()),F=xF(s)||t.url;return u=new gd({headers:x,status:s.status,statusText:P,url:F}),u},h=()=>{let{headers:P,status:x,statusText:F,url:G}=l(),V=null;x!==wF&&(V=typeof s.response>"u"?s.responseText:s.response),x===0&&(x=V?yb:0);let J=x>=200&&x<300;if(t.responseType==="json"&&typeof V=="string"){let ge=V;V=V.replace(AF,"");try{V=V!==""?JSON.parse(V):null}catch(re){V=ge,J&&(J=!1,V={error:re,text:V})}}J?(o.next(new Ui({body:V,headers:P,status:x,statusText:F,url:G||void 0})),o.complete()):o.error(new Yr({error:V,headers:P,status:x,statusText:F,url:G||void 0}))},p=P=>{let{url:x}=l(),F=new Yr({error:P,status:s.status||0,statusText:s.statusText||"Unknown Error",url:x||void 0});o.error(F)},m=!1,v=P=>{m||(o.next(l()),m=!0);let x={type:Jr.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(x.total=P.total),t.responseType==="text"&&s.responseText&&(x.partialText=s.responseText),o.next(x)},S=P=>{let x={type:Jr.UploadProgress,loaded:P.loaded};P.lengthComputable&&(x.total=P.total),o.next(x)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",v),a!==null&&s.upload&&s.upload.addEventListener("progress",S)),s.send(a),o.next({type:Jr.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",v),a!==null&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)($(Ko))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),wb=new B(""),MF="XSRF-TOKEN",RF=new B("",{providedIn:"root",factory:()=>MF}),PF="X-XSRF-TOKEN",NF=new B("",{providedIn:"root",factory:()=>PF}),md=class{},OF=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=dd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)($(It),$(it),$(RF))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function kF(n,e){let t=n.url.toLowerCase();if(!N(wb)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=N(md).getToken(),i=N(NF);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function Mm(...n){let e=[Ir,ub,cb,{provide:Va,useExisting:cb},{provide:pd,useFactory:()=>N(CF,{optional:!0})??N(ub)},{provide:vb,useValue:kF,multi:!0},{provide:wb,useValue:!0},{provide:md,useClass:OF}];for(let t of n)e.push(...t.\u0275providers);return Gt(e)}var FF=new B(""),lb="b",db="h",hb="s",fb="st",pb="u",gb="rt",fd=new B(""),VF=["GET","HEAD"];function LF(n,e){let v=N(fd),{isCacheActive:t}=v,r=f0(v,["isCacheActive"]),{transferCache:i,method:o}=n;if(!t||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!VF.includes(o)||!r.includeRequestsWithAuthHeaders&&jF(n)||r.filter?.(n)===!1)return e(n);let s=N(Ho),a=N(FF,{optional:!0}),u=ji(N(it));if(a&&!u)throw new Y(2803,!1);let l=u&&a?zF(n.url,a):n.url,h=BF(n,l),p=s.get(h,null),m=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(m=i.includeHeaders),p){let{[lb]:S,[gb]:P,[db]:x,[hb]:F,[fb]:G,[pb]:V}=p,J=S;switch(P){case"arraybuffer":J=new TextEncoder().encode(S).buffer;break;case"blob":J=new Blob([S]);break}let ge=new zn(x);return Q(new Ui({body:J,headers:ge,status:F,statusText:G,url:V}))}return e(n).pipe(Ye(S=>{S instanceof Ui&&u&&s.set(h,{[lb]:S.body,[db]:UF(S.headers,m),[hb]:S.status,[fb]:S.statusText,[pb]:l,[gb]:n.responseType})}))}function jF(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function UF(n,e){if(!e)return{};let t={};for(let r of e){let i=n.getAll(r);i!==null&&(t[r]=i)}return t}function mb(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function BF(n,e){let{params:t,method:r,responseType:i}=n,o=mb(t),s=n.serializeBody();s instanceof URLSearchParams?s=mb(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),u=$F(a);return u}function $F(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function Eb(n){return[{provide:fd,useFactory:()=>(Un("NgHttpTransferCache"),U({isCacheActive:!0},n))},{provide:_b,useValue:LF,multi:!0,deps:[Ho,fd]},{provide:Li,multi:!0,useFactory:()=>{let e=N($n),t=N(fd);return()=>{cd(e).then(()=>{t.isCacheActive=!1})}}}]}function zF(n,e){let t=new URL(n,"resolve://").origin,r=e[t];return r?n.replace(t,r):n}var Nm=class extends ld{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Om=class n extends Nm{static makeCurrent(){ZD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=HF();return t==null?null:qF(t)}resetBaseElement(){ja=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return dd(document.cookie,e)}},ja=null;function HF(){return ja=ja||document.querySelector("base"),ja?ja.getAttribute("href"):null}function qF(n){return new URL(n,document.baseURI).pathname}var GF=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),km=new B(""),Tb=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Y(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)($(km),$(_e))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),yd=class{constructor(e){this._doc=e}},Rm="ng-app-id",Sb=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ji(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Rm}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Rm),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Rm,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)($(It),$(Kl),$(Bg,8),$(it))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Pm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Lm=/%COMP%/g,Ab="%COMP%",WF=`_nghost-${Ab}`,KF=`_ngcontent-${Ab}`,QF=!0,YF=new B("",{providedIn:"root",factory:()=>QF});function ZF(n){return KF.replace(Lm,n)}function JF(n){return WF.replace(Lm,n)}function xb(n,e){return e.map(t=>t.replace(Lm,n))}var Cb=(()=>{class n{constructor(t,r,i,o,s,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=ji(a),this.defaultRenderer=new Ua(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===kn.ShadowDom&&(r=me(U({},r),{encapsulation:kn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof vd?i.applyToHost(t):i instanceof Ba&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case kn.Emulated:o=new vd(u,l,r,this.appId,h,s,a,p);break;case kn.ShadowDom:return new Fm(u,l,t,r,s,a,this.nonce,p);default:o=new Ba(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)($(Tb),$(Sb),$(Kl),$(YF),$(It),$(it),$(_e),$(Bg))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),Ua=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Pm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Db(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Db(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Y(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Pm[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Pm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(pr.DashCase|pr.Important)?e.style.setProperty(t,r,i&pr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&pr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=wr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Db(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Fm=class extends Ua{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=xb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ba=class extends Ua{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?xb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},vd=class extends Ba{constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=ZF(l),this.hostAttr=JF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},XF=(()=>{class n extends yd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)($(It))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})(),bb=["alt","control","meta","shift"],eV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},nV=(()=>{class n extends yd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),bb.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=eV[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),bb.forEach(s=>{if(s!==i){let a=tV[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)($(It))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function Mb(n,e){return $D(U({rootComponent:n},rV(e)))}function rV(n){return{appProviders:[...cV,...n?.providers??[]],platformProviders:aV}}function iV(){Om.makeCurrent()}function oV(){return new fr}function sV(){return uC(document),document}var aV=[{provide:it,useValue:Cm},{provide:Ug,useValue:iV,multi:!0},{provide:It,useFactory:sV,deps:[]}];var cV=[{provide:$l,useValue:"root"},{provide:fr,useFactory:oV,deps:[]},{provide:km,useClass:XF,multi:!0,deps:[It,_e,it]},{provide:km,useClass:nV,multi:!0,deps:[It]},Cb,Sb,Tb,{provide:Lo,useExisting:Cb},{provide:Ko,useClass:GF,deps:[]},[]];var Rb=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)($(It))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Vm=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n}(Vm||{});function Pb(...n){let e=[],t=new Set,r=t.has(Vm.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of n)t.add(o),i.length&&e.push(i);return Gt([[],zD(),t.has(Vm.NoHttpTransferCache)||r?[]:Eb({}),e])}var lV="firebase",dV="10.14.1";nt(lV,dV,"app");var jt=new mr("ANGULARFIRE2_VERSION");function wd(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var $a=(n,e)=>{let t=e?[e]:pu(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Xr=class{constructor(){return $a(hV)}},hV="app-check";function Zo(){}var _d=class{zone;delegate;constructor(e,t=Yf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},jm=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zo,{},Zo,Zo)),t.pipe(Ye({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},$i=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new _d(Zone.current)),this.insideAngular=t.run(()=>new _d(Zone.current,ha)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)($(_e))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ed(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function fV(n){return Ed().ngZone.runOutsideAngular(()=>n())}function Bi(n){return Ed().ngZone.run(()=>n())}function Um(n){return pV(Ed())(n)}function pV(n){return function(t){return t=t.lift(new jm(n.ngZone)),t.pipe(Jt(n.outsideAngular),$t(n.insideAngular))}}var gV=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Bi(()=>n.apply(void 0,r))},ht=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=Bi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zo,{},Zo,Zo))),r[o]=gV(r[o],t));let i=fV(()=>n.apply(this,r));if(!e)if(i instanceof oe){let o=Ed();return i.pipe(Jt(o.outsideAngular),$t(o.insideAngular))}else return Bi(()=>i);return i instanceof oe?i.pipe(Um):i instanceof Promise?Bi(()=>new Promise((o,s)=>i.then(a=>Bi(()=>o(a)),a=>Bi(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Bi(()=>i)};var Cr=class{constructor(e){return e}},Jo=class{constructor(){return pu()}};function yV(n){return n&&n.length===1?n[0]:new Cr(fu())}var Bm=new B("angularfire2._apps"),Nb={provide:Cr,useFactory:yV,deps:[[new _t,Bm]]},Ob={provide:Jo,deps:[[new _t,Bm]]};function vV(n){return(e,t)=>{let r=t.get(it);nt("angularfire",jt.full,"core"),nt("angularfire",jt.full,"app"),nt("angular",Oa.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Cr(i)}}var kb=(()=>{class n{constructor(t){nt("angularfire",jt.full,"core"),nt("angularfire",jt.full,"app"),nt("angular",Oa.full,t.toString())}static \u0275fac=function(r){return new(r||n)($(it))};static \u0275mod=st({type:n});static \u0275inj=ot({providers:[Nb,Ob]})}return n})();function $m(n,...e){return Gt([Nb,Ob,{provide:Bm,useFactory:vV(n),multi:!0,deps:[_e,dt,$i,...e]}])}var zm=ht(C0,!0);function Lb(n){return new oe(function(e){var t=gu(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var jb="auth",zi=class{constructor(e){return e}},Hm=class{constructor(){return $a(jb)}};var qm=new B("angularfire2.auth-instances");function dL(n,e){let t=wd(jb,n,e);return t&&new zi(t)}function hL(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new zi(r)}}var fL={provide:Hm,deps:[[new _t,qm]]},pL={provide:zi,useFactory:dL,deps:[[new _t,qm],Cr]};function Ub(n,...e){return nt("angularfire",jt.full,"auth"),Gt([pL,fL,{provide:qm,useFactory:hL(n),multi:!0,deps:[_e,dt,$i,Jo,[new _t,Xr],...e]}])}var Bb=ht(Lb,!0);var $b=ht(Mf,!0);var zb=ht(Of,!0);var Hb=ht(Rf,!0);var qb=ht(Nf,!0);var Gb=ht(Pf,!0);var Wb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kb={};var ei,Gm;(function(){var n;function e(E,y){function w(){}w.prototype=y.prototype,E.D=y.prototype,E.prototype=new w,E.prototype.constructor=E,E.C=function(I,C,b){for(var _=Array(arguments.length-2),er=2;er<arguments.length;er++)_[er-2]=arguments[er];return y.prototype[C].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,w){w||(w=0);var I=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)I[C]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(C=0;16>C;++C)I[C]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=E.g[0],w=E.g[1],C=E.g[2];var b=E.g[3],_=y+(b^w&(C^b))+I[0]+3614090360&4294967295;y=w+(_<<7&4294967295|_>>>25),_=b+(C^y&(w^C))+I[1]+3905402710&4294967295,b=y+(_<<12&4294967295|_>>>20),_=C+(w^b&(y^w))+I[2]+606105819&4294967295,C=b+(_<<17&4294967295|_>>>15),_=w+(y^C&(b^y))+I[3]+3250441966&4294967295,w=C+(_<<22&4294967295|_>>>10),_=y+(b^w&(C^b))+I[4]+4118548399&4294967295,y=w+(_<<7&4294967295|_>>>25),_=b+(C^y&(w^C))+I[5]+1200080426&4294967295,b=y+(_<<12&4294967295|_>>>20),_=C+(w^b&(y^w))+I[6]+2821735955&4294967295,C=b+(_<<17&4294967295|_>>>15),_=w+(y^C&(b^y))+I[7]+4249261313&4294967295,w=C+(_<<22&4294967295|_>>>10),_=y+(b^w&(C^b))+I[8]+1770035416&4294967295,y=w+(_<<7&4294967295|_>>>25),_=b+(C^y&(w^C))+I[9]+2336552879&4294967295,b=y+(_<<12&4294967295|_>>>20),_=C+(w^b&(y^w))+I[10]+4294925233&4294967295,C=b+(_<<17&4294967295|_>>>15),_=w+(y^C&(b^y))+I[11]+2304563134&4294967295,w=C+(_<<22&4294967295|_>>>10),_=y+(b^w&(C^b))+I[12]+1804603682&4294967295,y=w+(_<<7&4294967295|_>>>25),_=b+(C^y&(w^C))+I[13]+4254626195&4294967295,b=y+(_<<12&4294967295|_>>>20),_=C+(w^b&(y^w))+I[14]+2792965006&4294967295,C=b+(_<<17&4294967295|_>>>15),_=w+(y^C&(b^y))+I[15]+1236535329&4294967295,w=C+(_<<22&4294967295|_>>>10),_=y+(C^b&(w^C))+I[1]+4129170786&4294967295,y=w+(_<<5&4294967295|_>>>27),_=b+(w^C&(y^w))+I[6]+3225465664&4294967295,b=y+(_<<9&4294967295|_>>>23),_=C+(y^w&(b^y))+I[11]+643717713&4294967295,C=b+(_<<14&4294967295|_>>>18),_=w+(b^y&(C^b))+I[0]+3921069994&4294967295,w=C+(_<<20&4294967295|_>>>12),_=y+(C^b&(w^C))+I[5]+3593408605&4294967295,y=w+(_<<5&4294967295|_>>>27),_=b+(w^C&(y^w))+I[10]+38016083&4294967295,b=y+(_<<9&4294967295|_>>>23),_=C+(y^w&(b^y))+I[15]+3634488961&4294967295,C=b+(_<<14&4294967295|_>>>18),_=w+(b^y&(C^b))+I[4]+3889429448&4294967295,w=C+(_<<20&4294967295|_>>>12),_=y+(C^b&(w^C))+I[9]+568446438&4294967295,y=w+(_<<5&4294967295|_>>>27),_=b+(w^C&(y^w))+I[14]+3275163606&4294967295,b=y+(_<<9&4294967295|_>>>23),_=C+(y^w&(b^y))+I[3]+4107603335&4294967295,C=b+(_<<14&4294967295|_>>>18),_=w+(b^y&(C^b))+I[8]+1163531501&4294967295,w=C+(_<<20&4294967295|_>>>12),_=y+(C^b&(w^C))+I[13]+2850285829&4294967295,y=w+(_<<5&4294967295|_>>>27),_=b+(w^C&(y^w))+I[2]+4243563512&4294967295,b=y+(_<<9&4294967295|_>>>23),_=C+(y^w&(b^y))+I[7]+1735328473&4294967295,C=b+(_<<14&4294967295|_>>>18),_=w+(b^y&(C^b))+I[12]+2368359562&4294967295,w=C+(_<<20&4294967295|_>>>12),_=y+(w^C^b)+I[5]+4294588738&4294967295,y=w+(_<<4&4294967295|_>>>28),_=b+(y^w^C)+I[8]+2272392833&4294967295,b=y+(_<<11&4294967295|_>>>21),_=C+(b^y^w)+I[11]+1839030562&4294967295,C=b+(_<<16&4294967295|_>>>16),_=w+(C^b^y)+I[14]+4259657740&4294967295,w=C+(_<<23&4294967295|_>>>9),_=y+(w^C^b)+I[1]+2763975236&4294967295,y=w+(_<<4&4294967295|_>>>28),_=b+(y^w^C)+I[4]+1272893353&4294967295,b=y+(_<<11&4294967295|_>>>21),_=C+(b^y^w)+I[7]+4139469664&4294967295,C=b+(_<<16&4294967295|_>>>16),_=w+(C^b^y)+I[10]+3200236656&4294967295,w=C+(_<<23&4294967295|_>>>9),_=y+(w^C^b)+I[13]+681279174&4294967295,y=w+(_<<4&4294967295|_>>>28),_=b+(y^w^C)+I[0]+3936430074&4294967295,b=y+(_<<11&4294967295|_>>>21),_=C+(b^y^w)+I[3]+3572445317&4294967295,C=b+(_<<16&4294967295|_>>>16),_=w+(C^b^y)+I[6]+76029189&4294967295,w=C+(_<<23&4294967295|_>>>9),_=y+(w^C^b)+I[9]+3654602809&4294967295,y=w+(_<<4&4294967295|_>>>28),_=b+(y^w^C)+I[12]+3873151461&4294967295,b=y+(_<<11&4294967295|_>>>21),_=C+(b^y^w)+I[15]+530742520&4294967295,C=b+(_<<16&4294967295|_>>>16),_=w+(C^b^y)+I[2]+3299628645&4294967295,w=C+(_<<23&4294967295|_>>>9),_=y+(C^(w|~b))+I[0]+4096336452&4294967295,y=w+(_<<6&4294967295|_>>>26),_=b+(w^(y|~C))+I[7]+1126891415&4294967295,b=y+(_<<10&4294967295|_>>>22),_=C+(y^(b|~w))+I[14]+2878612391&4294967295,C=b+(_<<15&4294967295|_>>>17),_=w+(b^(C|~y))+I[5]+4237533241&4294967295,w=C+(_<<21&4294967295|_>>>11),_=y+(C^(w|~b))+I[12]+1700485571&4294967295,y=w+(_<<6&4294967295|_>>>26),_=b+(w^(y|~C))+I[3]+2399980690&4294967295,b=y+(_<<10&4294967295|_>>>22),_=C+(y^(b|~w))+I[10]+4293915773&4294967295,C=b+(_<<15&4294967295|_>>>17),_=w+(b^(C|~y))+I[1]+2240044497&4294967295,w=C+(_<<21&4294967295|_>>>11),_=y+(C^(w|~b))+I[8]+1873313359&4294967295,y=w+(_<<6&4294967295|_>>>26),_=b+(w^(y|~C))+I[15]+4264355552&4294967295,b=y+(_<<10&4294967295|_>>>22),_=C+(y^(b|~w))+I[6]+2734768916&4294967295,C=b+(_<<15&4294967295|_>>>17),_=w+(b^(C|~y))+I[13]+1309151649&4294967295,w=C+(_<<21&4294967295|_>>>11),_=y+(C^(w|~b))+I[4]+4149444226&4294967295,y=w+(_<<6&4294967295|_>>>26),_=b+(w^(y|~C))+I[11]+3174756917&4294967295,b=y+(_<<10&4294967295|_>>>22),_=C+(y^(b|~w))+I[2]+718787259&4294967295,C=b+(_<<15&4294967295|_>>>17),_=w+(b^(C|~y))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(C+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var w=y-this.blockSize,I=this.B,C=this.h,b=0;b<y;){if(C==0)for(;b<=w;)i(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<y;)if(I[C++]=E.charCodeAt(b++),C==this.blockSize){i(this,I),C=0;break}}else for(;b<y;)if(I[C++]=E[b++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var w=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=w&255,w/=256;for(this.u(E),E=Array(16),y=w=0;4>y;++y)for(var I=0;32>I;I+=8)E[w++]=this.g[y]>>>I&255;return E};function o(E,y){var w=a;return Object.prototype.hasOwnProperty.call(w,E)?w[E]:w[E]=y(E)}function s(E,y){this.h=y;for(var w=[],I=!0,C=E.length-1;0<=C;C--){var b=E[C]|0;I&&b==y||(w[C]=b,I=!1)}this.g=w}var a={};function u(E){return-128<=E&&128>E?o(E,function(y){return new s([y|0],0>y?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return x(l(-E));for(var y=[],w=1,I=0;E>=w;I++)y[I]=E/w|0,w*=4294967296;return new s(y,0)}function h(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return x(h(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(y,8)),I=p,C=0;C<E.length;C+=8){var b=Math.min(8,E.length-C),_=parseInt(E.substring(C,C+b),y);8>b?(b=l(Math.pow(y,b)),I=I.j(b).add(l(_))):(I=I.j(w),I=I.add(l(_)))}return I}var p=u(0),m=u(1),v=u(16777216);n=s.prototype,n.m=function(){if(P(this))return-x(this).m();for(var E=0,y=1,w=0;w<this.g.length;w++){var I=this.i(w);E+=(0<=I?I:4294967296+I)*y,y*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(P(this))return"-"+x(this).toString(E);for(var y=l(Math.pow(E,6)),w=this,I="";;){var C=J(w,y).g;w=F(w,C.j(y));var b=((0<w.g.length?w.g[0]:w.h)>>>0).toString(E);if(w=C,S(w))return b+I;for(;6>b.length;)b="0"+b;I=b+I}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function P(E){return E.h==-1}n.l=function(E){return E=F(this,E),P(E)?-1:S(E)?0:1};function x(E){for(var y=E.g.length,w=[],I=0;I<y;I++)w[I]=~E.g[I];return new s(w,~E.h).add(m)}n.abs=function(){return P(this)?x(this):this},n.add=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],I=0,C=0;C<=y;C++){var b=I+(this.i(C)&65535)+(E.i(C)&65535),_=(b>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);I=_>>>16,b&=65535,_&=65535,w[C]=_<<16|b}return new s(w,w[w.length-1]&-2147483648?-1:0)};function F(E,y){return E.add(x(y))}n.j=function(E){if(S(this)||S(E))return p;if(P(this))return P(E)?x(this).j(x(E)):x(x(this).j(E));if(P(E))return x(this.j(x(E)));if(0>this.l(v)&&0>E.l(v))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,w=[],I=0;I<2*y;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var C=0;C<E.g.length;C++){var b=this.i(I)>>>16,_=this.i(I)&65535,er=E.i(C)>>>16,Us=E.i(C)&65535;w[2*I+2*C]+=_*Us,G(w,2*I+2*C),w[2*I+2*C+1]+=b*Us,G(w,2*I+2*C+1),w[2*I+2*C+1]+=_*er,G(w,2*I+2*C+1),w[2*I+2*C+2]+=b*er,G(w,2*I+2*C+2)}for(I=0;I<y;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=y;I<2*y;I++)w[I]=0;return new s(w,0)};function G(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function V(E,y){this.g=E,this.h=y}function J(E,y){if(S(y))throw Error("division by zero");if(S(E))return new V(p,p);if(P(E))return y=J(x(E),y),new V(x(y.g),x(y.h));if(P(y))return y=J(E,x(y)),new V(x(y.g),y.h);if(30<E.g.length){if(P(E)||P(y))throw Error("slowDivide_ only works with positive integers.");for(var w=m,I=y;0>=I.l(E);)w=ge(w),I=ge(I);var C=re(w,1),b=re(I,1);for(I=re(I,2),w=re(w,2);!S(I);){var _=b.add(I);0>=_.l(E)&&(C=C.add(w),b=_),I=re(I,1),w=re(w,1)}return y=F(E,C.j(y)),new V(C,y)}for(C=p;0<=E.l(y);){for(w=Math.max(1,Math.floor(E.m()/y.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),b=l(w),_=b.j(y);P(_)||0<_.l(E);)w-=I,b=l(w),_=b.j(y);S(b)&&(b=m),C=C.add(b),E=F(E,_)}return new V(C,E)}n.A=function(E){return J(this,E).h},n.and=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)&E.i(I);return new s(w,this.h&E.h)},n.or=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)|E.i(I);return new s(w,this.h|E.h)},n.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],I=0;I<y;I++)w[I]=this.i(I)^E.i(I);return new s(w,this.h^E.h)};function ge(E){for(var y=E.g.length+1,w=[],I=0;I<y;I++)w[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(w,E.h)}function re(E,y){var w=y>>5;y%=32;for(var I=E.g.length-w,C=[],b=0;b<I;b++)C[b]=0<y?E.i(b+w)>>>y|E.i(b+w+1)<<32-y:E.i(b+w);return new s(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Gm=Kb.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ei=Kb.Integer=s}).apply(typeof Wb<"u"?Wb:typeof self<"u"?self:typeof window<"u"?window:{});var Id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dr={};var Wm,gL,Xo,Km,za,Cd,Qm,Ym,Zm;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Id=="object"&&Id];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var M=f++;return{value:d(M,c[M]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,M){for(var j=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)j[Re-2]=arguments[Re];return d.prototype[D].apply(g,j)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function x(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=c.length||0,M=g.length||0;c.length=D+M;for(let j=0;j<M;j++)c[D+j]=g[j]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(c){return/^[\s\xa0]*$/.test(c)}function V(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function J(c){return J[" "](c),c}J[" "]=function(){};var ge=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function re(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let M=0;M<w.length;M++)f=w[M],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function b(c){a.setTimeout(()=>{throw c},0)}function _(){var c=nf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class er{constructor(){this.h=this.g=null}add(d,f){let g=Us.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Us=new F(()=>new nM,c=>c.reset());class nM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Bs,$s=!1,nf=new er,hw=()=>{let c=a.Promise.resolve(void 0);Bs=()=>{c.then(rM)}};var rM=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){b(f)}var d=Us;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}$s=!1};function Nr(){this.s=this.s,this.C=this.C}Nr.prototype.s=!1,Nr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Nr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var iM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function zs(c,d){if(pt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ge){e:{try{J(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:oM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&zs.aa.h.call(this)}}S(zs,pt);var oM={2:"touch",3:"pen",4:"mouse"};zs.prototype.h=function(){zs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Hs="closure_listenable_"+(1e6*Math.random()|0),sM=0;function aM(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++sM,this.da=this.fa=!1}function Kc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Qc(c){this.src=c,this.g={},this.h=0}Qc.prototype.add=function(c,d,f,g,D){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var j=of(c,d,g,D);return-1<j?(d=c[j],f||(d.fa=!1)):(d=new aM(d,this.src,M,!!g,D),d.fa=f,c.push(d)),d};function rf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),M;(M=0<=D)&&Array.prototype.splice.call(g,D,1),M&&(Kc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function of(c,d,f,g){for(var D=0;D<c.length;++D){var M=c[D];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==g)return D}return-1}var sf="closure_lm_"+(1e6*Math.random()|0),af={};function fw(c,d,f,g,D){if(g&&g.once)return gw(c,d,f,g,D);if(Array.isArray(d)){for(var M=0;M<d.length;M++)fw(c,d[M],f,g,D);return null}return f=df(f),c&&c[Hs]?c.K(d,f,l(g)?!!g.capture:!!g,D):pw(c,d,f,!1,g,D)}function pw(c,d,f,g,D,M){if(!d)throw Error("Invalid event type");var j=l(D)?!!D.capture:!!D,Re=uf(c);if(Re||(c[sf]=Re=new Qc(c)),f=Re.add(d,f,g,j,M),f.proxy)return f;if(g=cM(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)iM||(D=j),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(yw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function cM(){function c(f){return d.call(c.src,c.listener,f)}let d=uM;return c}function gw(c,d,f,g,D){if(Array.isArray(d)){for(var M=0;M<d.length;M++)gw(c,d[M],f,g,D);return null}return f=df(f),c&&c[Hs]?c.L(d,f,l(g)?!!g.capture:!!g,D):pw(c,d,f,!0,g,D)}function mw(c,d,f,g,D){if(Array.isArray(d))for(var M=0;M<d.length;M++)mw(c,d[M],f,g,D);else g=l(g)?!!g.capture:!!g,f=df(f),c&&c[Hs]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],f=of(M,f,g,D),-1<f&&(Kc(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=uf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=of(d,f,g,D)),(f=-1<c?d[c]:null)&&cf(f))}function cf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Hs])rf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(yw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=uf(d))?(rf(f,c),f.h==0&&(f.src=null,d[sf]=null)):Kc(c)}}}function yw(c){return c in af?af[c]:af[c]="on"+c}function uM(c,d){if(c.da)c=!0;else{d=new zs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&cf(c),c=f.call(g,d)}return c}function uf(c){return c=c[sf],c instanceof Qc?c:null}var lf="__closure_events_fn_"+(1e9*Math.random()>>>0);function df(c){return typeof c=="function"?c:(c[lf]||(c[lf]=function(d){return c.handleEvent(d)}),c[lf])}function gt(){Nr.call(this),this.i=new Qc(this),this.M=this,this.F=null}S(gt,Nr),gt.prototype[Hs]=!0,gt.prototype.removeEventListener=function(c,d,f,g){mw(this,c,d,f,g)};function St(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new pt(d,c);else if(d instanceof pt)d.target=d.target||c;else{var D=d;d=new pt(g,c),I(d,D)}if(D=!0,f)for(var M=f.length-1;0<=M;M--){var j=d.g=f[M];D=Yc(j,g,!0,d)&&D}if(j=d.g=c,D=Yc(j,g,!0,d)&&D,D=Yc(j,g,!1,d)&&D,f)for(M=0;M<f.length;M++)j=d.g=f[M],D=Yc(j,g,!1,d)&&D}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Kc(f[g]);delete c.g[d],c.h--}}this.F=null},gt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},gt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Yc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,M=0;M<d.length;++M){var j=d[M];if(j&&!j.da&&j.capture==f){var Re=j.listener,ct=j.ha||j.src;j.fa&&rf(c.i,j),D=Re.call(ct,g)!==!1&&D}}return D&&!g.defaultPrevented}function vw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function _w(c){c.g=vw(()=>{c.g=null,c.i&&(c.i=!1,_w(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class lM extends Nr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:_w(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qs(c){Nr.call(this),this.h=c,this.g={}}S(qs,Nr);var ww=[];function Ew(c){re(c.g,function(d,f){this.g.hasOwnProperty(f)&&cf(d)},c),c.g={}}qs.prototype.N=function(){qs.aa.N.call(this),Ew(this)},qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hf=a.JSON.stringify,dM=a.JSON.parse,hM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ff(){}ff.prototype.h=null;function Iw(c){return c.h||(c.h=c.i())}function Cw(){}var Gs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pf(){pt.call(this,"d")}S(pf,pt);function gf(){pt.call(this,"c")}S(gf,pt);var pi={},Dw=null;function Zc(){return Dw=Dw||new gt}pi.La="serverreachability";function bw(c){pt.call(this,pi.La,c)}S(bw,pt);function Ws(c){let d=Zc();St(d,new bw(d))}pi.STAT_EVENT="statevent";function Tw(c,d){pt.call(this,pi.STAT_EVENT,c),this.stat=d}S(Tw,pt);function At(c){let d=Zc();St(d,new Tw(d,c))}pi.Ma="timingevent";function Sw(c,d){pt.call(this,pi.Ma,c),this.size=d}S(Sw,pt);function Ks(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Qs(){this.g=!0}Qs.prototype.xa=function(){this.g=!1};function fM(c,d,f,g,D,M){c.info(function(){if(c.g)if(M)for(var j="",Re=M.split("&"),ct=0;ct<Re.length;ct++){var De=Re[ct].split("=");if(1<De.length){var mt=De[0];De=De[1];var yt=mt.split("_");j=2<=yt.length&&yt[1]=="type"?j+(mt+"="+De+"&"):j+(mt+"=redacted&")}}else j=null;else j=M;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+j})}function pM(c,d,f,g,D,M,j){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+M+" "+j})}function ao(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+mM(c,f)+(g?" "+g:"")})}function gM(c,d){c.info(function(){return"TIMEOUT: "+d})}Qs.prototype.info=function(){};function mM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var M=D[0];if(M!="noop"&&M!="stop"&&M!="close")for(var j=1;j<D.length;j++)D[j]=""}}}}return hf(f)}catch{return d}}var Jc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Aw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mf;function Xc(){}S(Xc,ff),Xc.prototype.g=function(){return new XMLHttpRequest},Xc.prototype.i=function(){return{}},mf=new Xc;function Or(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new qs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xw}function xw(){this.i=null,this.g="",this.h=!1}var Mw={},yf={};function vf(c,d,f){c.L=1,c.v=ru(tr(d)),c.m=f,c.P=!0,Rw(c,null)}function Rw(c,d){c.F=Date.now(),eu(c),c.A=tr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),qw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new xw,c.g=u0(c.j,f?d:null,!c.m),0<c.O&&(c.M=new lM(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(ww[0]=D.toString()),D=ww);for(var M=0;M<D.length;M++){var j=fw(f,D[M],g||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ws(),fM(c.i,c.u,c.A,c.l,c.R,c.m)}Or.prototype.ca=function(c){c=c.target;let d=this.M;d&&nr(c)==3?d.j():this.Y(c)},Or.prototype.Y=function(c){try{if(c==this.g)e:{let yt=nr(this.g);var d=this.g.Ba();let lo=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||Jw(this.g)))){this.J||yt!=4||d==7||(d==8||0>=lo?Ws(3):Ws(2)),_f(this);var f=this.g.Z();this.X=f;t:if(Pw(this)){var g=Jw(this.g);c="";var D=g.length,M=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),Ys(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(M&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,pM(this.i,this.u,this.A,this.l,this.R,yt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,ct=this.g;if((Re=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Re)){var De=Re;break t}}De=null}if(f=De)ao(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wf(this,f);else{this.o=!1,this.s=3,At(12),gi(this),Ys(this);break e}}if(this.P){f=!0;let hn;for(;!this.J&&this.C<j.length;)if(hn=yM(this,j),hn==yf){yt==4&&(this.s=4,At(14),f=!1),ao(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Mw){this.s=4,At(15),ao(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else ao(this.i,this.l,hn,null),wf(this,hn);if(Pw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||j.length!=0||this.h.h||(this.s=1,At(16),f=!1),this.o=this.o&&f,!f)ao(this.i,this.l,j,"[Invalid Chunked Response]"),gi(this),Ys(this);else if(0<j.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Tf(mt),mt.M=!0,At(11))}}else ao(this.i,this.l,j,null),wf(this,j);yt==4&&gi(this),this.o&&!this.J&&(yt==4?o0(this.j,this):(this.o=!1,eu(this)))}else OM(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),gi(this),Ys(this)}}}catch{}finally{}};function Pw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function yM(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?yf:(f=Number(d.substring(f,g)),isNaN(f)?Mw:(g+=1,g+f>d.length?yf:(d=d.slice(g,g+f),c.C=g+f,d)))}Or.prototype.cancel=function(){this.J=!0,gi(this)};function eu(c){c.S=Date.now()+c.I,Nw(c,c.I)}function Nw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ks(m(c.ba,c),d)}function _f(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Or.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(gM(this.i,this.A),this.L!=2&&(Ws(),At(17)),gi(this),this.s=2,Ys(this)):Nw(this,this.S-c)};function Ys(c){c.j.G==0||c.J||o0(c.j,c)}function gi(c){_f(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Ew(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function wf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Ef(f.h,c))){if(!c.K&&Ef(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)cu(f),su(f);else break e;bf(f),At(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ks(m(f.Za,f),6e3));if(1>=Fw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else yi(f,11)}else if((c.K||f.g==c)&&cu(f),!G(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let De=D[d];if(f.T=De[0],De=De[1],f.G==2)if(De[0]=="c"){f.K=De[1],f.ia=De[2];let mt=De[3];mt!=null&&(f.la=mt,f.j.info("VER="+f.la));let yt=De[4];yt!=null&&(f.Aa=yt,f.j.info("SVER="+f.Aa));let lo=De[5];lo!=null&&typeof lo=="number"&&0<lo&&(g=1.5*lo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let hn=c.g;if(hn){let lu=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lu){var M=g.h;M.g||lu.indexOf("spdy")==-1&&lu.indexOf("quic")==-1&&lu.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(If(M,M.h),M.h=null))}if(g.D){let Sf=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sf&&(g.ya=Sf,Ve(g.I,g.D,Sf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var j=c;if(g.qa=c0(g,g.J?g.ia:null,g.W),j.K){Vw(g.h,j);var Re=j,ct=g.L;ct&&(Re.I=ct),Re.B&&(_f(Re),eu(Re)),g.g=j}else r0(g);0<f.i.length&&au(f)}else De[0]!="stop"&&De[0]!="close"||yi(f,7);else f.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?yi(f,7):Df(f):De[0]!="noop"&&f.l&&f.l.ta(De),f.v=0)}}Ws(4)}catch{}}var vM=class{constructor(c,d){this.g=c,this.map=d}};function Ow(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Fw(c){return c.h?1:c.g?c.g.size:0}function Ef(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function If(c,d){c.g?c.g.add(d):c.h=d}function Vw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Ow.prototype.cancel=function(){if(this.i=Lw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Lw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function _M(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function wM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function jw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=wM(c),g=_M(c),D=g.length,M=0;M<D;M++)d.call(void 0,g[M],f&&f[M],c)}var Uw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var M=c[f].substring(0,g);D=c[f].substring(g+1)}else M=c[f];d(M,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function mi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof mi){this.h=c.h,tu(this,c.j),this.o=c.o,this.g=c.g,nu(this,c.s),this.l=c.l;var d=c.i,f=new Xs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Bw(this,f),this.m=c.m}else c&&(d=String(c).match(Uw))?(this.h=!1,tu(this,d[1]||"",!0),this.o=Zs(d[2]||""),this.g=Zs(d[3]||"",!0),nu(this,d[4]),this.l=Zs(d[5]||"",!0),Bw(this,d[6]||"",!0),this.m=Zs(d[7]||"")):(this.h=!1,this.i=new Xs(null,this.h))}mi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Js(d,$w,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Js(d,$w,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Js(f,f.charAt(0)=="/"?DM:CM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Js(f,TM)),c.join("")};function tr(c){return new mi(c)}function tu(c,d,f){c.j=f?Zs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function nu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Bw(c,d,f){d instanceof Xs?(c.i=d,SM(c.i,c.h)):(f||(d=Js(d,bM)),c.i=new Xs(d,c.h))}function Ve(c,d,f){c.i.set(d,f)}function ru(c){return Ve(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Zs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Js(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,IM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function IM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $w=/[#\/\?@]/g,CM=/[#\?:]/g,DM=/[#\?]/g,bM=/[#\?@]/g,TM=/#/g;function Xs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function kr(c){c.g||(c.g=new Map,c.h=0,c.i&&EM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Xs.prototype,n.add=function(c,d){kr(this),this.i=null,c=co(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function zw(c,d){kr(c),d=co(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Hw(c,d){return kr(c),d=co(c,d),c.g.has(d)}n.forEach=function(c,d){kr(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)},n.na=function(){kr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=c[g];for(let M=0;M<D.length;M++)f.push(d[g])}return f},n.V=function(c){kr(this);let d=[];if(typeof c=="string")Hw(this,c)&&(d=d.concat(this.g.get(co(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return kr(this),this.i=null,c=co(this,c),Hw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function qw(c,d,f){zw(c,d),0<f.length&&(c.i=null,c.g.set(co(c,d),P(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let M=encodeURIComponent(String(g)),j=this.V(g);for(g=0;g<j.length;g++){var D=M;j[g]!==""&&(D+="="+encodeURIComponent(String(j[g]))),c.push(D)}}return this.i=c.join("&")};function co(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function SM(c,d){d&&!c.j&&(kr(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(zw(this,g),qw(this,D,f))},c)),c.j=d}function AM(c,d){let f=new Qs;if(a.Image){let g=new Image;g.onload=v(Fr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(Fr,f,"TestLoadImage: error",!1,d,g),g.onabort=v(Fr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(Fr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function xM(c,d){let f=new Qs,g=new AbortController,D=setTimeout(()=>{g.abort(),Fr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(M=>{clearTimeout(D),M.ok?Fr(f,"TestPingServer: ok",!0,d):Fr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Fr(f,"TestPingServer: error",!1,d)})}function Fr(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function MM(){this.g=new hM}function RM(c,d,f){let g=f||"";try{jw(c,function(D,M){let j=D;l(D)&&(j=hf(D)),d.push(g+M+"="+encodeURIComponent(j))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function ea(c){this.l=c.Ub||null,this.j=c.eb||!1}S(ea,ff),ea.prototype.g=function(){return new iu(this.l,this.j)},ea.prototype.i=function(c){return function(){return c}}({});function iu(c,d){gt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(iu,gt),n=iu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,na(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,na(this)),this.g&&(this.readyState=3,na(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ta(this):na(this),this.readyState==3&&Gw(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ta(this))},n.Qa=function(c){this.g&&(this.response=c,ta(this))},n.ga=function(){this.g&&ta(this)};function ta(c){c.readyState=4,c.l=null,c.j=null,c.v=null,na(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function na(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ww(c){let d="";return re(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Cf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Ww(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ve(c,d,f))}function We(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(We,gt);var PM=/^https?$/i,NM=["POST","PUT"];n=We.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mf.g(),this.v=this.o?Iw(this.o):Iw(mf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){Kw(this,M);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let M of g.keys())f.set(M,g.get(M));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(NM,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,j]of f)this.g.setRequestHeader(M,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zw(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){Kw(this,M)}};function Kw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Qw(c),ou(c)}function Qw(c){c.A||(c.A=!0,St(c,"complete"),St(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,St(this,"complete"),St(this,"abort"),ou(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ou(this,!0)),We.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Yw(this):this.bb())},n.bb=function(){Yw(this)};function Yw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||nr(c)!=4||c.Z()!=2)){if(c.u&&nr(c)==4)vw(c.Ea,0,c);else if(St(c,"readystatechange"),nr(c)==4){c.h=!1;try{let j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=j===0){var D=String(c.D).match(Uw)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!PM.test(D?D.toLowerCase():"")}f=g}if(f)St(c,"complete"),St(c,"success");else{c.m=6;try{var M=2<nr(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",Qw(c)}}finally{ou(c)}}}}function ou(c,d){if(c.g){Zw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||St(c,"ready");try{f.onreadystatechange=g}catch{}}}function Zw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function nr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),dM(d)}};function Jw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function OM(c){let d={};c=(c.g&&2<=nr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(G(c[g]))continue;var f=C(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[D]||[];d[D]=M,M.push(f)}E(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Xw(c){this.Aa=0,this.i=[],this.j=new Qs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ra("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ra("baseRetryDelayMs",5e3,c),this.cb=ra("retryDelaySeedMs",1e4,c),this.Wa=ra("forwardChannelMaxRetries",2,c),this.wa=ra("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ow(c&&c.concurrentRequestLimit),this.Da=new MM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Xw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){At(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=c0(this,null,this.W),au(this)};function Df(c){if(e0(c),c.G==3){var d=c.U++,f=tr(c.I);if(Ve(f,"SID",c.K),Ve(f,"RID",d),Ve(f,"TYPE","terminate"),ia(c,f),d=new Or(c,c.j,d),d.L=2,d.v=ru(tr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=u0(d.j,null),d.g.ea(d.v)),d.F=Date.now(),eu(d)}a0(c)}function su(c){c.g&&(Tf(c),c.g.cancel(),c.g=null)}function e0(c){su(c),c.u&&(a.clearTimeout(c.u),c.u=null),cu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function au(c){if(!kw(c.h)&&!c.s){c.s=!0;var d=c.Ga;Bs||hw(),$s||(Bs(),$s=!0),nf.add(d,c),c.B=0}}function kM(c,d){return Fw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ks(m(c.Ga,c,d),s0(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new Or(this,this.j,c),M=this.o;if(this.S&&(M?(M=y(M),I(M,this.S)):M=this.S),this.m!==null||this.O||(D.H=M,M=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=n0(this,D,d),f=tr(this.I),Ve(f,"RID",c),Ve(f,"CVER",22),this.D&&Ve(f,"X-HTTP-Session-Id",this.D),ia(this,f),M&&(this.O?d="headers="+encodeURIComponent(String(Ww(M)))+"&"+d:this.m&&Cf(f,this.m,M)),If(this.h,D),this.Ua&&Ve(f,"TYPE","init"),this.P?(Ve(f,"$req",d),Ve(f,"SID","null"),D.T=!0,vf(D,f,null)):vf(D,f,d),this.G=2}}else this.G==3&&(c?t0(this,c):this.i.length==0||kw(this.h)||t0(this))};function t0(c,d){var f;d?f=d.l:f=c.U++;let g=tr(c.I);Ve(g,"SID",c.K),Ve(g,"RID",f),Ve(g,"AID",c.T),ia(c,g),c.m&&c.o&&Cf(g,c.m,c.o),f=new Or(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=n0(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),If(c.h,f),vf(f,g,d)}function ia(c,d){c.H&&re(c.H,function(f,g){Ve(d,g,f)}),c.l&&jw({},function(f,g){Ve(d,g,f)})}function n0(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let M=-1;for(;;){let j=["count="+f];M==-1?0<f?(M=D[0].g,j.push("ofs="+M)):M=0:j.push("ofs="+M);let Re=!0;for(let ct=0;ct<f;ct++){let De=D[ct].g,mt=D[ct].map;if(De-=M,0>De)M=Math.max(0,D[ct].g-100),Re=!1;else try{RM(mt,j,"req"+De+"_")}catch{g&&g(mt)}}if(Re){g=j.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function r0(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Bs||hw(),$s||(Bs(),$s=!0),nf.add(d,c),c.v=0}}function bf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ks(m(c.Fa,c),s0(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,i0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ks(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),su(this),i0(this))};function Tf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function i0(c){c.g=new Or(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=tr(c.qa);Ve(d,"RID","rpc"),Ve(d,"SID",c.K),Ve(d,"AID",c.T),Ve(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ve(d,"TO",c.ja),Ve(d,"TYPE","xmlhttp"),ia(c,d),c.m&&c.o&&Cf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ru(tr(d)),f.m=null,f.P=!0,Rw(f,c)}n.Za=function(){this.C!=null&&(this.C=null,su(this),bf(this),At(19))};function cu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function o0(c,d){var f=null;if(c.g==d){cu(c),Tf(c),c.g=null;var g=2}else if(Ef(c.h,d))f=d.D,Vw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=Zc(),St(g,new Sw(g,f)),au(c)}else r0(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&kM(c,d)||g==2&&bf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:yi(c,5);break;case 4:yi(c,10);break;case 3:yi(c,6);break;default:yi(c,2)}}}function s0(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function yi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let D=!g;g=new mi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||tu(g,"https"),ru(g),D?AM(g.toString(),f):xM(g.toString(),f)}else At(2);c.G=0,c.l&&c.l.sa(d),a0(c),e0(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function a0(c){if(c.G=0,c.ka=[],c.l){let d=Lw(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ka,d),x(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function c0(c,d,f){var g=f instanceof mi?tr(f):new mi(f);if(g.g!="")d&&(g.g=d+"."+g.g),nu(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var M=new mi(null);g&&tu(M,g),d&&(M.g=d),D&&nu(M,D),f&&(M.l=f),g=M}return f=c.D,d=c.ya,f&&d&&Ve(g,f,d),Ve(g,"VER",c.la),ia(c,g),g}function u0(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new We(new ea({eb:f})):new We(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function l0(){}n=l0.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function uu(){}uu.prototype.g=function(c,d){return new Ut(c,d)};function Ut(c,d){gt.call(this),this.g=new Xw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!G(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new uo(this)}S(Ut,gt),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){Df(this.g)},Ut.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=hf(c),c=f);d.i.push(new vM(d.Ya++,c)),d.G==3&&au(d)},Ut.prototype.N=function(){this.g.l=null,delete this.j,Df(this.g),delete this.g,Ut.aa.N.call(this)};function d0(c){pf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(d0,pf);function h0(){gf.call(this),this.status=1}S(h0,gf);function uo(c){this.g=c}S(uo,l0),uo.prototype.ua=function(){St(this.g,"a")},uo.prototype.ta=function(c){St(this.g,new d0(c))},uo.prototype.sa=function(c){St(this.g,new h0)},uo.prototype.ra=function(){St(this.g,"b")},uu.prototype.createWebChannel=uu.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,Zm=Dr.createWebChannelTransport=function(){return new uu},Ym=Dr.getStatEventTarget=function(){return Zc()},Qm=Dr.Event=pi,Cd=Dr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jc.NO_ERROR=0,Jc.TIMEOUT=8,Jc.HTTP_ERROR=6,za=Dr.ErrorCode=Jc,Aw.COMPLETE="complete",Km=Dr.EventType=Aw,Cw.EventType=Gs,Gs.OPEN="a",Gs.CLOSE="b",Gs.ERROR="c",Gs.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Xo=Dr.WebChannel=Cw,gL=Dr.FetchXmlHttpFactory=ea,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,Wm=Dr.XhrIo=We}).apply(typeof Id<"u"?Id:typeof self<"u"?self:typeof window<"u"?window:{});var Qb="@firebase/firestore";var Dt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");var ys="10.14.0";var Wi=new hu("@firebase/firestore");function Ha(){return Wi.logLevel}function K(n,...e){if(Wi.logLevel<=ir.DEBUG){let t=e.map(kv);Wi.debug(`Firestore (${ys}): ${n}`,...t)}}function Tr(n,...e){if(Wi.logLevel<=ir.ERROR){let t=e.map(kv);Wi.error(`Firestore (${ys}): ${n}`,...t)}}function Za(n,...e){if(Wi.logLevel<=ir.WARN){let t=e.map(kv);Wi.warn(`Firestore (${ys}): ${n}`,...t)}}function kv(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function te(n="Unexpected state"){let e=`FIRESTORE (${ys}) INTERNAL ASSERTION FAILED: `+n;throw Tr(e),new Error(e)}function xe(n,e){n||te()}function ae(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=class extends w0{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var br=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ny=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ry=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Dt.UNAUTHENTICATED))}shutdown(){}};var iy=class{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new br;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new br,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>L(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new br)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new ny(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new Dt(e)}},oy=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},sy=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new oy(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ay=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},cy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){xe(this.o===void 0);let r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xe(typeof t.token=="string"),this.R=t.token,new ay(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function yL(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Ad=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=yL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function be(n,e){return n<e?-1:n>e?1:0}function ss(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var ft=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new W(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new W(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new W(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ce=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new ft(0,0))}static max(){return new n(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var xd=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&te(),r===void 0?r=e.length-t:r>e.length-t&&te(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ge=class n extends xd{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new W(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},vL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kt=class n extends xd{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return vL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new W(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new W(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var X=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ge.fromString(e))}static fromName(e){return new n(Ge.fromString(e).popFirst(5))}static empty(){return new n(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ge(e.slice()))}};var uy=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};uy.UNKNOWN_ID=-1;function _L(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new ft(t+1,0):new ft(t,r));return new Ki(i,X.empty(),e)}function wL(n){return new Ki(n.readTime,n.key,-1)}var Ki=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ce.min(),X.empty(),-1)}static max(){return new n(ce.max(),X.empty(),-1)}};function EL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=X.comparator(n.documentKey,e.documentKey),t!==0?t:be(n.largestBatchId,e.largestBatchId))}var IL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ly=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function hc(n){return L(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==IL)throw n;K("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function CL(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fc(n){return n.name==="IndexedDbTransactionError"}var RT=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function rh(n){return n==null}function Ja(n){return n===0&&1/n==-1/0}function DL(n){return typeof n=="number"&&Number.isInteger(n)&&!Ja(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var bL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],P6=[...bL,"documentOverlays"],TL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],SL=TL,AL=[...SL,"indexConfiguration","indexState","indexEntries"];var N6=[...AL,"globals"];function Yb(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function PT(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Qe=class n{constructor(e,t){this.comparator=e,this.root=t||Gn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rs(this.root,e,this.comparator,!1)}getReverseIterator(){return new rs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rs(this.root,e,this.comparator,!0)}},rs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Gn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();let e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}};Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var bt=class n{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Md(this.data.getIterator())}getIteratorFrom(e){return new Md(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Md=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var qn=class n{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new n([])}unionWith(e){let t=new bt(Kt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ss(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Rd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Tt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Rd("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tt.EMPTY_BYTE_STRING=new Tt("");var xL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(n){if(xe(!!n),typeof n=="string"){let e=0,t=xL.exec(n);if(xe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(n.seconds),nanos:ze(n.nanos)}}function ze(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ri(n){return typeof n=="string"?Tt.fromBase64String(n):Tt.fromUint8Array(n)}function Fv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Vv(n){let e=n.mapValue.fields.__previous_value__;return Fv(e)?Vv(e):e}function Xa(n){let e=Sr(n.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}var dy=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Pd=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Dd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Fv(n)?4:OT(n)?9007199254740991:NT(n)?10:11:te()}function Qn(n,e){if(n===e)return!0;let t=Qi(n);if(t!==Qi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xa(n).isEqual(Xa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Sr(i.timestampValue),a=Sr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return ri(i.bytesValue).isEqual(ri(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ze(i.geoPointValue.latitude)===ze(o.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ze(i.integerValue)===ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ze(i.doubleValue),a=ze(o.doubleValue);return s===a?Ja(s)===Ja(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ss(n.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Yb(s)!==Yb(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Qn(s[u],a[u])))return!1;return!0}(n,e);default:return te()}}function ec(n,e){return(n.values||[]).find(t=>Qn(t,e))!==void 0}function as(n,e){if(n===e)return 0;let t=Qi(n),r=Qi(e);if(t!==r)return be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ze(o.integerValue||o.doubleValue),u=ze(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return Zb(n.timestampValue,e.timestampValue);case 4:return Zb(Xa(n),Xa(e));case 5:return be(n.stringValue,e.stringValue);case 6:return function(o,s){let a=ri(o),u=ri(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=be(a[l],u[l]);if(h!==0)return h}return be(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=be(ze(o.latitude),ze(s.latitude));return a!==0?a:be(ze(o.longitude),ze(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Jb(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,P=be(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:Jb(v,S)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Dd.mapValue&&s===Dd.mapValue)return 0;if(o===Dd.mapValue)return 1;if(s===Dd.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=be(u[p],h[p]);if(m!==0)return m;let v=as(a[u[p]],l[h[p]]);if(v!==0)return v}return be(u.length,h.length)}(n.mapValue,e.mapValue);default:throw te()}}function Zb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return be(n,e);let t=Sr(n),r=Sr(e),i=be(t.seconds,r.seconds);return i!==0?i:be(t.nanos,r.nanos)}function Jb(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=as(t[i],r[i]);if(o)return o}return be(t.length,r.length)}function cs(n){return hy(n)}function hy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Sr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ri(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return X.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=hy(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${hy(t.fields[s])}`;return i+"}"}(n.mapValue):te()}function Xb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fy(n){return!!n&&"integerValue"in n}function Lv(n){return!!n&&"arrayValue"in n}function eT(n){return!!n&&"nullValue"in n}function tT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Td(n){return!!n&&"mapValue"in n}function NT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ga(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return vs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ga(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ga(n.arrayValue.values[t]);return e}return Object.assign({},n)}function OT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Cn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Td(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ga(t)}setAll(e){let t=Kt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Ga(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Td(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Td(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){vs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Ga(this.value))}};function kT(n){let e=[];return vs(n.fields,(t,r)=>{let i=new Kt([t]);if(Td(r)){let o=kT(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new qn(e)}var Dn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ce.min(),ce.min(),ce.min(),Cn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ce.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ce.min(),ce.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ce.min(),ce.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var us=class{constructor(e,t){this.position=e,this.inclusive=t}};function nT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=X.comparator(X.fromName(s.referenceValue),t.key):r=as(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function rT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qn(n.position[t],e.position[t]))return!1;return!0}var ls=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function ML(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Nd=class{},tt=class n extends Nd{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new gy(e,t,r):t==="array-contains"?new vy(e,r):t==="in"?new _y(e,r):t==="not-in"?new wy(e,r):t==="array-contains-any"?new Ey(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new my(e,r):new yy(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(as(t,this.value)):t!==null&&Qi(this.value)===Qi(t)&&this.matchesComparison(as(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},bn=class n extends Nd{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return FT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function FT(n){return n.op==="and"}function VT(n){return RL(n)&&FT(n)}function RL(n){for(let e of n.filters)if(e instanceof bn)return!1;return!0}function py(n){if(n instanceof tt)return n.field.canonicalString()+n.op.toString()+cs(n.value);if(VT(n))return n.filters.map(e=>py(e)).join(",");{let e=n.filters.map(t=>py(t)).join(",");return`${n.op}(${e})`}}function LT(n,e){return n instanceof tt?function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&Qn(r.value,i.value)}(n,e):n instanceof bn?function(r,i){return i instanceof bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&LT(s,i.filters[a]),!0):!1}(n,e):void te()}function jT(n){return n instanceof tt?function(t){return`${t.field.canonicalString()} ${t.op} ${cs(t.value)}`}(n):n instanceof bn?function(t){return t.op.toString()+" {"+t.getFilters().map(jT).join(" ,")+"}"}(n):"Filter"}var gy=class extends tt{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){let t=X.comparator(e.key,this.key);return this.matchesComparison(t)}},my=class extends tt{constructor(e,t){super(e,"in",t),this.keys=UT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},yy=class extends tt{constructor(e,t){super(e,"not-in",t),this.keys=UT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function UT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>X.fromName(r.referenceValue))}var vy=class extends tt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Lv(t)&&ec(t.arrayValue,this.value)}},_y=class extends tt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&ec(this.value.arrayValue,t)}},wy=class extends tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!ec(this.value.arrayValue,t)}},Ey=class extends tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Lv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ec(this.value.arrayValue,r))}};var Iy=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function iT(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Iy(n,e,t,r,i,o,s)}function jv(n){let e=ae(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>py(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),rh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cs(r)).join(",")),e.ue=t}return e.ue}function Uv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ML(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!LT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rT(n.startAt,e.startAt)&&rT(n.endAt,e.endAt)}function Cy(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Yi=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function PL(n,e,t,r,i,o,s,a){return new Yi(n,e,t,r,i,o,s,a)}function Bv(n){return new Yi(n)}function oT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function BT(n){return n.collectionGroup!==null}function Wa(n){let e=ae(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new bt(Kt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ls(o,r))}),t.has(Kt.keyField().canonicalString())||e.ce.push(new ls(Kt.keyField(),r))}return e.ce}function Wn(n){let e=ae(n);return e.le||(e.le=NL(e,Wa(n))),e.le}function NL(n,e){if(n.limitType==="F")return iT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ls(i.field,o)});let t=n.endAt?new us(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new us(n.startAt.position,n.startAt.inclusive):null;return iT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Dy(n,e){let t=n.filters.concat([e]);return new Yi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function by(n,e,t){return new Yi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ih(n,e){return Uv(Wn(n),Wn(e))&&n.limitType===e.limitType}function $T(n){return`${jv(Wn(n))}|lt:${n.limitType}`}function es(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>jT(i)).join(", ")}]`),rh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>cs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>cs(i)).join(",")),`Target(${r})`}(Wn(n))}; limitType=${n.limitType})`}function oh(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):X.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Wa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=nT(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Wa(r),i)||r.endAt&&!function(s,a,u){let l=nT(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Wa(r),i))}(n,e)}function OL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zT(n){return(e,t)=>{let r=!1;for(let i of Wa(n)){let o=kL(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function kL(n,e,t){let r=n.field.isKeyField()?X.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?as(u,l):te()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}var ii=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return PT(this.inner)}size(){return this.innerSize}};var FL=new Qe(X.comparator);function Ar(){return FL}var HT=new Qe(X.comparator);function qa(...n){let e=HT;for(let t of n)e=e.insert(t.key,t);return e}function qT(n){let e=HT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Hi(){return Ka()}function GT(){return Ka()}function Ka(){return new ii(n=>n.toString(),(n,e)=>n.isEqual(e))}var VL=new Qe(X.comparator),LL=new bt(X.comparator);function ye(...n){let e=LL;for(let t of n)e=e.add(t);return e}var jL=new bt(be);function UL(){return jL}function $v(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ja(e)?"-0":e}}function WT(n){return{integerValue:""+n}}function BL(n,e){return DL(e)?WT(e):$v(n,e)}var ds=class{constructor(){this._=void 0}};function $L(n,e,t){return n instanceof hs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Fv(o)&&(o=Vv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Zi?QT(n,e):n instanceof Ji?YT(n,e):function(i,o){let s=KT(i,o),a=sT(s)+sT(i.Pe);return fy(s)&&fy(i.Pe)?WT(a):$v(i.serializer,a)}(n,e)}function zL(n,e,t){return n instanceof Zi?QT(n,e):n instanceof Ji?YT(n,e):t}function KT(n,e){return n instanceof fs?function(r){return fy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var hs=class extends ds{},Zi=class extends ds{constructor(e){super(),this.elements=e}};function QT(n,e){let t=ZT(e);for(let r of n.elements)t.some(i=>Qn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ji=class extends ds{constructor(e){super(),this.elements=e}};function YT(n,e){let t=ZT(e);for(let r of n.elements)t=t.filter(i=>!Qn(i,r));return{arrayValue:{values:t}}}var fs=class extends ds{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function sT(n){return ze(n.integerValue||n.doubleValue)}function ZT(n){return Lv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function HL(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Zi&&i instanceof Zi||r instanceof Ji&&i instanceof Ji?ss(r.elements,i.elements,Qn):r instanceof fs&&i instanceof fs?Qn(r.Pe,i.Pe):r instanceof hs&&i instanceof hs}(n.transform,e.transform)}var Ty=class{constructor(e,t){this.version=e,this.transformResults=t}},ti=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Sd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ps=class{};function JT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new tc(n.key,ti.none()):new Xi(n.key,n.data,ti.none());{let t=n.data,r=Cn.empty(),i=new bt(Kt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new xr(n.key,r,new qn(i.toArray()),ti.none())}}function qL(n,e,t){n instanceof Xi?function(i,o,s){let a=i.value.clone(),u=cT(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof xr?function(i,o,s){if(!Sd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=cT(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(XT(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Qa(n,e,t,r){return n instanceof Xi?function(o,s,a,u){if(!Sd(o.precondition,s))return a;let l=o.value.clone(),h=uT(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof xr?function(o,s,a,u){if(!Sd(o.precondition,s))return a;let l=uT(o.fieldTransforms,u,s),h=s.data;return h.setAll(XT(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Sd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function GL(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=KT(r.transform,i||null);o!=null&&(t===null&&(t=Cn.empty()),t.set(r.field,o))}return t||null}function aT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ss(r,i,(o,s)=>HL(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Xi=class extends ps{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},xr=class extends ps{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function XT(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function cT(n,e,t){let r=new Map;xe(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,zL(s,a,t[i]))}return r}function uT(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,$L(o,s,e))}return r}var tc=class extends ps{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Sy=class extends ps{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ay=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&qL(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Qa(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Qa(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=GT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=JT(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ye())}isEqual(e){return this.batchId===e.batchId&&ss(this.mutations,e.mutations,(t,r)=>aT(t,r))&&ss(this.baseMutations,e.baseMutations,(t,r)=>aT(t,r))}},xy=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xe(e.mutations.length===r.length);let i=function(){return VL}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var My=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ry=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Xe,Ce;function WL(n){switch(n){default:return te();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function eS(n){if(n===void 0)return Tr("GRPC error has no .code"),O.UNKNOWN;switch(n){case Xe.OK:return O.OK;case Xe.CANCELLED:return O.CANCELLED;case Xe.UNKNOWN:return O.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return O.INTERNAL;case Xe.UNAVAILABLE:return O.UNAVAILABLE;case Xe.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Xe.NOT_FOUND:return O.NOT_FOUND;case Xe.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Xe.ABORTED:return O.ABORTED;case Xe.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Xe.DATA_LOSS:return O.DATA_LOSS;default:return te()}}(Ce=Xe||(Xe={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";var lT=null;function KL(){return new TextEncoder}var QL=new ei([4294967295,4294967295],0);function dT(n){let e=KL().encode(n),t=new Gm;return t.update(e),new Uint8Array(t.digest())}function hT(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ei([t,r],0),new ei([i,o],0)]}var Py=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new qi(`Invalid padding: ${t}`);if(r<0)throw new qi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new qi(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ei.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(ei.fromNumber(r)));return i.compare(QL)===1&&(i=new ei([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=dT(e),[r,i]=hT(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=dT(e),[r,i]=hT(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},qi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Od=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ce.min(),i,new Qe(be),Ar(),ye())}},nc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ye(),ye(),ye())}};var is=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},kd=class{constructor(e,t){this.targetId=e,this.me=t}},Fd=class{constructor(e,t,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Vd=class{constructor(){this.fe=0,this.ge=pT(),this.pe=Tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ye(),t=ye(),r=ye();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:te()}}),new nc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=pT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Ny=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ar(),this.qe=fT(),this.Qe=new Qe(be)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(Cy(o))if(r===0){let s=new X(o.path);this.Ue(t,s,Dn.newNoDocument(s,ce.min()))}else xe(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}lT?.et(function(h,p,m,v,S){var P,x,F,G,V,J;let ge={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},re=p.unchangedNames;return re&&(ge.bloomFilter={applied:S===0,hashCount:(P=re?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(G=(F=(x=re?.bits)===null||x===void 0?void 0:x.bitmap)===null||F===void 0?void 0:F.length)!==null&&G!==void 0?G:0,padding:(J=(V=re?.bits)===null||V===void 0?void 0:V.padding)!==null&&J!==void 0?J:0,mightContain:E=>{var y;return(y=v?.mightContain(E))!==null&&y!==void 0&&y}}),ge}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=ri(r).toUint8Array()}catch(u){if(u instanceof Rd)return Za("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Py(s,i,o)}catch(u){return Za(u instanceof qi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Cy(a.target)){let u=new X(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Dn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=ye();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Od(e,t,this.Qe,this.ke,r);return this.ke=Ar(),this.qe=fT(),this.Qe=new Qe(be),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Vd,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new bt(be),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||K("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Vd),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function fT(){return new Qe(X.comparator)}function pT(){return new Qe(X.comparator)}var YL={asc:"ASCENDING",desc:"DESCENDING"},ZL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JL={and:"AND",or:"OR"},Oy=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function ky(n,e){return n.useProto3Json||rh(e)?e:{value:e}}function Ld(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function XL(n,e){return Ld(n,e.toTimestamp())}function Kn(n){return xe(!!n),ce.fromTimestamp(function(t){let r=Sr(t);return new ft(r.seconds,r.nanos)}(n))}function zv(n,e){return Fy(n,e).canonicalString()}function Fy(n,e){let t=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function nS(n){let e=Ge.fromString(n);return xe(aS(e)),e}function Vy(n,e){return zv(n.databaseId,e.path)}function Jm(n,e){let t=nS(e);if(t.get(1)!==n.databaseId.projectId)throw new W(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new W(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(iS(t))}function rS(n,e){return zv(n.databaseId,e)}function e2(n){let e=nS(n);return e.length===4?Ge.emptyPath():iS(e)}function Ly(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iS(n){return xe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function gT(n,e,t){return{name:Vy(n,e),fields:t.value.mapValue.fields}}function t2(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(xe(h===void 0||typeof h=="string"),Tt.fromBase64String(h||"")):(xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Tt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:eS(l.code);return new W(h,l.message||"")}(s);t=new Fd(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Jm(n,r.document.name),o=Kn(r.document.updateTime),s=r.document.createTime?Kn(r.document.createTime):ce.min(),a=new Cn({mapValue:{fields:r.document.fields}}),u=Dn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new is(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Jm(n,r.document),o=r.readTime?Kn(r.readTime):ce.min(),s=Dn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new is([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Jm(n,r.document),o=r.removedTargetIds||[];t=new is([],o,i,null)}else{if(!("filter"in e))return te();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Ry(i,o),a=r.targetId;t=new kd(a,s)}}return t}function n2(n,e){let t;if(e instanceof Xi)t={update:gT(n,e.key,e.value)};else if(e instanceof tc)t={delete:Vy(n,e.key)};else if(e instanceof xr)t={update:gT(n,e.key,e.data),updateMask:d2(e.fieldMask)};else{if(!(e instanceof Sy))return te();t={verify:Vy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof hs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ji)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fs)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw te()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:XL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:te()}(n,e.precondition)),t}function r2(n,e){return n&&n.length>0?(xe(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Kn(i.updateTime):Kn(o);return s.isEqual(ce.min())&&(s=Kn(o)),new Ty(s,i.transformResults||[])}(t,e))):[]}function i2(n,e){return{documents:[rS(n,e.path)]}}function o2(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=rS(n,i);let o=function(l){if(l.length!==0)return sS(bn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ts(m.field),direction:c2(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=ky(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function s2(n){let e=e2(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){xe(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let m=oS(p);return m instanceof bn&&VT(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(m=>function(S){return new ls(ns(S.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,rh(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new us(v,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new us(v,m)}(t.endAt)),PL(e,i,s,o,a,"F",u,l)}function a2(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function oS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ns(t.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ns(t.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ns(t.unaryFilter.field);return tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ns(t.unaryFilter.field);return tt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(n):n.fieldFilter!==void 0?function(t){return tt.create(ns(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return bn.create(t.compositeFilter.filters.map(r=>oS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(t.compositeFilter.op))}(n):te()}function c2(n){return YL[n]}function u2(n){return ZL[n]}function l2(n){return JL[n]}function ts(n){return{fieldPath:n.canonicalString()}}function ns(n){return Kt.fromServerFormat(n.fieldPath)}function sS(n){return n instanceof tt?function(t){if(t.op==="=="){if(tT(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NAN"}};if(eT(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tT(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NOT_NAN"}};if(eT(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(t.field),op:u2(t.op),value:t.value}}}(n):n instanceof bn?function(t){let r=t.getFilters().map(i=>sS(i));return r.length===1?r[0]:{compositeFilter:{op:l2(t.op),filters:r}}}(n):te()}function d2(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var rc=class n{constructor(e,t,r,i,o=ce.min(),s=ce.min(),a=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var jy=class{constructor(e){this.ct=e}};function h2(n){let e=s2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?by(e,e.limit,"L"):e}var jd=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ze(e.integerValue));else if("doubleValue"in e){let r=ze(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Ja(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Sr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(ri(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?OT(e)?this.dt(t,Number.MAX_SAFE_INTEGER):NT(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):te()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(ze(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),X.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};jd.vt=new jd;var Uy=class{constructor(){this.un=new By}addToCollectionParentIndex(e,t){return this.un.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(Ki.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},By=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new bt(Ge.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(Ge.comparator)).toArray()}};var k6=new Uint8Array(0);var Hn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(41943040,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);var ic=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var $y=class{constructor(){this.changes=new ii(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var zy=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Hy=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Qa(r.mutation,i,qn.empty(),ft.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ye()){let i=Hi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=qa();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Hi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ye()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ar(),s=Ka(),a=function(){return Ka()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof xr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Qa(h.mutation,l,h.mutation.getFieldMask(),ft.now())):s.set(l.key,qn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new zy(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Ka(),i=new Qe((s,a)=>s-a),o=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||qn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ye()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=GT();h.forEach(m=>{if(!o.has(m)){let v=JT(t.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):BT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):k.resolve(Hi()),a=-1,u=o;return s.next(l=>k.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ye())).next(h=>({batchId:a,changes:qT(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(r=>{let i=qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=qa();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,u=>{let l=function(p,m){return new Yi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Dn.newInvalidDocument(h)))});let a=qa();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Qa(h.mutation,l,qn.empty(),ft.now()),oh(t,l)&&(a=a.insert(u,l))}),a})}};var qy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return k.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:h2(i.bundledQuery),readTime:Kn(i.readTime)}}(t)),k.resolve()}};var Gy=class{constructor(){this.overlays=new Qe(X.comparator),this.Ir=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Hi();return k.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),k.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){let i=Hi(),o=t.length+1,s=new X(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Qe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Hi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Hi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new My(t,r));let o=this.Ir.get(t);o===void 0&&(o=ye(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var Wy=class{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var oc=class{constructor(){this.Tr=new bt(et.Er),this.dr=new bt(et.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new et(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new et(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new X(new Ge([])),r=new et(t,e),i=new et(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new X(new Ge([])),r=new et(t,e),i=new et(t,e+1),o=ye();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new et(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},et=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return X.comparator(e.key,t.key)||be(e.wr,t.wr)}static Ar(e,t){return be(e.wr,t.wr)||X.comparator(e.key,t.key)}};var Ky=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new bt(et.Er)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ay(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new et(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,t){return k.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new et(t,0),i=new et(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bt(be);return t.forEach(i=>{let o=new et(i,0),s=new et(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),k.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;X.isDocumentKey(o)||(o=o.child(""));let s=new et(new X(o),0),a=new bt(be);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),k.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){xe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return k.forEach(t.mutations,i=>{let o=new et(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new et(t,0),i=this.br.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Qy=class{constructor(e){this.Mr=e,this.docs=function(){return new Qe(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let r=Ar();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Dn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ar(),s=t.path,a=new X(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||EL(wL(h),r)<=0||(i.has(h.key)||oh(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,t,r,i){te()}Or(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Yy(this)}getSize(e){return k.resolve(this.size)}},Yy=class extends $y{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var Zy=class{constructor(e){this.persistence=e,this.Nr=new ii(t=>jv(t),Uv),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new oc,this.targetCount=0,this.kr=ic.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),k.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new ic(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.Kn(t),k.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.Br.containsKey(t))}};var Jy=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new RT(0),this.Kr=!1,this.Kr=!0,this.$r=new Wy,this.referenceDelegate=e(this),this.Ur=new Zy(this),this.indexManager=new Uy,this.remoteDocumentCache=function(i){return new Qy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new jy(t),this.Gr=new qy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Gy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Ky(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){K("MemoryPersistence","Starting transaction:",e);let i=new Xy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return k.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},Xy=class extends ly{constructor(e){super(),this.currentSequenceNumber=e}},ev=class n{constructor(e){this.persistence=e,this.Jr=new oc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),k.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Xr,r=>{let i=X.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,ce.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return k.or([()=>k.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var tv=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ye(),i=ye();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var nv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var rv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return _0()?8:CL(v0())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new nv;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Ha()<=ir.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",es(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),k.resolve()):(Ha()<=ir.DEBUG&&K("QueryEngine","Query:",es(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ha()<=ir.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",es(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(t))):k.resolve())}Yi(e,t){if(oT(t))return k.resolve(null);let r=Wn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=by(t,null,"F"),r=Wn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ye(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,a);return this.ns(t,l,s,u.readTime)?this.Yi(e,by(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return oT(t)||i.isEqual(ce.min())?k.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?k.resolve(null):(Ha()<=ir.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),es(t)),this.rs(e,s,t,_L(i,-1)).next(a=>a))})}ts(e,t){let r=new bt(zT(e));return t.forEach((i,o)=>{oh(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return Ha()<=ir.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",es(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ki.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var iv=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Qe(be),this._s=new ii(o=>jv(o),Uv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function f2(n,e,t,r){return new iv(n,e,t,r)}function cS(n,e){return L(this,null,function*(){let t=ae(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ye();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function p2(n,e){let t=ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=k.resolve();return m.forEach(S=>{v=v.next(()=>h.getEntry(u,S)).next(P=>{let x=l.docVersions.get(S);xe(x!==null),P.version.compareTo(x)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ye();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function uS(n){let e=ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function g2(n,e){let t=ae(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Tt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(P,x,F){return P.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,v,h)&&a.push(t.Ur.updateTargetData(o,v))});let u=Ar(),l=ye();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(m2(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ce.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.os=i,o))}function m2(n,e,t){let r=ye(),i=ye();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ar();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ce.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function y2(n,e){let t=ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function v2(n,e){let t=ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new rc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function ov(n,e,t){return L(this,null,function*(){let r=ae(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!fc(s))throw s;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function mT(n,e,t){let r=ae(n),i=ce.min(),o=ye();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ae(u),m=p._s.get(h);return m!==void 0?k.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,Wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:ce.min(),t?o:ye())).next(a=>(_2(r,OL(e),a),{documents:a,Ts:o})))}function _2(n,e,t){let r=n.us.get(e)||ce.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var Ud=class{constructor(){this.activeTargetIds=UL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var sv=class{constructor(){this.so=new Ud,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ud,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var av=class{_o(e){}shutdown(){}};var Bd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var bd=null;function Xm(){return bd===null?bd=function(){return 268435456+Math.round(2147483648*Math.random())}():bd++,"0x"+bd.toString(16)}var w2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var cv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ct="WebChannelConnection",uv=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=Xm(),u=this.xo(t,r.toUriEncodedString());K("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,u,l,i).then(h=>(K("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Za("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ys}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=w2[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=Xm();return new Promise((s,a)=>{let u=new Wm;u.setWithCredentials(!0),u.listenOnce(Km.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case za.NO_ERROR:let h=u.getResponseJson();K(Ct,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case za.TIMEOUT:K(Ct,`RPC '${e}' ${o} timed out`),a(new W(O.DEADLINE_EXCEEDED,"Request time out"));break;case za.HTTP_ERROR:let p=u.getStatus();if(K(Ct,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let S=function(x){let F=x.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(F)>=0?F:O.UNKNOWN}(v.status);a(new W(S,v.message))}else a(new W(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new W(O.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{K(Ct,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);K(Ct,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=Xm(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Zm(),a=Ym(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");K(Ct,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,v=!1,S=new cv({Io:x=>{v?K(Ct,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(K(Ct,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),K(Ct,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},To:()=>p.close()}),P=(x,F,G)=>{x.listen(F,V=>{try{G(V)}catch(J){setTimeout(()=>{throw J},0)}})};return P(p,Xo.EventType.OPEN,()=>{v||(K(Ct,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),P(p,Xo.EventType.CLOSE,()=>{v||(v=!0,K(Ct,`RPC '${e}' stream ${i} transport closed`),S.So())}),P(p,Xo.EventType.ERROR,x=>{v||(v=!0,Za(Ct,`RPC '${e}' stream ${i} transport errored:`,x),S.So(new W(O.UNAVAILABLE,"The operation could not be completed")))}),P(p,Xo.EventType.MESSAGE,x=>{var F;if(!v){let G=x.data[0];xe(!!G);let V=G,J=V.error||((F=V[0])===null||F===void 0?void 0:F.error);if(J){K(Ct,`RPC '${e}' stream ${i} received error:`,J);let ge=J.status,re=function(w){let I=Xe[w];if(I!==void 0)return eS(I)}(ge),E=J.message;re===void 0&&(re=O.INTERNAL,E="Unknown error status: "+ge+" with message "+J.message),v=!0,S.So(new W(re,E)),p.close()}else K(Ct,`RPC '${e}' stream ${i} received:`,G),S.bo(G)}}),P(a,Qm.STAT_EVENT,x=>{x.stat===Cd.PROXY?K(Ct,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Cd.NOPROXY&&K(Ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function ey(){return typeof document<"u"?document:null}function sh(n){return new Oy(n,!0)}var $d=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var zd=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $d(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return L(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return L(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return L(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(Tr(t.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new W(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>L(this,null,function*(){this.state=0,this.start()}))}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},lv=class extends zd{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=t2(this.serializer,e),r=function(o){if(!("targetChange"in o))return ce.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?Kn(s.readTime):ce.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Ly(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=Cy(u)?{documents:i2(o,u)}:{query:o2(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=tS(o,s.resumeToken);let l=ky(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ce.min())>0){a.readTime=Ld(o,s.snapshotVersion.toTimestamp());let l=ky(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=a2(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Ly(this.serializer),t.removeTarget=e,this.a_(t)}},dv=class extends zd{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=r2(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=Ly(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>n2(this.serializer,r))};this.a_(t)}};var hv=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new W(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Fy(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(O.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Fy(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},fv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Tr(t),this.D_=!1):K("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var pv=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>L(this,null,function*(){to(this)&&(K("RemoteStore","Restarting streams for network reachability change."),yield function(u){return L(this,null,function*(){let l=ae(u);l.L_.add(4),yield pc(l),l.q_.set("Unknown"),l.L_.delete(4),yield ah(l)})}(this))}))}),this.q_=new fv(r,i)}};function ah(n){return L(this,null,function*(){if(to(n))for(let e of n.B_)yield e(!0)})}function pc(n){return L(this,null,function*(){for(let e of n.B_)yield e(!1)})}function lS(n,e){let t=ae(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Wv(t)?Gv(t):_s(t).r_()&&qv(t,e))}function Hv(n,e){let t=ae(n),r=_s(t);t.N_.delete(e),r.r_()&&dS(t,e),t.N_.size===0&&(r.r_()?r.o_():to(t)&&t.q_.set("Unknown"))}function qv(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_s(n).A_(e)}function dS(n,e){n.Q_.xe(e),_s(n).R_(e)}function Gv(n){n.Q_=new Ny({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),_s(n).start(),n.q_.v_()}function Wv(n){return to(n)&&!_s(n).n_()&&n.N_.size>0}function to(n){return ae(n).L_.size===0}function hS(n){n.Q_=void 0}function E2(n){return L(this,null,function*(){n.q_.set("Online")})}function I2(n){return L(this,null,function*(){n.N_.forEach((e,t)=>{qv(n,e)})})}function C2(n,e){return L(this,null,function*(){hS(n),Wv(n)?(n.q_.M_(e),Gv(n)):n.q_.set("Unknown")})}function D2(n,e,t){return L(this,null,function*(){if(n.q_.set("Online"),e instanceof Fd&&e.state===2&&e.cause)try{yield function(i,o){return L(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Hd(n,r)}else if(e instanceof is?n.Q_.Ke(e):e instanceof kd?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ce.min()))try{let r=yield uS(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Tt.EMPTY_BYTE_STRING,h.snapshotVersion)),dS(o,u);let p=new rc(h.target,u,l,h.sequenceNumber);qv(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){K("RemoteStore","Failed to raise snapshot:",r),yield Hd(n,r)}})}function Hd(n,e,t){return L(this,null,function*(){if(!fc(e))throw e;n.L_.add(1),yield pc(n),n.q_.set("Offline"),t||(t=()=>uS(n.localStore)),n.asyncQueue.enqueueRetryable(()=>L(this,null,function*(){K("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield ah(n)}))})}function fS(n,e){return e().catch(t=>Hd(n,t,e))}function ch(n){return L(this,null,function*(){let e=ae(n),t=oi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;b2(e);)try{let i=yield y2(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,T2(e,i)}catch(i){yield Hd(e,i)}pS(e)&&gS(e)})}function b2(n){return to(n)&&n.O_.length<10}function T2(n,e){n.O_.push(e);let t=oi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function pS(n){return to(n)&&!oi(n).n_()&&n.O_.length>0}function gS(n){oi(n).start()}function S2(n){return L(this,null,function*(){oi(n).p_()})}function A2(n){return L(this,null,function*(){let e=oi(n);for(let t of n.O_)e.m_(t.mutations)})}function x2(n,e,t){return L(this,null,function*(){let r=n.O_.shift(),i=xy.from(r,e,t);yield fS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ch(n)})}function M2(n,e){return L(this,null,function*(){e&&oi(n).V_&&(yield function(r,i){return L(this,null,function*(){if(function(s){return WL(s)&&s!==O.ABORTED}(i.code)){let o=r.O_.shift();oi(r).s_(),yield fS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield ch(r)}})}(n,e)),pS(n)&&gS(n)})}function yT(n,e){return L(this,null,function*(){let t=ae(n);t.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");let r=to(t);t.L_.add(3),yield pc(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield ah(t)})}function R2(n,e){return L(this,null,function*(){let t=ae(n);e?(t.L_.delete(2),yield ah(t)):e||(t.L_.add(2),yield pc(t),t.q_.set("Unknown"))})}function _s(n){return n.K_||(n.K_=function(t,r,i){let o=ae(t);return o.w_(),new lv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:E2.bind(null,n),Ro:I2.bind(null,n),mo:C2.bind(null,n),d_:D2.bind(null,n)}),n.B_.push(e=>L(this,null,function*(){e?(n.K_.s_(),Wv(n)?Gv(n):n.q_.set("Unknown")):(yield n.K_.stop(),hS(n))}))),n.K_}function oi(n){return n.U_||(n.U_=function(t,r,i){let o=ae(t);return o.w_(),new dv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:S2.bind(null,n),mo:M2.bind(null,n),f_:A2.bind(null,n),g_:x2.bind(null,n)}),n.B_.push(e=>L(this,null,function*(){e?(n.U_.s_(),yield ch(n)):(yield n.U_.stop(),n.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var gv=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Kv(n,e){if(Tr("AsyncQueue",`${e}: ${n}`),fc(n))return new W(O.UNAVAILABLE,`${e}: ${n}`);throw n}var qd=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||X.comparator(t.key,r.key):(t,r)=>X.comparator(t.key,r.key),this.keyedMap=qa(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Gd=class{constructor(){this.W_=new Qe(X.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):te():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},gs=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,qd.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var mv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},yv=class{constructor(){this.queries=vT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ae(t),o=i.queries;i.queries=vT(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new W(O.ABORTED,"Firestore shutting down"))}};function vT(){return new ii(n=>$T(n),ih)}function P2(n,e){return L(this,null,function*(){let t=ae(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new mv,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Kv(s,`Initialization of query '${es(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&Qv(t)})}function N2(n,e){return L(this,null,function*(){let t=ae(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function O2(n,e){let t=ae(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Qv(t)}function k2(n,e,t){let r=ae(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function Qv(n){n.Y_.forEach(e=>{e.next()})}var vv,_T;(_T=vv||(vv={})).ea="default",_T.Cache="cache";var _v=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new gs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vv.Cache}};var Wd=class{constructor(e){this.key=e}},Kd=class{constructor(e){this.key=e}},wv=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ye(),this.mutatedKeys=ye(),this.Aa=zT(e),this.Ra=new qd(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Gd,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=oh(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),P=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),x=!1;m&&v?m.data.isEqual(v.data)?S!==P&&(r.track({type:3,doc:v}),x=!0):this.ga(m,v)||(r.track({type:2,doc:v}),x=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),x=!0):m&&!v&&(r.track({type:1,doc:m}),x=!0,(u||l)&&(a=!0)),x&&(v?(s=s.add(v),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(v,S){let P=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return P(v)-P(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new gs(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Gd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ye(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Kd(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Wd(r))}),t}ba(e){this.Ta=e.Ts,this.da=ye();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return gs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Ev=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Iv=class{constructor(e){this.key=e,this.va=!1}},Cv=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ii(a=>$T(a),ih),this.Ma=new Map,this.xa=new Set,this.Oa=new Qe(X.comparator),this.Na=new Map,this.La=new oc,this.Ba={},this.ka=new Map,this.qa=ic.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function F2(n,e,t=!0){return L(this,null,function*(){let r=ES(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield mS(r,e,t,!0),i})}function V2(n,e){return L(this,null,function*(){let t=ES(n);yield mS(t,e,!0,!1)})}function mS(n,e,t,r){return L(this,null,function*(){let i=yield v2(n.localStore,Wn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield L2(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&lS(n.remoteStore,i),a})}function L2(n,e,t,r,i){return L(this,null,function*(){n.Ka=(p,m,v)=>function(P,x,F,G){return L(this,null,function*(){let V=x.view.ma(F);V.ns&&(V=yield mT(P.localStore,x.query,!1).then(({documents:E})=>x.view.ma(E,V)));let J=G&&G.targetChanges.get(x.targetId),ge=G&&G.targetMismatches.get(x.targetId)!=null,re=x.view.applyChanges(V,P.isPrimaryClient,J,ge);return ET(P,x.targetId,re.wa),re.snapshot})}(n,p,m,v);let o=yield mT(n.localStore,e,!0),s=new wv(e,o.Ts),a=s.ma(o.documents),u=nc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);ET(n,t,l.wa);let h=new Ev(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function j2(n,e,t){return L(this,null,function*(){let r=ae(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!ih(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ov(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Hv(r.remoteStore,i.targetId),Dv(r,i.targetId)}).catch(hc))):(Dv(r,i.targetId),yield ov(r.localStore,i.targetId,!0))})}function U2(n,e){return L(this,null,function*(){let t=ae(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Hv(t.remoteStore,r.targetId))})}function B2(n,e,t){return L(this,null,function*(){let r=K2(n);try{let i=yield function(s,a){let u=ae(s),l=ft.now(),h=a.reduce((v,S)=>v.add(S.key),ye()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=Ar(),P=ye();return u.cs.getEntries(v,h).next(x=>{S=x,S.forEach((F,G)=>{G.isValidDocument()||(P=P.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(x=>{p=x;let F=[];for(let G of a){let V=GL(G,p.get(G.key).overlayedDocument);V!=null&&F.push(new xr(G.key,V,kT(V.value.mapValue),ti.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,F,a)}).next(x=>{m=x;let F=x.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(v,x.batchId,F)})}).then(()=>({batchId:m.batchId,changes:qT(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Qe(be)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,t),yield gc(r,i.changes),yield ch(r.remoteStore)}catch(i){let o=Kv(i,"Failed to persist write");t.reject(o)}})}function yS(n,e){return L(this,null,function*(){let t=ae(n);try{let r=yield g2(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?xe(s.va):i.removedDocuments.size>0&&(xe(s.va),s.va=!1))}),yield gc(t,r,e)}catch(r){yield hc(r)}})}function wT(n,e,t){let r=ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ae(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&Qv(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $2(n,e,t){return L(this,null,function*(){let r=ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Qe(X.comparator);s=s.insert(o,Dn.newNoDocument(o,ce.min()));let a=ye().add(o),u=new Od(ce.min(),new Map,new Qe(be),s,a);yield yS(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Yv(r)}else yield ov(r.localStore,e,!1).then(()=>Dv(r,e,t)).catch(hc)})}function z2(n,e){return L(this,null,function*(){let t=ae(n),r=e.batch.batchId;try{let i=yield p2(t.localStore,e);_S(t,r,null),vS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield gc(t,i)}catch(i){yield hc(i)}})}function H2(n,e,t){return L(this,null,function*(){let r=ae(n);try{let i=yield function(s,a){let u=ae(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(xe(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);_S(r,e,t),vS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield gc(r,i)}catch(i){yield hc(i)}})}function vS(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function _S(n,e,t){let r=ae(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Dv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||wS(n,r)})}function wS(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Hv(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Yv(n))}function ET(n,e,t){for(let r of t)r instanceof Wd?(n.La.addReference(r.key,e),q2(n,r)):r instanceof Kd?(K("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||wS(n,r.key)):te()}function q2(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(K("SyncEngine","New document in limbo: "+t),n.xa.add(r),Yv(n))}function Yv(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new X(Ge.fromString(e)),r=n.qa.next();n.Na.set(r,new Iv(t)),n.Oa=n.Oa.insert(t,r),lS(n.remoteStore,new rc(Wn(Bv(t.path)),r,"TargetPurposeLimboResolution",RT.oe))}}function gc(n,e,t){return L(this,null,function*(){let r=ae(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=tv.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return L(this,null,function*(){let h=ae(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,m=>k.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>k.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!fc(p))throw p;K("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),S=v.snapshotVersion,P=v.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,P)}}})}(r.localStore,o))})}function G2(n,e){return L(this,null,function*(){let t=ae(n);if(!t.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());let r=yield cS(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new W(O.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield gc(t,r.hs)}})}function W2(n,e){let t=ae(n),r=t.Na.get(e);if(r&&r.va)return ye().add(r.key);{let i=ye(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function ES(n){let e=ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$2.bind(null,e),e.Ca.d_=O2.bind(null,e.eventManager),e.Ca.$a=k2.bind(null,e.eventManager),e}function K2(n){let e=ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H2.bind(null,e),e}var IT=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return L(this,null,function*(){this.serializer=sh(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return f2(this.persistence,new rv,t.initialUser,this.serializer)}Ga(t){return new Jy(ev.Zr,this.serializer)}Wa(t){return new sv}terminate(){return L(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var Q2=(()=>{class n{initialize(t,r){return L(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=G2.bind(null,this.syncEngine),yield R2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new yv}()}createDatastore(t){let r=sh(t.databaseInfo.databaseId),i=function(s){return new uv(s)}(t.databaseInfo);return function(s,a,u,l){return new hv(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new pv(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>wT(this.syncEngine,r,0),function(){return Bd.D()?new Bd:new av}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let m=new Cv(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return L(this,null,function*(){var t,r;yield function(o){return L(this,null,function*(){let s=ae(o);K("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield pc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var bv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Tv=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=Ad.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>L(this,null,function*(){K("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>L(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Kv(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ty(n,e){return L(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>L(this,null,function*(){r.isEqual(i)||(yield cS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function CT(n,e){return L(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Y2(n);K("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>yT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>yT(e.remoteStore,i)),n._onlineComponents=e})}function Y2(n){return L(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ty(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Za("Error using user provided cache. Falling back to memory cache: "+t),yield ty(n,new IT)}}else K("FirestoreClient","Using default OfflineComponentProvider"),yield ty(n,new IT);return n._offlineComponents})}function IS(n){return L(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),yield CT(n,n._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),yield CT(n,new Q2))),n._onlineComponents})}function Z2(n){return IS(n).then(e=>e.syncEngine)}function DT(n){return L(this,null,function*(){let e=yield IS(n),t=e.eventManager;return t.onListen=F2.bind(null,e.syncEngine),t.onUnlisten=j2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=V2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=U2.bind(null,e.syncEngine),t})}function CS(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var bT=new Map;function DS(n,e,t){if(!t)throw new W(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function J2(n,e,t,r){if(e===!0&&r===!0)throw new W(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TT(n){if(!X.isDocumentKey(n))throw new W(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ST(n){if(X.isDocumentKey(n))throw new W(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":te()}function Ya(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new W(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=uh(n);throw new W(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Qd=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},sc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ry;switch(r.type){case"firstParty":return new sy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return L(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=bT.get(t);r&&(K("ComponentProvider","Removing Datastore"),bT.delete(t),r.terminate())}(this),Promise.resolve()}};var ms=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Qt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ni=class n extends ms{constructor(e,t,r){super(e,t,Bv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new X(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function bS(n,e,...t){if(n=rr(n),DS("collection","path",e),n instanceof sc){let r=Ge.fromString(e,...t);return ST(r),new ni(n,null,r)}{if(!(n instanceof Qt||n instanceof ni))throw new W(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ge.fromString(e,...t));return ST(r),new ni(n.firestore,null,r)}}function Zv(n,e,...t){if(n=rr(n),arguments.length===1&&(e=Ad.newId()),DS("doc","path",e),n instanceof sc){let r=Ge.fromString(e,...t);return TT(r),new Qt(n,null,new X(r))}{if(!(n instanceof Qt||n instanceof ni))throw new W(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ge.fromString(e,...t));return TT(r),new Qt(n.firestore,n instanceof ni?n.converter:null,new X(r))}}var Yd=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new $d(this,"async_queue_retry"),this.Vu=()=>{let r=ey();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=ey();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=ey();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new br;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return L(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!fc(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=gv.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&te()}verifyOperationInProgress(){}wu(){return L(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function AT(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var eo=class extends sc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Yd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return L(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Yd(e),this._firestoreClient=void 0,yield e}})}};function TS(n){if(n._terminated)throw new W(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||X2(n),n._firestoreClient}function X2(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new dy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,CS(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Tv(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var ac=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Tt.fromBase64String(e))}catch(t){throw new W(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var cc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new W(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Zd=class{constructor(e){this._methodName=e}};var uc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new W(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new W(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}};var lc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var ej=/^__.*__$/,Sv=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xi(e,this.data,t,this.fieldTransforms)}};function SS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}var Av=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(SS(this.Cu)&&ej.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},xv=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||sh(e)}Qu(e,t,r,i=!1){return new Av({Cu:e,methodName:t,qu:r,path:Kt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function AS(n){let e=n._freezeSettings(),t=sh(n._databaseId);return new xv(n._databaseId,!!e.ignoreUndefinedProperties,t)}function tj(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);RS("Data must be an object, but it was:",s,r);let a=xS(r,s),u,l;if(o.merge)u=new qn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=rj(e,p,t);if(!s.contains(m))throw new W(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);oj(h,m)||h.push(m)}u=new qn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Sv(new Cn(a),u,l)}function nj(n,e,t,r=!1){return Jv(t,n.Qu(r?4:3,e))}function Jv(n,e){if(MS(n=rr(n)))return RS("Unsupported field value:",e,n),xS(n,e);if(n instanceof Zd)return function(r,i){if(!SS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Jv(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=rr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ft.fromDate(r);return{timestampValue:Ld(i.serializer,o)}}if(r instanceof ft){let o=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ld(i.serializer,o)}}if(r instanceof uc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ac)return{bytesValue:tS(i.serializer,r._byteString)};if(r instanceof Qt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:zv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return $v(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${uh(r)}`)}(n,e)}function xS(n,e){let t={};return PT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(n,(r,i)=>{let o=Jv(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function MS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ft||n instanceof uc||n instanceof ac||n instanceof Qt||n instanceof Zd||n instanceof lc)}function RS(n,e,t){if(!MS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=uh(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function rj(n,e,t){if((e=rr(e))instanceof cc)return e._internalPath;if(typeof e=="string")return PS(n,e);throw Jd("Field path arguments must be of type string or ",n,!1,void 0,t)}var ij=new RegExp("[~\\*/\\[\\]]");function PS(n,e,t){if(e.search(ij)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cc(...e.split("."))._internalPath}catch{throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jd(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new W(O.INVALID_ARGUMENT,a+n+u)}function oj(n,e){return n.some(t=>t.isEqual(e))}var Xd=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Mv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Xv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Mv=class extends Xd{data(){return super.data()}};function Xv(n,e){return typeof e=="string"?PS(n,e):e instanceof cc?e._internalPath:e._delegate._internalPath}function sj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new W(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dc=class{},Rv=class extends dc{};function NS(n,e,...t){let r=[];e instanceof dc&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof Pv).length,a=o.filter(u=>u instanceof eh).length;if(s>1||s>0&&a>0)throw new W(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var eh=class n extends Rv{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return kS(e._query,t),new ms(e.firestore,e.converter,Dy(e._query,t))}_parse(e){let t=AS(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){MT(p,h);let v=[];for(let S of p)v.push(xT(u,o,S));m={arrayValue:{values:v}}}else m=xT(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||MT(p,h),m=nj(a,s,p,h==="in"||h==="not-in");return tt.create(l,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function OS(n,e,t){let r=e,i=Xv("where",n);return eh._create(i,r,t)}var Pv=class n extends dc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:bn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)kS(s,u),s=Dy(s,u)}(e._query,t),new ms(e.firestore,e.converter,Dy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function xT(n,e,t){if(typeof(t=rr(t))=="string"){if(t==="")throw new W(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BT(e)&&t.indexOf("/")!==-1)throw new W(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ge.fromString(t));if(!X.isDocumentKey(r))throw new W(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xb(n,new X(r))}if(t instanceof Qt)return Xb(n,t._key);throw new W(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(t)}.`)}function MT(n,e){if(!Array.isArray(n)||n.length===0)throw new W(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kS(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new W(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Nv=class{convertValue(e,t="none"){switch(Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return vs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ze(s.doubleValue));return new lc(o)}convertGeoPoint(e){return new uc(ze(e.latitude),ze(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Vv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Xa(e));default:return null}}convertTimestamp(e){let t=Sr(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ge.fromString(e);xe(aS(r));let i=new Pd(r.get(1),r.get(3)),o=new X(r.popFirst(5));return i.isEqual(t)||Tr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function aj(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Gi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},th=class extends Xd{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new os(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Xv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},os=class extends th{data(e={}){return super.data(e)}},Ov=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Gi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new os(this._firestore,this._userDataWriter,r.key,r,new Gi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new W(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new os(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new os(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:cj(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function cj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}var nh=class extends Nv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,t)}};function FS(n){return LS(Ya(n.firestore,eo),[new tc(n._key,ti.none())])}function VS(n,e){let t=Ya(n.firestore,eo),r=Zv(n),i=aj(n.converter,e);return LS(t,[tj(AS(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ti.exists(!1))]).then(()=>r)}function e_(n,...e){var t,r,i;n=rr(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||AT(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(AT(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Qt)l=Ya(n.firestore,eo),h=Bv(n._key.path),u={next:p=>{e[s]&&e[s](uj(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Ya(n,ms);l=Ya(p.firestore,eo),h=p._query;let m=new nh(l);u={next:v=>{e[s]&&e[s](new Ov(l,m,p,v))},error:e[s+1],complete:e[s+2]},sj(n._query)}return function(m,v,S,P){let x=new bv(P),F=new _v(v,x,S);return m.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return P2(yield DT(m),F)})),()=>{x.Za(),m.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return N2(yield DT(m),F)}))}}(TS(l),h,a,u)}function LS(n,e){return function(r,i){let o=new br;return r.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return B2(yield Z2(r),i,o)})),o.promise}(TS(n),e)}function uj(n,e,t){let r=t.docs.get(e._key),i=new nh(n);return new th(n,i,e._key,r,new Gi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ys=i})(I0),sa(new oa("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new eo(new iy(r.getProvider("auth-internal")),new cy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new W(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),nt(Qb,"4.7.3",e),nt(Qb,"4.7.3","esm2017")})();var lh=function(){return lh=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},lh.apply(this,arguments)};var hj={includeMetadataChanges:!1};function jS(n,e){return e===void 0&&(e=hj),new oe(function(t){var r=e_(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function US(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:lh(lh({},r),(t={},t[e.idField]=n.id,t))}function BS(n){return jS(n,{includeMetadataChanges:!0}).pipe(ee(function(e){return e.docs}))}function $S(n,e){return e===void 0&&(e={}),BS(n).pipe(ee(function(t){return t.map(function(r){return US(r,e)})}))}var ws=class{constructor(e){return e}},zS="firestore",t_=class{constructor(){return $a(zS)}};var HS=new B("angularfire2.firestore-instances");function fj(n,e){let t=wd(zS,n,e);return t&&new ws(t)}var pj={provide:t_,deps:[[new _t,HS]]},gj={provide:ws,useFactory:fj,deps:[[new _t,HS],Cr]},qS=(()=>{class n{constructor(){nt("angularfire",jt.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=st({type:n});static \u0275inj=ot({providers:[gj,pj]})}return n})();var GS=ht($S,!0);var WS=ht(VS,!0);var n_=ht(bS,!0);var KS=ht(FS,!0);var QS=ht(Zv,!0);var YS=ht(NS,!0);var ZS=ht(OS,!0);var dh=class{id;produit;qte=0;constructor(e,t){this.produit=e,this.qte=t}};var si=(()=>{class n{productCartSubject=new Be([]);constructor(){}addProductToCart(t){let r=this.productCartSubject.getValue(),i=r.find(o=>o.produit.id===t.id);i?i.qte++:r.push(new dh(t,1)),this.productCartSubject.next(r),console.log("Product added to cart:",r)}getAllCartProducts(){return this.productCartSubject.asObservable()}increaseQte(t){let r=this.productCartSubject.getValue(),i=r.find(o=>o.produit.id===t.id);i&&i.qte++,this.productCartSubject.next(r)}decreaseQte(t){let r=this.productCartSubject.getValue(),i=r.find(o=>o.produit.id===t.id);i&&(i.qte===1?this.removeProductFromCart(t):(i.qte--,this.productCartSubject.next(r)))}removeProductFromCart(t){let r=this.productCartSubject.getValue();r=r.filter(i=>i.produit.id!==t.id),this.productCartSubject.next(r)}removeAllProducts(){this.productCartSubject.getValue().forEach(r=>{this.removeProductFromCart(r.produit)})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var cn=(()=>{class n{firebaseauth=N(zi);user$=Bb(this.firebaseauth);currentUserSig=Oi(void 0);getUserId(){return L(this,null,function*(){let t=yield this.firebaseauth.currentUser;return t?t.uid:null})}register(t,r,i){let o=$b(this.firebaseauth,t,i).then(s=>Gb(s.user,{displayName:r}));return de(o)}login(t,r){let i=Hb(this.firebaseauth,t,r).then(()=>{});return de(i)}logout(){let t=qb(this.firebaseauth);return de(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Es=(()=>{class n{panier;authService;orderSubject=new Be([]);constructor(t,r){this.panier=t,this.authService=r}fireStore=N(ws);allOrders=[];cart=[];createCommande(t,r){return L(this,null,function*(){let i=t.map(u=>({productId:u.produit.id,productName:u.produit.title,quantity:u.qte})),s={userid:yield this.authService.getUserId(),montant:r,dateCommande:new Date,details:i};console.log(s);let a=n_(this.fireStore,"orders");yield WS(a,s).then(()=>console.log("Commande created successfully!",s)).catch(u=>console.error("Error creating commande:",u))})}getCurrentCart(){this.panier.getAllCartProducts().subscribe(t=>{this.cart=t})}deleteOrder(t){let r=QS(this.fireStore,"orders",t);KS(r).then(()=>console.log("data deleted !")).catch(i=>console.log(i))}getAllOrdersByUserId(){return de(this.authService.getUserId()).pipe(Ae(t=>{if(!t)return console.error("User ID is not available"),Q([]);let r=n_(this.fireStore,"orders"),i=YS(r,ZS("userid","==",t));return GS(i,{idField:"id"})}),Pn(t=>(console.error("Error fetching orders:",t),Q([]))))}static \u0275fac=function(r){return new(r||n)($(si),$(cn))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ue="primary",Mc=Symbol("RouteTitle"),a_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ss(n){return new a_(n)}function mj(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function yj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yn(n[t],e[t]))return!1;return!0}function Yn(n,e){let t=n?c_(n):void 0,r=e?c_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!lA(n[i],e[i]))return!1;return!0}function c_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function lA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function dA(n){return n.length>0?n[n.length-1]:null}function ci(n){return Jf(n)?n:Vi(n)?de(Promise.resolve(n)):Q(n)}var vj={exact:fA,subset:pA},hA={exact:_j,subset:wj,ignored:()=>!0};function eA(n,e,t){return vj[t.paths](n.root,e.root,t.matrixParams)&&hA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function _j(n,e){return Yn(n,e)}function fA(n,e,t){if(!ro(n.segments,e.segments)||!gh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!fA(n.children[r],e.children[r],t))return!1;return!0}function wj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lA(n[t],e[t]))}function pA(n,e,t){return gA(n,e,e.segments,t)}function gA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ro(i,t)||e.hasChildren()||!gh(i,t,r))}else if(n.segments.length===t.length){if(!ro(n.segments,t)||!gh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!pA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ro(n.segments,i)||!gh(n.segments,i,r)||!n.children[ue]?!1:gA(n.children[ue],e,o,r)}}function gh(n,e,t){return e.every((r,i)=>hA[t](n[i].parameters,r.parameters))}var Rr=class{constructor(e=new Se([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ss(this.queryParams),this._queryParamMap}toString(){return Cj.serialize(this)}},Se=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mh(this)}},no=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ss(this.parameters),this._parameterMap}toString(){return yA(this)}};function Ej(n,e){return ro(n,e)&&n.every((t,r)=>Yn(t.parameters,e[r].parameters))}function ro(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Ij(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ue&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ue&&(t=t.concat(e(i,r)))}),t}var Rc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>new As,providedIn:"root"})}}return n})(),As=class{parse(e){let t=new l_(e);return new Rr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${mc(e.root,!0)}`,r=Tj(e.queryParams),i=typeof e.fragment=="string"?`#${Dj(e.fragment)}`:"";return`${t}${r}${i}`}},Cj=new As;function mh(n){return n.segments.map(e=>yA(e)).join("/")}function mc(n,e){if(!n.hasChildren())return mh(n);if(e){let t=n.children[ue]?mc(n.children[ue],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ue&&r.push(`${i}:${mc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Ij(n,(r,i)=>i===ue?[mc(n.children[ue],!1)]:[`${i}:${mc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ue]!=null?`${mh(n)}/${t[0]}`:`${mh(n)}/(${t.join("//")})`}}function mA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fh(n){return mA(n).replace(/%3B/gi,";")}function Dj(n){return encodeURI(n)}function u_(n){return mA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yh(n){return decodeURIComponent(n)}function tA(n){return yh(n.replace(/\+/g,"%20"))}function yA(n){return`${u_(n.path)}${bj(n.parameters)}`}function bj(n){return Object.entries(n).map(([e,t])=>`;${u_(e)}=${u_(t)}`).join("")}function Tj(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${fh(t)}=${fh(i)}`).join("&"):`${fh(t)}=${fh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Sj=/^[^\/()?;#]+/;function r_(n){let e=n.match(Sj);return e?e[0]:""}var Aj=/^[^\/()?;=#]+/;function xj(n){let e=n.match(Aj);return e?e[0]:""}var Mj=/^[^=?&#]+/;function Rj(n){let e=n.match(Mj);return e?e[0]:""}var Pj=/^[^&#]+/;function Nj(n){let e=n.match(Pj);return e?e[0]:""}var l_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new Se(e,t)),r}parseSegment(){let e=r_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Y(4009,!1);return this.capture(e),new no(yh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=xj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=r_(this.remaining);i&&(r=i,this.capture(r))}e[yh(t)]=yh(r)}parseQueryParam(e){let t=Rj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Nj(this.remaining);s&&(r=s,this.capture(r))}let i=tA(t),o=tA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=r_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Y(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ue);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ue]:new Se([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Y(4011,!1)}};function vA(n){return n.segments.length>0?new Se([],{[ue]:n}):n}function _A(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=_A(i);if(r===ue&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Se(n.segments,e);return Oj(t)}function Oj(n){if(n.numberOfChildren===1&&n.children[ue]){let e=n.children[ue];return new Se(n.segments.concat(e.segments),e.children)}return n}function io(n){return n instanceof Rr}function kj(n,e,t=null,r=null){let i=wA(n);return EA(i,e,t,r)}function wA(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Se(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=vA(r);return e??i}function EA(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return i_(i,i,i,t,r);let o=Fj(e);if(o.toRoot())return i_(i,i,new Se([],{}),t,r);let s=Vj(o,i,n),a=s.processChildren?_c(s.segmentGroup,s.index,o.commands):CA(s.segmentGroup,s.index,o.commands);return i_(i,s.segmentGroup,a,t,r)}function vh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ic(n){return typeof n=="object"&&n!=null&&n.outlets}function i_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=IA(n,e,t);let a=vA(_A(s));return new Rr(a,o,i)}function IA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=IA(o,e,t)}),new Se(n.segments,r)}var _h=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&vh(r[0]))throw new Y(4003,!1);let i=r.find(Ic);if(i&&i!==dA(r))throw new Y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Fj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new _h(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new _h(t,e,r)}var Ds=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Vj(n,e,t){if(n.isAbsolute)return new Ds(e,!0,0);if(!t)return new Ds(e,!1,NaN);if(t.parent===null)return new Ds(t,!0,0);let r=vh(n.commands[0])?0:1,i=t.segments.length-1+r;return Lj(t,i,n.numberOfDoubleDots)}function Lj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Y(4005,!1);i=r.segments.length}return new Ds(r,!1,i-o)}function jj(n){return Ic(n[0])?n[0].outlets:{[ue]:n}}function CA(n,e,t){if(n??=new Se([],{}),n.segments.length===0&&n.hasChildren())return _c(n,e,t);let r=Uj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Se(n.segments.slice(0,r.pathIndex),{});return o.children[ue]=new Se(n.segments.slice(r.pathIndex),n.children),_c(o,0,i)}else return r.match&&i.length===0?new Se(n.segments,{}):r.match&&!n.hasChildren()?d_(n,e,t):r.match?_c(n,0,i):d_(n,e,t)}function _c(n,e,t){if(t.length===0)return new Se(n.segments,{});{let r=jj(t),i={};if(Object.keys(r).some(o=>o!==ue)&&n.children[ue]&&n.numberOfChildren===1&&n.children[ue].segments.length===0){let o=_c(n.children[ue],e,t);return new Se(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=CA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Se(n.segments,i)}}function Uj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ic(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!rA(u,l,s))return o;r+=2}else{if(!rA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function d_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ic(o)){let u=Bj(o.outlets);return new Se(r,u)}if(i===0&&vh(t[0])){let u=n.segments[e];r.push(new no(u.path,nA(t[0]))),i++;continue}let s=Ic(o)?o.outlets[ue]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&vh(a)?(r.push(new no(s,nA(a))),i+=2):(r.push(new no(s,{})),i++)}return new Se(r,{})}function Bj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=d_(new Se([],{}),0,r))}),e}function nA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function rA(n,e,t){return n==t.path&&Yn(e,t.parameters)}var wc="imperative",at=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(at||{}),un=class{constructor(e,t){this.id=e,this.url=t}},xs=class extends un{constructor(e,t,r="imperative",i=null){super(e,t),this.type=at.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Sn=class extends un{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=at.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Zt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Zt||{}),wh=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(wh||{}),Mr=class extends un{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=at.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ai=class extends un{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=at.NavigationSkipped}},Cc=class extends un{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=at.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Eh=class extends un{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=at.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},h_=class extends un{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=at.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},f_=class extends un{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=at.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},p_=class extends un{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=at.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},g_=class extends un{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=at.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},m_=class{constructor(e){this.route=e,this.type=at.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},y_=class{constructor(e){this.route=e,this.type=at.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},v_=class{constructor(e){this.snapshot=e,this.type=at.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},__=class{constructor(e){this.snapshot=e,this.type=at.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},w_=class{constructor(e){this.snapshot=e,this.type=at.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},E_=class{constructor(e){this.snapshot=e,this.type=at.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ih=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=at.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Dc=class{},Ms=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function $j(n,e){return n.providers&&!n._injector&&(n._injector=id(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Tn(n){return n.outlet||ue}function zj(n,e){let t=n.filter(r=>Tn(r)===e);return t.push(...n.filter(r=>Tn(r)!==e)),t}function Pc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var I_=class{get injector(){return Pc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Nc(this.rootInjector),this.attachRef=null}},Nc=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new I_(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)($(Nt))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ch=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=C_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=C_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=D_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return D_(e,this._root).map(t=>t.value)}};function C_(n,e){if(n===e.value)return e;for(let t of e.children){let r=C_(n,t);if(r)return r}return null}function D_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=D_(n,t);if(r.length)return r.unshift(e),r}return[]}var Yt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Cs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Dh=class extends Ch{constructor(e,t){super(e),this.snapshot=t,N_(this,e)}toString(){return this.snapshot.toString()}};function DA(n){let e=Hj(n),t=new Be([new no("",{})]),r=new Be({}),i=new Be({}),o=new Be({}),s=new Be(""),a=new Zn(t,r,o,s,i,ue,n,e.root);return a.snapshot=e.root,new Dh(new Yt(a,[]),e)}function Hj(n){let e={},t={},r={},i="",o=new bs([],e,r,i,t,ue,n,null,{});return new Th("",new Yt(o,[]))}var Zn=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ee(l=>l[Mc]))??Q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Ss(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Ss(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),i?.data),n._resolvedData)}:r={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},i&&TA(i)&&(r.resolve[Mc]=i.title),r}var bs=class{get title(){return this.data?.[Mc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ss(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ss(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Th=class extends Ch{constructor(e,t){super(t),this.url=e,N_(this,t)}toString(){return bA(this._root)}};function N_(n,e){e.value._routerState=n,e.children.forEach(t=>N_(n,t))}function bA(n){let e=n.children.length>0?` { ${n.children.map(bA).join(", ")} } `:"";return`${n.value}${e}`}function o_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Yn(e.params,t.params)||n.paramsSubject.next(t.params),yj(e.url,t.url)||n.urlSubject.next(t.url),Yn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function b_(n,e){let t=Yn(n.params,e.params)&&Ej(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||b_(n.parent,e.parent))}function TA(n){return typeof n.title=="string"||n.title===null}var O_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new He,this.deactivateEvents=new He,this.attachEvents=new He,this.detachEvents=new He,this.parentContexts=N(Nc),this.location=N(Wr),this.changeDetector=N(Kr),this.inputBinder=N(Mh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Y(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new T_(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ke({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wn]})}}return n})(),T_=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Zn?this.route:e===Nc?this.childContexts:this.parent.get(e,t)}},Mh=new B(""),iA=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=cr([r.queryParams,r.params,r.data]).pipe(Ae(([o,s,a],u)=>(a=U(U(U({},o),s),a),u===0?Q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=HD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function qj(n,e,t){let r=bc(n,e._root,t?t._root:void 0);return new Dh(r,e)}function bc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Gj(n,e,t);return new Yt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>bc(n,a)),s}}let r=Wj(e.value),i=e.children.map(o=>bc(n,o));return new Yt(r,i)}}function Gj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return bc(n,r,i);return bc(n,r)})}function Wj(n){return new Zn(new Be(n.url),new Be(n.params),new Be(n.queryParams),new Be(n.fragment),new Be(n.data),n.outlet,n.component,n)}var Tc=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},SA="ngNavigationCancelingError";function Sh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=io(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=AA(!1,Zt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function AA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[SA]=!0,t.cancellationCode=e,t}function Kj(n){return xA(n)&&io(n.url)}function xA(n){return!!n&&n[SA]}var Qj=(n,e,t,r)=>ee(i=>(new S_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),S_=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),o_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Cs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Cs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Cs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Cs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new E_(o.value.snapshot))}),e.children.length&&this.forwardEvent(new __(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(o_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),o_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ah=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ts=class{constructor(e,t){this.component=e,this.route=t}};function Yj(n,e,t){let r=n._root,i=e?e._root:null;return yc(r,i,t,[r.value])}function Zj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ps(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!KE(n)?n:e.get(n):r}function yc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Cs(e);return n.children.forEach(s=>{Jj(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ec(a,t.getContext(s),i)),i}function Jj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Xj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ah(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?yc(n,e,a?a.children:null,r,i):yc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ts(a.outlet.component,s))}else s&&Ec(e,a,i),i.canActivateChecks.push(new Ah(r)),o.component?yc(n,null,a?a.children:null,r,i):yc(n,null,t,r,i);return i}function Xj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ro(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ro(n.url,e.url)||!Yn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!b_(n,e)||!Yn(n.queryParams,e.queryParams);case"paramsChange":default:return!b_(n,e)}}function Ec(n,e,t){let r=Cs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ec(s,e.children.getContext(o),t):Ec(s,null,t):Ec(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ts(e.outlet.component,i)):t.canDeactivateChecks.push(new Ts(null,i)):t.canDeactivateChecks.push(new Ts(null,i))}function Oc(n){return typeof n=="function"}function eU(n){return typeof n=="boolean"}function tU(n){return n&&Oc(n.canLoad)}function nU(n){return n&&Oc(n.canActivate)}function rU(n){return n&&Oc(n.canActivateChild)}function iU(n){return n&&Oc(n.canDeactivate)}function oU(n){return n&&Oc(n.canMatch)}function MA(n){return n instanceof ar||n?.name==="EmptyError"}var ph=Symbol("INITIAL_VALUE");function Rs(){return Ae(n=>cr(n.map(e=>e.pipe(lr(1),Yu(ph)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===ph)return ph;if(t===!1||sU(t))return t}return!0}),ut(e=>e!==ph),lr(1)))}function sU(n){return io(n)||n instanceof Tc}function aU(n,e){return Ze(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Q(me(U({},t),{guardsResult:!0})):cU(s,r,i,n).pipe(Ze(a=>a&&eU(a)?uU(r,o,n,e):Q(a)),ee(a=>me(U({},t),{guardsResult:a})))})}function cU(n,e,t,r){return de(n).pipe(Ze(i=>pU(i.component,i.route,t,e,r)),zt(i=>i!==!0,!0))}function uU(n,e,t,r){return de(e).pipe(ur(i=>Io(dU(i.route.parent,r),lU(i.route,r),fU(n,i.path,t),hU(n,i.route,t))),zt(i=>i!==!0,!0))}function lU(n,e){return n!==null&&e&&e(new w_(n)),Q(!0)}function dU(n,e){return n!==null&&e&&e(new v_(n)),Q(!0)}function hU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>Gu(()=>{let s=Pc(e)??t,a=Ps(o,s),u=nU(a)?a.canActivate(e,n):on(s,()=>a(e,n));return ci(u).pipe(zt())}));return Q(i).pipe(Rs())}function fU(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Zj(s)).filter(s=>s!==null).map(s=>Gu(()=>{let a=s.guards.map(u=>{let l=Pc(s.node)??t,h=Ps(u,l),p=rU(h)?h.canActivateChild(r,n):on(l,()=>h(r,n));return ci(p).pipe(zt())});return Q(a).pipe(Rs())}));return Q(o).pipe(Rs())}function pU(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let u=Pc(e)??i,l=Ps(a,u),h=iU(l)?l.canDeactivate(n,e,t,r):on(u,()=>l(n,e,t,r));return ci(h).pipe(zt())});return Q(s).pipe(Rs())}function gU(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let a=Ps(s,n),u=tU(a)?a.canLoad(e,t):on(n,()=>a(e,t));return ci(u)});return Q(o).pipe(Rs(),RA(r))}function RA(n){return Tu(Ye(e=>{if(typeof e!="boolean")throw Sh(n,e)}),ee(e=>e===!0))}function mU(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let a=Ps(s,n),u=oU(a)?a.canMatch(e,t):on(n,()=>a(e,t));return ci(u)});return Q(o).pipe(Rs(),RA(r))}var Sc=class{constructor(e){this.segmentGroup=e||null}},Ac=class extends Error{constructor(e){super(),this.urlTree=e}};function Is(n){return Eo(new Sc(n))}function yU(n){return Eo(new Y(4e3,!1))}function vU(n){return Eo(AA(!1,Zt.GuardRejected))}var A_=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[ue])return yU(`${e.redirectTo}`);i=i.children[ue]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:v,data:S,title:P}=i,x=on(o,()=>a({params:v,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:P}));if(x instanceof Rr)throw new Ac(x);t=x}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Ac(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Rr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Se(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Y(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},x_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _U(n,e,t,r,i){let o=PA(n,e,t);return o.matched?(r=$j(e,r),mU(r,e,t,i).pipe(ee(s=>s===!0?o:U({},x_)))):Q(o)}function PA(n,e,t){if(e.path==="**")return wU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},x_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||mj)(t,n,e);if(!i)return U({},x_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function wU(n){return{matched:!0,parameters:n.length>0?dA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function oA(n,e,t,r){return t.length>0&&CU(n,t,r)?{segmentGroup:new Se(e,IU(r,new Se(t,n.children))),slicedSegments:[]}:t.length===0&&DU(n,t,r)?{segmentGroup:new Se(n.segments,EU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Se(n.segments,n.children),slicedSegments:t}}function EU(n,e,t,r){let i={};for(let o of t)if(Rh(n,e,o)&&!r[Tn(o)]){let s=new Se([],{});i[Tn(o)]=s}return U(U({},r),i)}function IU(n,e){let t={};t[ue]=e;for(let r of n)if(r.path===""&&Tn(r)!==ue){let i=new Se([],{});t[Tn(r)]=i}return t}function CU(n,e,t){return t.some(r=>Rh(n,e,r)&&Tn(r)!==ue)}function DU(n,e,t){return t.some(r=>Rh(n,e,r))}function Rh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function bU(n,e,t){return e.length===0&&!n.children[t]}var M_=class{};function TU(n,e,t,r,i,o,s="emptyOnly"){return new R_(n,e,t,r,i,s,o).recognize()}var SU=31,R_=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new A_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Y(4002,`'${e.segmentGroup}'`)}recognize(){let e=oA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:t,rootSnapshot:r})=>{let i=new Yt(r,t),o=new Th("",i),s=kj(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new bs([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ue,t).pipe(ee(r=>({children:r,rootSnapshot:t})),Pn(r=>{if(r instanceof Ac)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Sc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ee(s=>s instanceof Yt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return de(o).pipe(ur(s=>{let a=r.children[s],u=zj(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Ku((s,a)=>(s.push(...a),s)),Vr(null),rp(),Ze(s=>{if(s===null)return Is(r);let a=NA(s);return AU(a),Q(a)}))}processSegment(e,t,r,i,o,s,a){return de(t).pipe(ur(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Pn(l=>{if(l instanceof Sc)return Q(null);throw l}))),zt(u=>!!u),Pn(u=>{if(MA(u))return bU(r,i,o)?Q(new M_):Is(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Tn(r)!==s&&(s===ue||!Rh(i,o,r))?Is(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Is(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=PA(t,i,o);if(!u)return Is(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>SU&&(this.allowRedirects=!1));let v=new bs(o,l,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,sA(i),Tn(i),i.component??i._loadedComponent??null,i,aA(i)),S=bh(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let P=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(Ze(x=>this.processSegment(e,r,t,x.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=_U(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ae(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ae(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new bs(m,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,sA(r),Tn(r),r.component??r._loadedComponent??null,r,aA(r)),P=bh(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(P.params),S.data=Object.freeze(P.data);let{segmentGroup:x,slicedSegments:F}=oA(t,m,v,l);if(F.length===0&&x.hasChildren())return this.processChildren(h,l,x,S).pipe(ee(V=>new Yt(S,V)));if(l.length===0&&F.length===0)return Q(new Yt(S,[]));let G=Tn(r)===o;return this.processSegment(h,l,x,F,G?ue:o,!0,S).pipe(ee(V=>new Yt(S,V instanceof Yt?[V]:[])))}))):Is(t)))}getChildConfig(e,t,r){return t.children?Q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Q({routes:t._loadedRoutes,injector:t._loadedInjector}):gU(e,t,r,this.urlSerializer).pipe(Ze(i=>i?this.configLoader.loadChildren(e,t).pipe(Ye(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):vU(t))):Q({routes:[],injector:e})}};function AU(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}function xU(n){let e=n.value.routeConfig;return e&&e.path===""}function NA(n){let e=[],t=new Set;for(let r of n){if(!xU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=NA(r.children);e.push(new Yt(r.value,i))}return e.filter(r=>!t.has(r))}function sA(n){return n.data||{}}function aA(n){return n.resolve||{}}function MU(n,e,t,r,i,o){return Ze(s=>TU(n,e,t,r,s.extractedUrl,i,o).pipe(ee(({state:a,tree:u})=>me(U({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function RU(n,e){return Ze(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of OA(u))s.add(l);let a=0;return de(s).pipe(ur(u=>o.has(u)?PU(u,r,n,e):(u.data=bh(u,u.parent,n).resolve,Q(void 0))),Ye(()=>a++),Co(1),Ze(u=>a===s.size?Q(t):xt))})}function OA(n){let e=n.children.map(t=>OA(t)).flat();return[n,...e]}function PU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!TA(i)&&(o[Mc]=i.title),NU(o,n,e,r).pipe(ee(s=>(n._resolvedData=s,n.data=bh(n,n.parent,t).resolve,null)))}function NU(n,e,t,r){let i=c_(n);if(i.length===0)return Q({});let o={};return de(i).pipe(Ze(s=>OU(n[s],e,t,r).pipe(zt(),Ye(a=>{if(a instanceof Tc)throw Sh(new As,a);o[s]=a}))),Co(1),np(o),Pn(s=>MA(s)?xt:Eo(s)))}function OU(n,e,t,r){let i=Pc(e)??r,o=Ps(n,i),s=o.resolve?o.resolve(e,t):on(i,()=>o(e,t));return ci(s)}function s_(n){return Ae(e=>{let t=n(e);return t?de(t).pipe(ee(()=>e)):Q(e)})}var kA=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[Mc]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>N(kU),providedIn:"root"})}}return n})(),kU=(()=>{class n extends kA{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)($(Rb))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kc=new B("",{providedIn:"root",factory:()=>({})}),FU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Oe({type:n,selectors:[["ng-component"]],standalone:!0,features:[Fe],decls:1,vars:0,template:function(r,i){r&1&&Z(0,"router-outlet")},dependencies:[O_],encapsulation:2})}}return n})();function k_(n){let e=n.children&&n.children.map(k_),t=e?me(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=FU),t}var xc=new B(""),F_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(ud)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ci(t.loadComponent()).pipe(ee(FA),Ye(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ei(()=>{this.componentLoaders.delete(t)})),i=new yo(r,()=>new Ue).pipe(mo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=VU(r,this.compiler,t,this.onLoadEndListener).pipe(Ei(()=>{this.childrenLoaders.delete(r)})),s=new yo(o,()=>new Ue).pipe(mo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function VU(n,e,t,r){return ci(n.loadChildren()).pipe(ee(FA),Ze(i=>i instanceof Ia||Array.isArray(i)?Q(i):de(e.compileModuleAsync(i))),ee(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(xc,[],{optional:!0,self:!0}).flat()),{routes:s.map(k_),injector:o}}))}function LU(n){return n&&typeof n=="object"&&"default"in n}function FA(n){return LU(n)?n.default:n}var V_=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>N(jU),providedIn:"root"})}}return n})(),jU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),VA=new B(""),LA=new B("");function UU(n,e,t){let r=n.get(LA),i=n.get(It);return n.get(_e).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),BU(n))),{onViewTransitionCreated:u}=r;return u&&on(n,()=>u({transition:a,from:e,to:t})),s})}function BU(n){return new Promise(e=>{um({read:()=>setTimeout(e)},{injector:n})})}var $U=new B(""),L_=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ue,this.transitionAbortSubject=new Ue,this.configLoader=N(F_),this.environmentInjector=N(Nt),this.urlSerializer=N(Rc),this.rootContexts=N(Nc),this.location=N(Qo),this.inputBindingEnabled=N(Mh,{optional:!0})!==null,this.titleStrategy=N(kA),this.options=N(kc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(V_),this.createViewTransition=N(VA,{optional:!0}),this.navigationErrorHandler=N($U,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null;let t=i=>this.events.next(new m_(i)),r=i=>this.events.next(new y_(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(me(U(U({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Be({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:wc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ut(o=>o.id!==0),ee(o=>me(U({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ae(o=>{let s=!1,a=!1;return Q(o).pipe(Ae(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Zt.SupersededByNewNavigation),xt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?me(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new ai(u.id,this.urlSerializer.serialize(u.rawUrl),p,wh.IgnoredSameUrlNavigation)),u.resolve(!1),xt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Q(u).pipe(Ae(p=>{let m=this.transitions?.getValue();return this.events.next(new xs(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?xt:Promise.resolve(p)}),MU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ye(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=me(U({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new Eh(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:v,restoredState:S,extras:P}=u,x=new xs(p,this.urlSerializer.serialize(m),v,S);this.events.next(x);let F=DA(this.rootComponentType).snapshot;return this.currentTransition=o=me(U({},u),{targetSnapshot:F,urlAfterRedirects:m,extras:me(U({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,Q(o)}else{let p="";return this.events.next(new ai(u.id,this.urlSerializer.serialize(u.extractedUrl),p,wh.IgnoredByUrlHandlingStrategy)),u.resolve(!1),xt}}),Ye(u=>{let l=new h_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ee(u=>(this.currentTransition=o=me(U({},u),{guards:Yj(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),aU(this.environmentInjector,u=>this.events.next(u)),Ye(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Sh(this.urlSerializer,u.guardsResult);let l=new f_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),ut(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Zt.GuardRejected),!1)),s_(u=>{if(u.guards.canActivateChecks.length)return Q(u).pipe(Ye(l=>{let h=new p_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Ae(l=>{let h=!1;return Q(l).pipe(RU(this.paramsInheritanceStrategy,this.environmentInjector),Ye({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Zt.NoDataFromResolver)}}))}),Ye(l=>{let h=new g_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),s_(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ye(m=>{h.component=m}),ee(()=>{})));for(let m of h.children)p.push(...l(m));return p};return cr(l(u.targetSnapshot.root)).pipe(Vr(null),lr(1))}),s_(()=>this.afterPreactivation()),Ae(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?de(h).pipe(ee(()=>o)):Q(o)}),ee(u=>{let l=qj(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=me(U({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ye(()=>{this.events.next(new Dc)}),Qj(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),lr(1),Ye({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),op(this.transitionAbortSubject.pipe(Ye(u=>{throw u}))),Ei(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Zt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Pn(u=>{if(a=!0,xA(u))this.events.next(new Mr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),Kj(u)?this.events.next(new Ms(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Cc(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=on(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Tc){let{message:p,cancellationCode:m}=Sh(this.urlSerializer,h);this.events.next(new Mr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,m)),this.events.next(new Ms(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return xt}))}))}cancelNavigationTransition(t,r,i){let o=new Mr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zU(n){return n!==wc}var HU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>N(qU),providedIn:"root"})}}return n})(),P_=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},qU=(()=>{class n extends P_{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=jn(n)))(i||n)}})()}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:()=>N(GU),providedIn:"root"})}}return n})(),GU=(()=>{class n extends jA{constructor(){super(...arguments),this.location=N(Qo),this.urlSerializer=N(Rc),this.options=N(kc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(V_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Rr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=DA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof xs)this.stateMemento=this.createStateMemento();else if(t instanceof ai)this.rawUrlTree=r.initialUrl;else if(t instanceof Eh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Dc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Mr&&(t.code===Zt.GuardRejected||t.code===Zt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Cc?this.restoreHistory(r,!0):t instanceof Sn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Rr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=U(U({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=jn(n)))(i||n)}})()}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(vc||{});function UA(n,e){n.events.pipe(ut(t=>t instanceof Sn||t instanceof Mr||t instanceof Cc||t instanceof ai),ee(t=>t instanceof Sn||t instanceof ai?vc.COMPLETE:(t instanceof Mr?t.code===Zt.Redirect||t.code===Zt.SupersededByNewNavigation:!1)?vc.REDIRECTING:vc.FAILED),ut(t=>t!==vc.REDIRECTING),lr(1)).subscribe(()=>{e()})}function WU(n){throw n}var KU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},QU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Me=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=N(sd),this.stateManager=N(jA),this.options=N(kc,{optional:!0})||{},this.pendingTasks=N(Gr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(L_),this.urlSerializer=N(Rc),this.location=N(Qo),this.urlHandlingStrategy=N(V_),this._events=new Ue,this.errorHandler=this.options.errorHandler||WU,this.navigated=!1,this.routeReuseStrategy=N(HU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(xc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(Mh,{optional:!0}),this.eventsSubscription=new Ke,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Mr&&r.code!==Zt.Redirect&&r.code!==Zt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Sn)this.navigated=!0;else if(r instanceof Ms){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||zU(i.source)},s);this.scheduleNavigation(a,wc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}ZU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=U({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(k_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=wA(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return EA(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=io(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,wc,null,r)}navigate(t,r={skipLocationChange:!1}){return YU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=U({},KU):r===!1?i=U({},QU):i=r,io(t))return eA(this.currentUrlTree,t,i);let o=this.parseUrl(t);return eA(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return UA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function YU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Y(4008,!1)}function ZU(n){return!(n instanceof Dc)&&!(n instanceof Ms)}var ln=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Ue,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Sn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(io(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:EC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:io(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(z(Me),z(Zn),Fg("tabindex"),z(En),z(Ft),z(Er))}}static{this.\u0275dir=ke({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Ie("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&qo("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Qr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Qr],replaceUrl:[2,"replaceUrl","replaceUrl",Qr],routerLink:"routerLink"},standalone:!0,features:[am,wn]})}}return n})(),Jn=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new He,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Sn&&this.update()})}ngAfterContentInit(){Q(this.links.changes,Q(null)).pipe(Rn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=de(t).pipe(Rn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=JU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(z(Me),z(Ft),z(En),z(Kr),z(ln,8))}}static{this.\u0275dir=ke({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&SD(o,ln,5),r&2){let s;AD(s=xD())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[wn]})}}return n})();function JU(n){return!!n.paths}var xh=class{};var XU=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ut(t=>t instanceof Sn),ur(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=id(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return de(i).pipe(Rn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Q(null);let o=i.pipe(Ze(s=>s===null?Q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return de([o,s]).pipe(Rn())}else return o})}static{this.\u0275fac=function(r){return new(r||n)($(Me),$(ud),$(Nt),$(xh),$(F_))}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),BA=new B(""),eB=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof xs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Sn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ai&&t.code===wh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ih&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ih(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){kC()}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac})}}return n})();function j_(n,...e){return Gt([{provide:xc,multi:!0,useValue:n},[],{provide:Zn,useFactory:$A,deps:[Me]},{provide:Li,multi:!0,useFactory:zA},e.map(t=>t.\u0275providers)])}function $A(n){return n.routerState.root}function Fc(n,e){return{\u0275kind:n,\u0275providers:e}}function zA(){let n=N(dt);return e=>{let t=n.get($n);if(e!==t.components[0])return;let r=n.get(Me),i=n.get(HA);n.get(U_)===1&&r.initialNavigation(),n.get(qA,null,he.Optional)?.setUpPreloading(),n.get(BA,null,he.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var HA=new B("",{factory:()=>new Ue}),U_=new B("",{providedIn:"root",factory:()=>1});function tB(){return Fc(2,[{provide:U_,useValue:0},{provide:ad,multi:!0,deps:[dt],useFactory:e=>{let t=e.get(JD,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Me),o=e.get(HA);UA(i,()=>{r(!0)}),e.get(L_).afterPreactivation=()=>(r(!0),o.closed?Q(void 0):o),i.initialNavigation()}))}}])}function nB(){return Fc(3,[{provide:ad,multi:!0,useFactory:()=>{let e=N(Me);return()=>{e.setUpLocationChangeListener()}}},{provide:U_,useValue:2}])}var qA=new B("");function rB(n){return Fc(0,[{provide:qA,useExisting:XU},{provide:xh,useExisting:n}])}function iB(){return Fc(8,[iA,{provide:Mh,useExisting:iA}])}function oB(n){let e=[{provide:VA,useValue:UU},{provide:LA,useValue:U({skipNextTransition:!!n?.skipInitialTransition},n)}];return Fc(9,e)}var cA=new B("ROUTER_FORROOT_GUARD"),sB=[Qo,{provide:Rc,useClass:As},Me,Nc,{provide:Zn,useFactory:$A,deps:[Me]},F_,[]],dn=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[sB,[],{provide:xc,multi:!0,useValue:t},{provide:cA,useFactory:lB,deps:[[Me,new _t,new Eg]]},{provide:kc,useValue:r||{}},r?.useHash?cB():uB(),aB(),r?.preloadingStrategy?rB(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?dB(r):[],r?.bindToComponentInputs?iB().\u0275providers:[],r?.enableViewTransitions?oB().\u0275providers:[],hB()]}}static forChild(t){return{ngModule:n,providers:[{provide:xc,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)($(cA,8))}}static{this.\u0275mod=st({type:n})}static{this.\u0275inj=ot({})}}return n})();function aB(){return{provide:BA,useFactory:()=>{let n=N(nb),e=N(_e),t=N(kc),r=N(L_),i=N(Rc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new eB(i,r,n,e,t)}}}function cB(){return{provide:Er,useClass:eb}}function uB(){return{provide:Er,useClass:Em}}function lB(n){return"guarded"}function dB(n){return[n.initialNavigation==="disabled"?nB().\u0275providers:[],n.initialNavigation==="enabledBlocking"?tB().\u0275providers:[]]}var uA=new B("");function hB(){return[{provide:uA,useFactory:zA},{provide:Li,multi:!0,useExisting:uA}]}var GA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Oe({type:n,selectors:[["app-pagenotfound"]],standalone:!0,features:[Fe],decls:4,vars:0,consts:[["routerLink","/","routerLinkActive","active"]],template:function(r,i){r&1&&(T(0,"p"),R(1," Go BACK HOME "),A(),T(2,"button",0),R(3,` Home
`),A())},dependencies:[ln,dn,Jn]})}return n})();function fB(n,e){if(n&1){let t=In();T(0,"div")(1,"button",8),Ie("click",function(){Ot(t);let i=qe();return kt(i.AddtoCart())}),R(2,"Ajouter au panier"),A()()}}function pB(n,e){n&1&&(T(0,"div"),R(1," Non Disponible "),A())}var WA=(()=>{class n{panier;route;product;constructor(t,r){this.panier=t,this.route=r}AddtoCart(){this.panier.addProductToCart(this.product)}goToProductDetails(t){this.route.navigate(["/product",t])}static \u0275fac=function(r){return new(r||n)(z(si),z(Me))};static \u0275cmp=Oe({type:n,selectors:[["app-productitem"]],inputs:{product:"product"},standalone:!0,features:[Fe],decls:13,vars:6,consts:[[1,"product-card"],[1,"card-img-top",3,"click","src"],[1,"card-body"],[1,"card-title"],[3,"click"],[1,"card-text"],[1,"card-footer"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"]],template:function(r,i){r&1&&(T(0,"div",0)(1,"img",1),Ie("click",function(){return i.goToProductDetails(i.product.id)}),A(),T(2,"div",2)(3,"h5",3)(4,"a",4),Ie("click",function(){return i.goToProductDetails(i.product.id)}),R(5),A()(),T(6,"p",5),R(7),A(),T(8,"p",5),R(9),A()(),T(10,"div",6),$e(11,fB,3,0,"div",7)(12,pB,2,0,"div",7),A()()),r&2&&(H(),Ee("src",i.product.images[0],yr),H(4),Te(" ",i.product.title," "),H(2),Te("Price: ",i.product.price," USD"),H(2),Je(i.product.description),H(2),Ee("ngIf",i.product.stock>0),H(),Ee("ngIf",i.product.stock==0))},dependencies:[Yo],styles:[".container[_ngcontent-%COMP%]{margin-top:20px}.product-card[_ngcontent-%COMP%]{width:220px;height:400px;margin:0 10px;display:flex;flex-direction:column;justify-content:space-between;border-radius:10px;transition:transform .3s ease,box-shadow .3s ease}.product-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 15px #00000026;transform:translateY(-5px)}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:150px;object-fit:cover;border-radius:10px 10px 0 0;transition:transform .3s ease}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.card-body[_ngcontent-%COMP%]{background-color:transparent;padding:15px;max-height:200px;overflow-y:auto;-ms-overflow-style:none;scrollbar-width:none}[_ngcontent-%COMP%]:scope::-webkit-scrollbar{display:none}:is()   .card-title[_ngcontent-%COMP%]{font-weight:700;color:#4bc305;margin-bottom:10px}:is()   .card-text[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:10px;flex-grow:1}.card-footer[_ngcontent-%COMP%]{background-color:transparent;text-align:center;padding:10px 0;color:red;text-decoration:line-through}.card-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#000;border:none;border-radius:30px;color:#fff;padding:8px 15px;font-size:18px;transition:background-color .3s ease}.card-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#4dff00ec}.card-title[_ngcontent-%COMP%]{color:#0f0f11ec}"]})}return n})();var ui=(()=>{class n{email="UNIVERSO@gmail.com";static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Oe({type:n,selectors:[["app-footer"]],standalone:!0,features:[Fe],decls:40,vars:1,consts:[[1,"footer"],[1,"container"],[1,"row"],[1,"col-md-4"],[1,"footer-links"],["routerLink","/home","routerLinkActive","active"],["routerLink","/contactus","routerLinkActive","active"],["routerLink","/about","routerLinkActive","active"],[1,"social-links"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-square-x-twitter"],[1,"fa-brands","fa-instagram"],[1,"footer-bottom"]],template:function(r,i){r&1&&(T(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5"),R(5,"About Us"),A(),T(6,"p"),R(7," We are an online store offering a wide range of products from sports, beauty, furniture, tablets, laptops, and much more. "),A()(),T(8,"div",3)(9,"h5"),R(10,"Quick Links"),A(),T(11,"ul",4)(12,"li")(13,"a",5),R(14,"Home"),A()(),T(15,"li")(16,"a",6),R(17,"Contact Us"),A()(),T(18,"li")(19,"a",7),R(20,"About Us"),A()()()(),T(21,"div",3)(22,"h5"),R(23,"Contact Us"),A(),T(24,"p"),R(25),Z(26,"br"),R(27," Phone: +212 689 802 208 "),Z(28,"br"),R(29," Address: Rabat Agdal, Morocco. "),A(),T(30,"div",8)(31,"a"),Z(32,"i",9),A(),T(33,"a"),Z(34,"i",10),A(),T(35,"a"),Z(36,"i",11),A()()()()(),T(37,"div",12)(38,"p"),R(39,"\xA9 2024 UNIVERSO. All rights reserved."),A()()()),r&2&&(H(25),Te(" ",i.email," "))},dependencies:[dn,ln,Jn],styles:[".footer[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:40px 0;color:#333}.footer[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:20px}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#6c757d}.footer-links[_ngcontent-%COMP%]{list-style:none;padding:0}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4bc305;text-decoration:none}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.social-links[_ngcontent-%COMP%]{margin-top:20px}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;color:#4bc305;margin-right:15px;transition:color .3s}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#333}.footer-bottom[_ngcontent-%COMP%]{text-align:center;padding:15px 0;background-color:#e9ecef;font-size:14px;color:#6c757d}"]})}return n})();var Ns=(()=>{class n{http;constructor(t){this.http=t}productsAPI="https://dummyjson.com/products";categoriesAPI="https://dummyjson.com/products/category-list";searchResults$;getProducts(){return this.http.get(this.productsAPI)}getCategoriesOfProducts(){return this.http.get(this.categoriesAPI)}getProductById(t){return this.http.get(`https://dummyjson.com/products/${t}`)}static \u0275fac=function(r){return new(r||n)($(Ir))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Os=(()=>{class n{http;searchTermSubject=new Be("");searchTerm$=this.searchTermSubject.asObservable();categorySubject=new Be("");category$=this.categorySubject.asObservable();constructor(t){this.http=t,cr([this.searchTerm$,this.category$]).pipe(tp(300),Ae(([r,i])=>this.searchProducts(r,i))).subscribe(r=>{console.log("Search results:",r)})}setSearchTerm(t){this.searchTermSubject.next(t)}setCategory(t){this.categorySubject.next(t)}searchProducts(t,r){let i=`https://dummyjson.com/products/search?q=${t}`;return r&&(i=`https://dummyjson.com/products/category/${r}`),this.http.get(i)}static \u0275fac=function(r){return new(r||n)($(Ir))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gB(n,e){if(n&1&&(T(0,"div",5),Z(1,"app-productitem",6),A()),n&2){let t=e.$implicit;H(),Ee("product",t)}}function mB(n,e){if(n&1&&(T(0,"div")(1,"div",3),$e(2,gB,2,1,"div",4),A()()),n&2){let t=qe();H(2),Ee("ngForOf",t.filtredproducts)}}function yB(n,e){n&1&&(T(0,"div",0)(1,"div",7),Z(2,"img",8),T(3,"h3"),R(4,"We are sorry "),A(),T(5,"h5"),R(6,"What are you Looking for is not Available "),A(),T(7,"h5"),R(8,"You can Always search again "),A()()())}var KA=(()=>{class n{productsService;searchService;route;filtredproducts=[];constructor(t,r,i){this.productsService=t,this.searchService=r,this.route=i}ngOnInit(){cr([this.searchService.searchTerm$,this.searchService.category$]).subscribe(([t,r])=>{t||r?this.searchService.searchProducts(t,r).subscribe(i=>{this.filtredproducts=i.products}):this.productsService.getProducts().subscribe(i=>{this.filtredproducts=i.products})})}static \u0275fac=function(r){return new(r||n)(z(Ns),z(Os),z(Me))};static \u0275cmp=Oe({type:n,selectors:[["app-listproducts"]],standalone:!0,features:[Fe],decls:4,vars:2,consts:[[1,"container"],[4,"ngIf"],["class","container",4,"ngIf"],[1,"row"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],[3,"product"],[1,"not-avaliable"],["src","unv.png"]],template:function(r,i){r&1&&(T(0,"div",0),$e(1,mB,3,1,"div",1),A(),$e(2,yB,9,0,"div",2),Z(3,"app-footer")),r&2&&(H(),Ee("ngIf",i.filtredproducts.length>0),H(),Ee("ngIf",i.filtredproducts.length==0))},dependencies:[WA,Im,an,Yo,ui],styles:[".not-avaliable[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.not-avaliable[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%}.not-avaliable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .not-avaliable[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#333;margin:10px 0}"]})}return n})();var ix=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(z(En),z(Ft))}}static{this.\u0275dir=ke({type:n})}}return n})(),Bh=(()=>{class n extends ix{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=jn(n)))(i||n)}})()}static{this.\u0275dir=ke({type:n,features:[Lt]})}}return n})(),Ls=new B("");var vB={provide:Ls,useExisting:rn(()=>Xn),multi:!0};function _B(){let n=wr()?wr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var wB=new B(""),Xn=(()=>{class n extends ix{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!_B())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(z(En),z(Ft),z(wB,8))}}static{this.\u0275dir=ke({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ie("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Bn([vB]),Lt]})}}return n})();function li(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function ox(n){return n!=null&&typeof n.length=="number"}var $c=new B(""),Q_=new B(""),EB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Pr=class{static min(e){return sx(e)}static max(e){return IB(e)}static required(e){return ax(e)}static requiredTrue(e){return CB(e)}static email(e){return DB(e)}static minLength(e){return bB(e)}static maxLength(e){return TB(e)}static pattern(e){return SB(e)}static nullValidator(e){return Nh(e)}static compose(e){return fx(e)}static composeAsync(e){return gx(e)}};function sx(n){return e=>{if(li(e.value)||li(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function IB(n){return e=>{if(li(e.value)||li(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function ax(n){return li(n.value)?{required:!0}:null}function CB(n){return n.value===!0?null:{required:!0}}function DB(n){return li(n.value)||EB.test(n.value)?null:{email:!0}}function bB(n){return e=>li(e.value)||!ox(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function TB(n){return e=>ox(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function SB(n){if(!n)return Nh;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(li(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Nh(n){return null}function cx(n){return n!=null}function ux(n){return Vi(n)?de(n):n}function lx(n){let e={};return n.forEach(t=>{e=t!=null?U(U({},e),t):e}),Object.keys(e).length===0?null:e}function dx(n,e){return e.map(t=>t(n))}function AB(n){return!n.validate}function hx(n){return n.map(e=>AB(e)?e:t=>e.validate(t))}function fx(n){if(!n)return null;let e=n.filter(cx);return e.length==0?null:function(t){return lx(dx(t,e))}}function px(n){return n!=null?fx(hx(n)):null}function gx(n){if(!n)return null;let e=n.filter(cx);return e.length==0?null:function(t){let r=dx(t,e).map(ux);return Xf(r).pipe(ee(lx))}}function mx(n){return n!=null?gx(hx(n)):null}function QA(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function yx(n){return n._rawValidators}function vx(n){return n._rawAsyncValidators}function z_(n){return n?Array.isArray(n)?n:[n]:[]}function Oh(n,e){return Array.isArray(n)?n.includes(e):n===e}function YA(n,e){let t=z_(e);return z_(n).forEach(i=>{Oh(t,i)||t.push(i)}),t}function ZA(n,e){return z_(e).filter(t=>!Oh(n,t))}var kh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=px(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},oo=class extends kh{get formDirective(){return null}get path(){return null}},so=class extends kh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Fh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},xB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},EK=me(U({},xB),{"[class.ng-submitted]":"isSubmitted"}),hi=(()=>{class n extends Fh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(z(so,2))}}static{this.\u0275dir=ke({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&od("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Lt]})}}return n})(),$h=(()=>{class n extends Fh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(z(oo,10))}}static{this.\u0275dir=ke({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&od("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Lt]})}}return n})();var Vc="VALID",Ph="INVALID",ks="PENDING",Lc="DISABLED",di=class{},Vh=class extends di{constructor(e,t){super(),this.value=e,this.source=t}},jc=class extends di{constructor(e,t){super(),this.pristine=e,this.source=t}},Uc=class extends di{constructor(e,t){super(),this.touched=e,this.source=t}},Fs=class extends di{constructor(e,t){super(),this.status=e,this.source=t}},H_=class extends di{constructor(e){super(),this.source=e}},q_=class extends di{constructor(e){super(),this.source=e}};function Y_(n){return(zh(n)?n.validators:n)||null}function MB(n){return Array.isArray(n)?px(n):n||null}function Z_(n,e){return(zh(e)?e.asyncValidators:n)||null}function RB(n){return Array.isArray(n)?mx(n):n||null}function zh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function _x(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Y(1e3,"");if(!r[t])throw new Y(1001,"")}function wx(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Y(1002,"")})}var Vs=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ka(()=>this.statusReactive()),this.statusReactive=Oi(void 0),this._pristine=ka(()=>this.pristineReactive()),this.pristineReactive=Oi(!0),this._touched=ka(()=>this.touchedReactive()),this.touchedReactive=Oi(!1),this._events=new Ue,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return vr(this.statusReactive)}set status(e){vr(()=>this.statusReactive.set(e))}get valid(){return this.status===Vc}get invalid(){return this.status===Ph}get pending(){return this.status==ks}get disabled(){return this.status===Lc}get enabled(){return this.status!==Lc}get pristine(){return vr(this.pristineReactive)}set pristine(e){vr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return vr(this.touchedReactive)}set touched(e){vr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZA(e,this._rawAsyncValidators))}hasValidator(e){return Oh(this._rawValidators,e)}hasAsyncValidator(e){return Oh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(me(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Uc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Uc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(me(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new jc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new jc(!0,r))}markAsPending(e={}){this.status=ks;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(me(U({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Lc,this.errors=null,this._forEachChild(i=>{i.disable(me(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vh(this.value,r)),this._events.next(new Fs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(me(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Vc,this._forEachChild(r=>{r.enable(me(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(me(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vc||this.status===ks)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Vh(this.value,t)),this._events.next(new Fs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(me(U({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lc:Vc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ks,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=ux(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Fs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new He,this.statusChanges=new He}_calculateStatus(){return this._allControlsDisabled()?Lc:this.errors?Ph:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ks)?ks:this._anyControlsHaveStatus(Ph)?Ph:Vc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new jc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Uc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=MB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=RB(this._rawAsyncValidators)}},Lh=class extends Vs{constructor(e,t,r){super(Y_(t),Z_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){wx(this,!0,e),Object.keys(e).forEach(r=>{_x(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var G_=class extends Lh{};var Hh=new B("CallSetDisabledState",{providedIn:"root",factory:()=>qh}),qh="always";function Ex(n,e){return[...e.path,n]}function W_(n,e,t=qh){J_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),NB(n,e),kB(n,e),OB(n,e),PB(n,e)}function JA(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Uh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function jh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function PB(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function J_(n,e){let t=yx(n);e.validator!==null?n.setValidators(QA(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=vx(n);e.asyncValidator!==null?n.setAsyncValidators(QA(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();jh(e._rawValidators,i),jh(e._rawAsyncValidators,i)}function Uh(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=yx(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=vx(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return jh(e._rawValidators,r),jh(e._rawAsyncValidators,r),t}function NB(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Ix(n,e)})}function OB(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Ix(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Ix(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function kB(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function FB(n,e){n==null,J_(n,e)}function VB(n,e){return Uh(n,e)}function Cx(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function LB(n){return Object.getPrototypeOf(n.constructor)===Bh}function jB(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Dx(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Xn?t=o:LB(o)?r=o:i=o}),i||r||t||null}function UB(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function XA(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ex(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Bc=class extends Vs{constructor(e=null,t,r){super(Y_(t),Z_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(ex(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ex(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var BB=n=>n instanceof Bc;var $B={provide:so,useExisting:rn(()=>zc)},tx=Promise.resolve(),zc=(()=>{class n extends so{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Bc,this._registered=!1,this.name="",this.update=new He,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Dx(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Cx(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){W_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){tx.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Qr(r);tx.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Ex(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(z(oo,9),z($c,10),z(Q_,10),z(Ls,10),z(Kr,8),z(Hh,8))}}static{this.\u0275dir=ke({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Bn([$B]),Lt,wn]})}}return n})(),Gh=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ke({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),zB={provide:Ls,useExisting:rn(()=>X_),multi:!0},X_=(()=>{class n extends Bh{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=jn(n)))(i||n)}})()}static{this.\u0275dir=ke({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ie("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Bn([zB]),Lt]})}}return n})();var bx=new B("");var HB={provide:oo,useExisting:rn(()=>Hc)},Hc=(()=>{class n extends oo{get submitted(){return vr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ka(()=>this._submittedReactive()),this._submittedReactive=Oi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new He,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Uh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return W_(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){JA(t.control||null,t,!1),UB(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),jB(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new H_(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new q_(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(JA(r||null,t),BB(i)&&(W_(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);FB(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&VB(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){J_(this.form,this),this._oldForm&&Uh(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(z($c,10),z(Q_,10),z(Hh,8))}}static{this.\u0275dir=ke({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Bn([HB]),Lt,wn]})}}return n})();var qB={provide:so,useExisting:rn(()=>qc)},qc=(()=>{class n extends so{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new He,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Dx(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Cx(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Ex(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(z(oo,13),z($c,10),z(Q_,10),z(Ls,10),z(bx,8))}}static{this.\u0275dir=ke({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Bn([qB]),Lt,wn]})}}return n})(),GB={provide:Ls,useExisting:rn(()=>Wh),multi:!0};function Tx(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function WB(n){return n.split(":")[0]}var Wh=(()=>{class n extends Bh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=Tx(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=WB(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=jn(n)))(i||n)}})()}static{this.\u0275dir=ke({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ie("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Bn([GB]),Lt]})}}return n})(),Sx=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(Tx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(z(Ft),z(En),z(Wh,9))}}static{this.\u0275dir=ke({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),KB={provide:Ls,useExisting:rn(()=>Ax),multi:!0};function nx(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function QB(n){return n.split(":")[0]}var Ax=(()=>{class n extends Bh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=QB(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=jn(n)))(i||n)}})()}static{this.\u0275dir=ke({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ie("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Bn([KB]),Lt]})}}return n})(),xx=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(nx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(nx(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(z(Ft),z(En),z(Ax,9))}}static{this.\u0275dir=ke({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function YB(n){return typeof n=="number"?n:parseFloat(n)}var Mx=(()=>{class n{constructor(){this._validator=Nh}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Nh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ke({type:n,features:[wn]})}}return n})();var ZB={provide:$c,useExisting:rn(()=>ew),multi:!0},ew=(()=>{class n extends Mx{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>YB(t),this.createValidator=t=>sx(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=jn(n)))(i||n)}})()}static{this.\u0275dir=ke({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&qo("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Bn([ZB]),Lt]})}}return n})(),JB={provide:$c,useExisting:rn(()=>Gc),multi:!0};var Gc=(()=>{class n extends Mx{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Qr,this.createValidator=t=>ax}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=jn(n)))(i||n)}})()}static{this.\u0275dir=ke({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&qo("required",i._enabled?"":null)},inputs:{required:"required"},features:[Bn([JB]),Lt]})}}return n})();var Rx=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=st({type:n})}static{this.\u0275inj=ot({})}}return n})(),K_=class extends Vs{constructor(e,t,r){super(Y_(t),Z_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){wx(this,!1,e),e.forEach((r,i)=>{_x(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function rx(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Kh=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return rx(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Lh(i,o)}record(t,r=null){let i=this._reduceControls(t);return new G_(i,r)}control(t,r,i){let o={};return this.useNonNullable?(rx(r)?o=r:(o.validators=r,o.asyncValidators=i),new Bc(t,me(U({},o),{nonNullable:!0}))):new Bc(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new K_(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Bc)return t;if(t instanceof Vs)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var js=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Hh,useValue:t.callSetDisabledState??qh}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=st({type:n})}static{this.\u0275inj=ot({imports:[Rx]})}}return n})(),Qh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:bx,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Hh,useValue:t.callSetDisabledState??qh}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=st({type:n})}static{this.\u0275inj=ot({imports:[Rx]})}}return n})();function XB(n,e){if(n&1){let t=In();T(0,"div",3)(1,"h2"),R(2,"Your UNIVERSO Cart is Empty"),A(),T(3,"div"),Z(4,"i",4),A(),T(5,"div",5)(6,"button",6),Ie("click",function(){Ot(t);let i=qe();return kt(i.continueShopping())}),R(7,"Shop now"),A()()()}}function e$(n,e){if(n&1){let t=In();T(0,"tr")(1,"td",31)(2,"div",32),Z(3,"img",33),A()(),T(4,"td",34)(5,"h3")(6,"a",35),R(7),A()(),T(8,"p",36),R(9),A(),T(10,"div",25)(11,"a",37),Ie("click",function(){let i=Ot(t).$implicit,o=qe(2);return kt(o.deleteProduct(i.produit))}),Z(12,"i",38),R(13," Remove item"),A()()(),T(14,"td"),R(15),T(16,"s",39),R(17),A()(),T(18,"td",40)(19,"input",41),Wo("ngModelChange",function(i){let o=Ot(t).$implicit;return Na(o.qte,i)||(o.qte=i),kt(i)}),A()(),T(20,"td")(21,"h4"),R(22),A()()()}if(n&2){let t=e.$implicit;H(3),Fi("alt",t.produit.title),Ee("src",t.produit.images[0],yr),H(4),Je(t.produit.title),H(2),Je(t.produit.description),H(6),Te(" ",t.produit.price," "),H(2),Je(t.produit.price-10),H(2),Go("ngModel",t.qte),H(3),Je(t.produit.price*t.qte)}}function t$(n,e){if(n&1){let t=In();T(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"div",12)(6,"span",13),R(7,"("),T(8,"strong"),R(9),A(),R(10,") item "),A(),T(11,"h5"),R(12,"Items in your cart"),A()(),T(13,"div",14)(14,"div",15)(15,"table",16)(16,"tbody"),$e(17,e$,23,8,"tr",17),A()()()(),T(18,"div",14)(19,"button",18),Ie("click",function(){Ot(t);let i=qe();return kt(i.Acheter())}),Z(20,"i",19),R(21," Acheter "),A(),T(22,"button",20),Ie("click",function(){Ot(t);let i=qe();return kt(i.continueShopping())}),Z(23,"i",21),R(24," Continue l'achat "),A()()()(),T(25,"div",22)(26,"div",11)(27,"div",12)(28,"h5"),R(29,"Cart Summary"),A()(),T(30,"div",14)(31,"span"),R(32,"Total"),A(),T(33,"h2",23),R(34),A(),Z(35,"hr"),T(36,"span",24),R(37," light weight baby"),A(),T(38,"div",25)(39,"div",26)(40,"button",27),Ie("click",function(){Ot(t);let i=qe();return kt(i.Acheter())}),Z(41,"i",28),R(42,"Acheter "),A(),T(43,"button",29),Ie("click",function(){Ot(t);let i=qe();return kt(i.cancel())}),Z(44,"i",30),R(45," Cancel "),A()()()()()()()()()}if(n&2){let t=qe();H(9),Je(t.productCart.length),H(8),Ee("ngForOf",t.productCart),H(17),Je(t.calculateTotal())}}var Px=(()=>{class n{panier;route;orderservice;authService;productCart=[];constructor(t,r,i,o){this.panier=t,this.route=r,this.orderservice=i,this.authService=o}ngOnInit(){this.panier.getAllCartProducts().subscribe(t=>{this.productCart=t})}increaseQte(t){this.panier.increaseQte(t)}decreaseQte(t){this.panier.decreaseQte(t)}deleteProduct(t){this.panier.removeProductFromCart(t)}calculateTotal(){return this.productCart.reduce((t,r)=>t+r.qte*r.produit.price,0)}cancel(){this.productCart=[]}Acheter(){this.authService.currentUserSig()?confirm("Vous voulez continuer ?")&&(this.orderservice.createCommande(this.productCart,this.calculateTotal()),this.route.navigateByUrl("/orders"),this.productCart=[],this.panier.removeAllProducts()):(alert("Se Conncter D'abord "),this.route.navigateByUrl("/signin"))}continueShopping(){this.route.navigate(["/products"])}static \u0275fac=function(r){return new(r||n)(z(si),z(Me),z(Es),z(cn))};static \u0275cmp=Oe({type:n,selectors:[["app-panier"]],standalone:!0,features:[Fe],decls:4,vars:2,consts:[["href",wC`https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css`,"rel","stylesheet"],["class","empty-cart-container",4,"ngIf"],["class","container",4,"ngIf"],[1,"empty-cart-container"],[1,"fa-solid","fa-cart-shopping"],[1,"continueShopping"],[1,"btn","btn-primary",3,"click"],[1,"container"],[1,"wrapper","wrapper-content","animated","fadeInRight"],[1,"row"],[1,"col-md-9"],[1,"ibox"],[1,"ibox-title"],[1,"pull-right"],[1,"ibox-content"],[1,"table-responsive"],[1,"table","shoping-cart-table"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","pull-right",2,"background-color","#b8fc04","border-width","0px","border-radius","6px",3,"click"],[1,"fa","fa","fa-shopping-cart"],[1,"btn","btn-white",3,"click"],[1,"fa","fa-arrow-left"],[1,"col-md-3"],[1,"font-bold"],[1,"text-muted","small"],[1,"m-t-sm"],[1,"btn-group"],[1,"btn","btn-primary","btn-sm",2,"background-color","#b8fc04","border-width","0px","border-radius","6px",3,"click"],[1,"fa","fa-shopping-cart"],[1,"btn","btn-white","btn-sm",3,"click"],[1,"fa","fa-times"],["width","90"],[1,"cart-product-imitation"],[3,"src","alt"],[1,"desc"],["href","#",1,"text-navy"],[1,"small"],[1,"text-muted",3,"click"],[1,"fa","fa-trash"],[1,"small","text-muted"],["width","65"],["type","number","min","1",1,"form-control",3,"ngModelChange","ngModel"]],template:function(r,i){r&1&&(Z(0,"link",0),$e(1,XB,8,0,"div",1)(2,t$,46,3,"div",2),Z(3,"app-footer")),r&2&&(H(),Ee("ngIf",i.productCart.length==0),H(),Ee("ngIf",i.productCart.length>0))},dependencies:[an,Yo,js,Xn,X_,hi,ew,zc,ui],styles:["body[_ngcontent-%COMP%]{margin-top:20px;background:#eee}h3[_ngcontent-%COMP%]{font-size:16px}.text-navy[_ngcontent-%COMP%]{color:#1ab394}.cart-product-imitation[_ngcontent-%COMP%]{text-align:center;padding-top:30px;height:80px;width:80px;background-color:#f8f8f9}.cart-product-imitation[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:80px;object-fit:contain;display:block}.product-imitation.xl[_ngcontent-%COMP%]{padding:120px 0}.product-desc[_ngcontent-%COMP%]{padding:20px;position:relative}.ecommerce[_ngcontent-%COMP%]   .tag-list[_ngcontent-%COMP%]{padding:0}.ecommerce[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{color:#d1dade}.ecommerce[_ngcontent-%COMP%]   .fa-star.active[_ngcontent-%COMP%]{color:#f8ac59}.ecommerce[_ngcontent-%COMP%]   .note-editor[_ngcontent-%COMP%]{border:1px solid #e7eaec}table.shoping-cart-table[_ngcontent-%COMP%]{margin-bottom:0}table.shoping-cart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;text-align:right}table.shoping-cart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.desc[_ngcontent-%COMP%], table.shoping-cart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{text-align:left}table.shoping-cart-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:80px}.ibox[_ngcontent-%COMP%]{clear:both;margin-bottom:25px;margin-top:0;padding:0}.ibox.collapsed[_ngcontent-%COMP%]   .ibox-content[_ngcontent-%COMP%]{display:none}.ibox[_ngcontent-%COMP%]:after, .ibox[_ngcontent-%COMP%]:before{display:table}.ibox-title[_ngcontent-%COMP%]{-moz-border-bottom-colors:none;-moz-border-left-colors:none;-moz-border-right-colors:none;-moz-border-top-colors:none;background-color:#fff;border-color:#e7eaec;border-image:none;border-style:solid solid none;border-width:3px 0 0;color:inherit;margin-bottom:0;padding:14px 15px 7px;min-height:48px}.empty-cart-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:70vh;text-align:center;color:#333}.empty-cart-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px;color:#000}.empty-cart-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:5rem;color:#000;margin-bottom:20px}.continueShopping[_ngcontent-%COMP%]{margin-top:20px}.continueShopping[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#000;border-width:0px;border-radius:6px;padding:10px 20px;font-size:1.2rem;color:#fff;transition:background-color .3s ease;cursor:pointer}.continueShopping[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#5eff00}"]})}return n})();function n$(n,e){if(n&1&&(T(0,"div"),R(1),A()),n&2){let t=qe();H(),Te(" ",t.errorMessage," ")}}var Nx=(()=>{class n{fb=N(Kh);http=N(Ir);router=N(Me);authService=N(cn);form=this.fb.nonNullable.group({username:["",Pr.required],email:["",Pr.required],password:["",Pr.required]});errorMessage=null;onSubmit(){let t=this.form.getRawValue();this.authService.register(t.email,t.username,t.password).subscribe({next:()=>{this.router.navigateByUrl("/signin")},error:r=>{this.errorMessage=r.code}})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Oe({type:n,selectors:[["app-signup"]],standalone:!0,features:[Fe],decls:34,vars:2,consts:[[1,"amazon-logo"],["src","unv.png","alt","Universo Logo"],[1,"sign-in-container"],[3,"ngSubmit","formGroup"],["for","name"],["type","text","id","name","name","name","formControlName","username","required",""],["for","email"],["type","text","id","email","name","email","formControlName","email","required",""],["for","password"],["type","password","id","password","name","password","formControlName","password","required",""],["type","submit"],["href","#"],["routerLink","/signin","routerLinkActive","active",1,"nav-link"],[1,"okk",2,"height","1vh"]],template:function(r,i){r&1&&(T(0,"div",0),Z(1,"img",1),A(),T(2,"div",2)(3,"h2"),R(4,"Create account"),A(),$e(5,n$,2,1,"div"),T(6,"form",3),Ie("ngSubmit",function(){return i.onSubmit()}),T(7,"label",4),R(8,"Your name"),A(),Z(9,"input",5),T(10,"label",6),R(11,"Email"),A(),Z(12,"input",7),T(13,"label",8),R(14,"Password"),A(),Z(15,"input",9),T(16,"button",10),R(17,"Create your Universo account"),A()(),T(18,"p"),R(19,"By creating an account, you agree to Universo's "),T(20,"a",11),R(21,"Conditions of Use & Sale"),A(),R(22,". Please see our "),T(23,"a",11),R(24,"Privacy Notice"),A(),R(25,", and "),T(26,"a",11),R(27,"Cookies Notice"),A(),R(28,". "),A(),T(29,"p"),R(30,"Already have an account? "),T(31,"a",12),R(32,"Sign in"),A()()(),Z(33,"div",13)),r&2&&(H(5),ki(i.errorMessage?5:-1),H(),Ee("formGroup",i.form))},dependencies:[Qh,Gh,Xn,hi,$h,Gc,Hc,qc,dn,ln,Jn],styles:[".sign-in-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:30px;border:1px #000000;border-radius:15px;box-shadow:0 4px 10px #0000001a;text-align:center;background-color:#fff;position:relative}.amazon-logo[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center}.amazon-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:140px;opacity:.9;transition:opacity .3s ease}.amazon-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:1}form[_ngcontent-%COMP%]{margin-bottom:16px;pad:10px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700;font-size:14px;color:#000;text-align:left}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ccc;border-radius:3px;margin-bottom:10px;font-size:16px;background-color:#fff;transition:border-color .3s ease}button[_ngcontent-%COMP%]{padding:12px 25px;background-color:#b8fc04;color:#000;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s ease;width:100%}button[_ngcontent-%COMP%]:hover{background-color:#000}button[_ngcontent-%COMP%]:active, button[_ngcontent-%COMP%]:focus{background-color:#000;outline:none}p[_ngcontent-%COMP%]{margin-bottom:15px;color:#666;font-size:14px}a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;transition:color .3s ease}a[_ngcontent-%COMP%]:hover{color:#0056b3;text-decoration:underline}.sign-in-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#b8fc04}.sign-in-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{background-color:#b8fc04}@media (max-width: 500px){.sign-in-container[_ngcontent-%COMP%]{padding:20px}.amazon-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px}button[_ngcontent-%COMP%]{padding:11px 2px;font-size:13px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{padding:10px;font-size:14px}}.new[_ngcontent-%COMP%]{text-align:center}.sign-in-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}"]})}return n})();function r$(n,e){if(n&1&&(T(0,"div"),R(1),A()),n&2){let t=qe();H(),Te(" ",t.errorMessage," ")}}var Ox=(()=>{class n{fb=N(Kh);http=N(Ir);router=N(Me);authService=N(cn);errorMessage=null;form=this.fb.nonNullable.group({email:["",Pr.required],password:["",Pr.required]});onSubmit(){let t=this.form.getRawValue();this.authService.login(t.email,t.password).subscribe({next:()=>{this.router.navigateByUrl("/")},error:r=>{this.errorMessage=r.code}})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Oe({type:n,selectors:[["app-signin"]],standalone:!0,features:[Fe],decls:40,vars:2,consts:[[1,"amazon-logo"],["src","unv.png","alt","Universo Logo"],[1,"sign-in-container"],[3,"ngSubmit","formGroup"],["for","email"],["type","text","id","email","name","email","formControlName","email","required",""],["type","password","id","password","name","password","formControlName","password","required",""],["type","submit"],["href","#"],["routerLink","/signup","routerLinkActive","active"],[1,"okk",2,"height","1vh"],[1,"new"],[1,"okk",2,"height","0.1vh"],["id","okk",1,"sign-in-container"],[1,"okk",2,"height","10vh"]],template:function(r,i){r&1&&(T(0,"div",0),Z(1,"img",1),A(),T(2,"div",2),$e(3,r$,2,1,"div"),T(4,"h2"),R(5,"Sign in"),A(),T(6,"form",3),Ie("ngSubmit",function(){return i.onSubmit()}),T(7,"label",4),R(8,"Email "),A(),Z(9,"input",5),T(10,"label",4),R(11,"Password "),A(),Z(12,"input",6),T(13,"button",7),R(14,"Continue"),A()(),T(15,"p"),R(16,"By continuing, you agree to Universo's "),T(17,"a",8),R(18,"Conditions of Use & Sale"),A(),R(19,". Please see our "),T(20,"a",8),R(21,"Privacy Notice"),A(),R(22,", our "),T(23,"a",8),R(24,"Cookies Notice"),A(),R(25,". "),A(),T(26,"p")(27,"a",8),R(28,"Forget password ?"),A()(),T(29,"button",9),R(30,"Create your Universo account"),A()(),Z(31,"div",10),T(32,"div",11)(33,"p"),R(34,"New to Universo?"),A()(),Z(35,"div",12),T(36,"div",13)(37,"a",9),R(38," Create your account ? "),A()(),Z(39,"div",14)),r&2&&(H(3),ki(i.errorMessage?3:-1),H(3),Ee("formGroup",i.form))},dependencies:[Qh,Gh,Xn,hi,$h,Gc,Hc,qc,dn,ln,Jn,js],styles:[".sign-in-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:30px;border:1px #000000;border-radius:15px;box-shadow:0 4px 10px #0000001a;text-align:center;background-color:#fff;position:relative}.amazon-logo[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center}.amazon-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:140px;opacity:.9;transition:opacity .3s ease}.amazon-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:1}form[_ngcontent-%COMP%]{margin-bottom:16px;pad:10px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700;font-size:14px;color:#000;text-align:left}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ccc;border-radius:3px;margin-bottom:10px;font-size:16px;background-color:#fff;transition:border-color .3s ease}button[_ngcontent-%COMP%]{padding:12px 25px;background-color:#b8fc04;color:#000;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s ease;width:100%}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:active{background-color:#000}button[_ngcontent-%COMP%]:focus{outline:none}p[_ngcontent-%COMP%]{margin-bottom:15px;color:#666;font-size:14px}a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;transition:color .3s ease}a[_ngcontent-%COMP%]:hover{color:#0056b3;text-decoration:underline}.sign-in-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#b8fc04}.sign-in-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{background-color:#b8fc04}.sign-in-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:active{background-color:#b8fc04}@media (max-width: 500px){.sign-in-container[_ngcontent-%COMP%]{padding:20px}.amazon-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px}button[_ngcontent-%COMP%]{padding:11px 2px;font-size:13px}input[type=text][_ngcontent-%COMP%]{padding:10px;font-size:14px}}.new[_ngcontent-%COMP%]{text-align:center}.sign-in-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}"]})}return n})();function i$(n,e){if(n&1){let t=In();T(0,"div",7)(1,"div",8)(2,"div",9)(3,"img",10),Ie("click",function(){let i=Ot(t).$implicit,o=qe();return kt(o.goTothisproducts(i.title))}),A()(),T(4,"div",11)(5,"h3",12),R(6),A()()()()}if(n&2){let t=e.$implicit;H(3),Fi("alt",t.title),Ee("src",t.src,yr),H(3),Je(t.title)}}var kx=(()=>{class n{route;searchservice;constructor(t,r){this.route=t,this.searchservice=r}images=[{title:"sports-accessories",src:"basket.jpg",alt:"Sports Products"},{title:"beauty",src:"beauty.jpg",alt:"Beauty"},{title:"furniture",src:"frach.jpg",alt:"Furniture"},{title:"tablets",src:"tablet.jpg",alt:"Tablets"},{title:"Laptops",src:"pc.jpg",alt:"Laptops"},{title:"Clothing",src:"clothes.jpg",alt:"Clothing"},{title:"vehicle",src:"car.jpg",alt:"Cars"},{title:"motorcycle",src:"motor.jpg",alt:"motor"},{title:"Fragnances",src:"fragnances.jpg",alt:"Rway7"},{title:"groceries",src:"groceries.jpg",alt:"**"},{title:"home-decoration",src:"home-decoration.jpg",alt:"**"},{title:"kitchen-accessories",src:"kitchen-accessories.jpg",alt:"***"},{title:"mens-shirts",src:"mens-shirts.jpg",alt:"***"},{title:"mens-shoes",src:"mens-shoes.jpg",alt:"***"},{title:"mens-watches",src:"mens-watches.jpg",alt:"***"},{title:"mobile-accessories",src:"mobile-accesoires.jpg",alt:"***"},{title:"skin-care",src:"skin-care.jpg",alt:"***"},{title:"smartphones",src:"smart.jpg",alt:"***"},{title:"mens-shirts",src:"mens-shirts.jpg",alt:"***"},{title:"sunglasses",src:"sunglace.jpg",alt:"***"},{title:"womens-watches",src:"womems-watches.jpg",alt:"***"},{title:"women-bags",src:"women-bags.jpg",alt:"***"},{title:"women-jewellery",src:"women-jewelries.jpg",alt:"***"},{title:"women-shoes",src:"women-shoes.jpg",alt:"***"}];goTothisproducts(t){this.searchservice.setCategory(t),this.goToProducts()}goToProducts(){this.route.navigate(["/products"])}static \u0275fac=function(r){return new(r||n)(z(Me),z(Os))};static \u0275cmp=Oe({type:n,selectors:[["app-home"]],standalone:!0,features:[Fe],decls:18,vars:1,consts:[[1,"home-container"],[1,"banner"],[1,"shop-now-btn",3,"click"],[1,"container"],[1,"fa-solid","fa-down-long"],[1,"row"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],[1,"product-card"],[1,"image"],[1,"category-image",3,"click","src","alt"],[1,"card-body"],[1,"card-title"]],template:function(r,i){r&1&&(T(0,"div",0)(1,"div",1)(2,"h1"),R(3,"Welcome to Our Shop!"),A(),T(4,"p"),R(5,"Discover the best products at unbeatable prices"),A(),T(6,"button",2),Ie("click",function(){return i.goToProducts()}),R(7,"Shop Now"),A()(),T(8,"div",3)(9,"h2"),R(10,"Shop now"),Z(11,"br"),R(12,"Delivery guy is next to your house"),Z(13,"br")(14,"i",4),A(),T(15,"div",5),$e(16,i$,7,3,"div",6),A()()(),Z(17,"app-footer")),r&2&&(H(16),Ee("ngForOf",i.images))},dependencies:[dn,an,ui],styles:[".home-container[_ngcontent-%COMP%]{padding:20px;font-family:Arial,sans-serif}.banner[_ngcontent-%COMP%]{background-image:url(/banner.png);background-size:cover;background-position:center;color:#000;font-family:Courier New;text-align:center;padding:220px 20px;border-radius:10px}.banner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:10px}.banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:20px}.shop-now-btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:15px 30px;font-size:1.2rem;cursor:pointer;border-radius:5px;transition:background-color .3s}.shop-now-btn[_ngcontent-%COMP%]:hover{background-color:#59ff00}.container[_ngcontent-%COMP%]{margin-top:20px}.container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-family:Georgia,;font-size:30px}.product-card[_ngcontent-%COMP%]{width:220px;height:200px;margin:0 10px;display:flex;flex-direction:column;justify-content:space-between;border-radius:10px;transition:transform .3s ease,box-shadow .3s ease}.product-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 15px #00000026;transform:translateY(-5px)}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:10px;transition:transform .3s ease}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05);border-radius:10px}.card-body[_ngcontent-%COMP%]{background-color:transparent;padding:15px;max-height:50px;overflow-y:auto;-ms-overflow-style:none;scrollbar-width:none}.card-body[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.card-title[_ngcontent-%COMP%]{font-weight:700;color:#fff;font-size:small;margin-bottom:3px}.card-text[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:10px;flex-grow:1}.card-footer[_ngcontent-%COMP%]{background-color:transparent;text-align:center;padding:10px 0;color:red;text-decoration:line-through;max-height:10px}.btn-primary[_ngcontent-%COMP%]{background-color:#000;border:none;border-radius:30px;color:#fff;padding:8px 15px;font-size:18px;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#4dff00ec}.image[_ngcontent-%COMP%]{max-height:40px}"]})}return n})();function o$(n,e){if(n&1&&(T(0,"tr")(1,"td",23)(2,"h3")(3,"a",24),R(4),A()(),T(5,"p",25),R(6),A(),T(7,"p",25),R(8),A(),T(9,"div",18)(10,"a",26),Z(11,"i",27),R(12," View Details"),A()()(),T(13,"td")(14,"span"),R(15,"Status:"),A(),T(16,"h4"),R(17,"Good "),A()(),T(18,"td")(19,"span"),R(20,"Total:"),A(),T(21,"h4"),R(22),A()(),T(23,"td",28)(24,"button",20),Z(25,"i",29),R(26," Track Order "),A()()()),n&2){let t=e.$implicit;H(4),Te("Order ",t.details.productName," "),H(2),Te("Placed on: ",t.dateCommande,""),H(2),Te("Items: ",t.details.length,""),H(14),Je(t.montant)}}var Fx=(()=>{class n{orderService;route;userOrders=[];constructor(t,r){this.orderService=t,this.route=r}ngOnInit(){this.orderService.getAllOrdersByUserId().subscribe(t=>{this.userOrders=t.map(r=>me(U({},r),{dateCommande:r.dateCommande?r.dateCommande.toDate():null})),console.log("orders:",this.userOrders)})}calculateTotal(t){return t.productCart.reduce((r,i)=>r+i.qte*i.produit.price,0)}continueShopping(){this.route.navigate(["/products"])}static \u0275fac=function(r){return new(r||n)(z(Es),z(Me))};static \u0275cmp=Oe({type:n,selectors:[["app-myorders"]],standalone:!0,features:[Fe],decls:45,vars:3,consts:[[1,"container"],[1,"wrapper","wrapper-content","animated","fadeInRight"],[1,"row"],[1,"col-md-9"],[1,"ibox"],[1,"ibox-title"],[1,"pull-right"],[1,"ibox-content"],[1,"table-responsive"],[1,"table","shoping-cart-table"],[4,"ngFor","ngForOf"],[1,"btn","btn-white"],[1,"fa","fa-arrow-left"],[1,"btn","btn-white","pull-right"],[1,"fa","fa-arrow-right"],[1,"col-md-3"],[1,"font-bold"],[1,"text-muted","small"],[1,"m-t-sm"],[1,"btn-group"],[1,"btn","btn-primary","btn-sm",2,"background-color","#b8fc04","border-width","0px","border-radius","6px"],[1,"fa","fa-list"],[1,"ok",2,"height","30vh"],[1,"desc"],["href","#",1,"text-navy"],[1,"small"],[1,"text-muted"],[1,"fa","fa-eye"],["width","150"],[1,"fa","fa-truck"]],template:function(r,i){r&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"span",6),R(7,"("),T(8,"strong"),R(9),A(),R(10,") Mes Commandes : "),A(),T(11,"h5"),R(12,"Order History"),A()(),T(13,"div",7)(14,"div",8)(15,"table",9)(16,"tbody"),$e(17,o$,27,4,"tr",10),A()()()(),T(18,"div",7)(19,"button",11),Z(20,"i",12),R(21," Previous "),A(),T(22,"button",13),R(23," Next "),Z(24,"i",14),A()()()(),T(25,"div",15)(26,"div",4)(27,"div",5)(28,"h5"),R(29,"Summary"),A()(),T(30,"div",7)(31,"span"),R(32,"Total Orders:"),A(),T(33,"h2",16),R(34),A(),Z(35,"hr"),T(36,"span",17),R(37," Review your order history "),A(),T(38,"div",18)(39,"div",19)(40,"button",20),Z(41,"i",21),R(42," View All Orders"),A()()()()()()()()(),Z(43,"div",22)(44,"app-footer")),r&2&&(H(9),Je(i.userOrders.length),H(8),Ee("ngForOf",i.userOrders),H(17),Je(i.userOrders.length))},dependencies:[an,ui]})}return n})();var Vx=(n,e)=>{let t=N(cn),r=N(Me);return t.currentUserSig()==null?(r.navigate(["/signin"]),!1):!0};var s$=()=>[1,2,3,4,5],a$=n=>({"out-of-stock":n}),c$=(n,e)=>({"fa-star":n,"fa-star-o":e});function u$(n,e){if(n&1&&Z(0,"i",19),n&2){let t=e.$implicit,r=qe();Ee("ngClass",OD(1,c$,t<=r.product.rating,t>r.product.rating))}}function l$(n,e){if(n&1&&(T(0,"span",20),R(1),A()),n&2){let t=e.$implicit;H(),Je(t)}}var Lx=(()=>{class n{route;productService;panier;product;constructor(t,r,i){this.route=t,this.productService=r,this.panier=i}ngOnInit(){let t=+this.route.snapshot.paramMap.get("id");this.productService.getProductById(t).subscribe(r=>{this.product=r})}addToCart(){this.panier.addProductToCart(this.product)}static \u0275fac=function(r){return new(r||n)(z(Zn),z(Ns),z(si))};static \u0275cmp=Oe({type:n,selectors:[["app-productdetails"]],standalone:!0,features:[Fe],decls:39,vars:23,consts:[[1,"cc"],[1,"product-details-container"],[1,"product-image"],[3,"src","alt"],[1,"product-info"],[1,"product-title"],[1,"product-sku"],[1,"product-category","text-navy"],[1,"product-description"],[1,"product-price"],[1,"product-discount"],[1,"product-rating"],["class","fa",3,"ngClass",4,"ngFor","ngForOf"],[1,"product-brand"],[1,"product-tags"],["class","product-tag",4,"ngFor","ngForOf"],[1,"product-stock",3,"ngClass"],[1,"product-return-policy"],[1,"btn-add-to-cart",3,"click","disabled"],[1,"fa",3,"ngClass"],[1,"product-tag"]],template:function(r,i){r&1&&(T(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"img",3),A(),T(4,"div",4)(5,"h1",5),R(6),A(),T(7,"p",6),R(8),A(),T(9,"p",7),R(10),A(),T(11,"p",8),R(12),A(),T(13,"p",9),R(14),A(),T(15,"p",10),R(16),A(),T(17,"p",11),R(18," Rating: "),$e(19,u$,1,4,"i",12),A(),T(20,"p",13),R(21),A(),T(22,"p",14),R(23," Tags: "),$e(24,l$,2,1,"span",15),A(),T(25,"p",16),R(26),A(),T(27,"p"),R(28),A(),T(29,"p"),R(30),A(),T(31,"p"),R(32),A(),T(33,"p"),R(34),A(),T(35,"p",17),R(36),A(),T(37,"button",18),Ie("click",function(){return i.addToCart()}),R(38," Add to Cart "),A()()()()),r&2&&(H(3),Fi("alt",i.product.title),Ee("src",i.product.images[0],yr),H(3),Je(i.product.title),H(2),Te("SKU: ",i.product.sku,""),H(2),Te("Category: ",i.product.category,""),H(2),Je(i.product.description),H(2),Te("Price: $",i.product.price.toFixed(2),""),H(2),Te("Discount: ",i.product.discountPercentage,"%"),H(3),Ee("ngForOf",PD(20,s$)),H(2),Te("Brand: ",i.product.brand,""),H(3),Ee("ngForOf",i.product.tags),H(),Ee("ngClass",ND(21,a$,i.product.stock===0)),H(),lm(" Stock: ",i.product.stock," ",i.product.stock>0?"Available":"Out of stock"," "),H(2),Te("Width: ",i.product.dimensions.width," cm"),H(2),Te("Height: ",i.product.dimensions.height," cm"),H(2),Te("Depth: ",i.product.dimensions.depth," cm"),H(2),Te("Weight: ",i.product.weight," Kg"),H(2),Te(" Return Policy: ",i.product.returnPolicy," "),H(),Ee("disabled",i.product.stock===0))},dependencies:[tb,an],styles:["body[_ngcontent-%COMP%]{margin-top:20px;background:#eee}.text-navy[_ngcontent-%COMP%]{color:#1ab394}.product-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;background-color:#fff;border-radius:8px;box-shadow:0 4px 12px #0000001a;padding:20px;margin:20px 0;max-width:900px;border:1px solid #ddd}.product-image[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:10px}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:300px;object-fit:contain;display:block}.product-info[_ngcontent-%COMP%]{flex:2;padding:20px}.product-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#000}.product-category[_ngcontent-%COMP%]{font-size:16px;color:#fff;margin-bottom:10px}.product-description[_ngcontent-%COMP%]{font-size:16px;color:#000;margin-bottom:20px;line-height:1.6}.product-price[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#000;margin-bottom:10px}.product-discount[_ngcontent-%COMP%]{font-size:18px;color:#031a0c;margin-bottom:10px}.product-rating[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%], .product-rating[_ngcontent-%COMP%]   .fa-star-o[_ngcontent-%COMP%]{color:#fff}.product-rating[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{color:#74ff2e}.product-brand[_ngcontent-%COMP%]{font-size:18px;color:#000;margin-bottom:10px}.product-tags[_ngcontent-%COMP%]{font-size:16px;color:#000;margin-bottom:20px}.product-tag[_ngcontent-%COMP%]{background-color:#000;color:#fff;padding:5px 10px;border-radius:12px;margin-right:5px;font-size:14px}.product-stock[_ngcontent-%COMP%]{font-size:18px;color:#fff;margin-bottom:20px}.product-stock.out-of-stock[_ngcontent-%COMP%]{color:#e74c3c}.btn-add-to-cart[_ngcontent-%COMP%]{background-color:#000;color:#fff;padding:10px 20px;border:none;border-radius:6px;font-size:16px;cursor:pointer;transition:background-color .3s ease}.btn-add-to-cart[_ngcontent-%COMP%]:disabled{background-color:#fff;cursor:not-allowed}.btn-add-to-cart[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#5eff00}.cc[_ngcontent-%COMP%]{margin-top:0;background:transparent;height:100vh;display:flex;justify-content:center;align-items:center}"]})}return n})();var tw=[{path:"",component:kx},{path:"products",component:KA},{path:"panier",component:Px},{path:"signup",component:Nx},{path:"signin",component:Ox},{path:"orders",component:Fx,canActivate:[Vx]},{path:"product/:id",component:Lx},{path:"***",component:GA}];var d$=new Map,h$={activated:!1,tokenObservers:[]},f$={initialized:!1,enabled:!1};function xn(n){return d$.get(n)||Object.assign({},h$)}function zx(){return f$}var p$="https://content-firebaseappcheck.googleapis.com/v1";var g$="exchangeDebugToken",jx={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},IQ=24*60*60*1e3;var rw=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return L(this,null,function*(){this.stop();try{this.pending=new Af,this.pending.promise.catch(t=>{}),yield m$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Af,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function m$(n){return new Promise(e=>{setTimeout(e,n)})}var y$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},fi=new E0("appCheck","AppCheck",y$);function Hx(n){if(!xn(n).activated)throw fi.create("use-before-activation",{appName:n.name})}function qx(r,i){return L(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(o["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(v){throw fi.create("fetch-network-error",{originalErrorMessage:v?.message})}if(u.status!==200)throw fi.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(v){throw fi.create("fetch-parse-error",{originalErrorMessage:v?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw fi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function Gx(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${p$}/projects/${t}/apps/${r}:${g$}?key=${i}`,body:{debug_token:e}}}var v$="firebase-app-check-database",_$=1,iw="firebase-app-check-store";var Zh=null;function w$(){return Zh||(Zh=new Promise((n,e)=>{try{let t=indexedDB.open(v$,_$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(fi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(iw,{keyPath:"compositeKey"})}}}catch(t){e(fi.create("storage-open",{originalErrorMessage:t?.message}))}}),Zh)}function E$(n,e){return I$(C$(n),e)}function I$(n,e){return L(this,null,function*(){let r=(yield w$()).transaction(iw,"readwrite"),o=r.objectStore(iw).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(fi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function C$(n){return`${n.options.appId}-${n.name}`}var ow=new hu("@firebase/app-check");function nw(n,e){return xf()?E$(n,e).catch(t=>{ow.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Wx(){return zx().enabled}function Kx(){return L(this,null,function*(){let n=zx();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var D$={error:"UNKNOWN_ERROR"};function b$(n){return y0.encodeString(JSON.stringify(n),!1)}function sw(n,e=!1){return L(this,null,function*(){let t=n.app;Hx(t);let r=xn(t),i=r.token,o;if(i&&!Wc(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(Wc(u)?i=u:yield nw(t,void 0))}if(!e&&i&&Wc(i))return{token:i.token};let s=!1;if(Wx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=qx(Gx(t,yield Kx()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let u=yield r.exchangeTokenPromise;return yield nw(t,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield xn(t).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?ow.warn(u.message):ow.error(u),o=u}let a;return i?o?Wc(i)?a={token:i.token,internalError:o}:a=Bx(o):(a={token:i.token},r.token=i,yield nw(t,i)):a=Bx(o),s&&x$(t,a),a})}function T$(n){return L(this,null,function*(){let e=n.app;Hx(e);let{provider:t}=xn(e);if(Wx()){let r=yield Kx(),{token:i}=yield qx(Gx(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function S$(n,e,t,r){let{app:i}=n,o=xn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Wc(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),Ux(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Ux(n))}function Qx(n,e){let t=xn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Ux(n){let{app:e}=n,t=xn(e),r=t.tokenRefresher;r||(r=A$(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function A$(n){let{app:e}=n;return new rw(()=>L(this,null,function*(){let t=xn(e),r;if(t.token?r=yield sw(n,!0):r=yield sw(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=xn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},jx.RETRIAL_MIN_WAIT,jx.RETRIAL_MAX_WAIT)}function x$(n,e){let t=xn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Wc(n){return n.expireTimeMillis-Date.now()>0}function Bx(n){return{token:b$(D$),error:n}}var aw=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=xn(this.app);for(let t of e)Qx(this.app,t.next);return Promise.resolve()}};function M$(n,e){return new aw(n,e)}function R$(n){return{getToken:e=>sw(n,e),getLimitedUseToken:()=>T$(n),addTokenListener:e=>S$(n,"INTERNAL",e),removeTokenListener:e=>Qx(n.app,e)}}var P$="@firebase/app-check",N$="0.8.8";var O$="app-check",$x="app-check-internal";function k$(){sa(new oa(O$,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return M$(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($x).initialize()})),sa(new oa($x,n=>{let e=n.getProvider("app-check").getImmediate();return R$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),nt(P$,N$)}k$();var F$=["localhost","0.0.0.0","127.0.0.1"],OQ=typeof window<"u"&&F$.includes(window.location.hostname);var L$="firebase",j$="10.14.1";fn.registerVersion(L$,j$,"app-compat");var U$=["ngOnDestroy"],Zx=(n,e,t,r={})=>new Proxy(n,{get:(i,o)=>t.runOutsideAngular(()=>{if(n[o])return r?.spy?.get&&r.spy.get(o,n[o]),n[o];if(U$.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let u=a?.[o];return typeof u=="function"?u.bind(a):u?.then?u.then(l=>t.run(()=>l)):t.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>s[u],apply:(a,u,l)=>s.then(h=>{let p=h?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,p),p})})})});var Jh=class{constructor(e){return e}},Xh=new B("angularfire2.app.options"),ef=new B("angularfire2.app.name");function cw(n,e,t){let r=typeof t=="string"&&t||"[DEFAULT]",i=typeof t=="object"&&t||{};i.name=i.name||r;let s=fn.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>fn.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){let a=!!module.hot;B$("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Jh(s)}var B$=(n,...e)=>{hm()&&typeof console<"u"&&console[n](...e)},$$={provide:Jh,useFactory:cw,deps:[Xh,_e,[new _t,ef]]},uw=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:Xh,useValue:t},{provide:ef,useValue:r}]}}constructor(t){fn.registerVersion("angularfire",jt.full,"core"),fn.registerVersion("angularfire",jt.full,"app-compat"),fn.registerVersion("angular",Oa.full,t.toString())}static \u0275fac=function(r){return new(r||n)($(it))};static \u0275mod=st({type:n});static \u0275inj=ot({providers:[$$]})}return n})();function Jx(n,e,t,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return z$(i,s)||(Yx("error",`${e} was already initialized on the ${t} Firebase App with different settings.${H$?" You may need to reload as Firebase is not HMR aware.":""}`),Yx("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}function z$(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var H$=typeof module<"u"&&!!module.hot,Yx=(n,...e)=>{hm()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var q$=new B("angularfire2.auth.use-emulator"),G$=new B("angularfire2.auth.settings"),W$=new B("angularfire2.auth.tenant-id"),K$=new B("angularfire2.auth.langugage-code"),Q$=new B("angularfire2.auth.use-device-language"),Y$=new B("angularfire.auth.persistence"),Z$=(n,e,t,r,i,o,s,a)=>Jx(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let u=e.runOutsideAngular(()=>n.auth());if(t&&u.useEmulator(...t),r&&(u.tenantId=r),u.languageCode=i,o&&u.useDeviceLanguage(),s)for(let[l,h]of Object.entries(s))u.settings[l]=h;return a&&u.setPersistence(a),u},[t,r,i,o,s,a]),lw=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,o,s,a,u,l,h,p,m,v){let S=new Ue,P=Q(void 0).pipe($t(s.outsideAngular),Ae(()=>o.runOutsideAngular(()=>import("./chunk-ARNYNDQZ.js"))),ee(()=>cw(t,o,r)),ee(x=>Z$(x,o,a,l,h,p,u,m)),Qu({bufferSize:1,refCount:!1}));if(ji(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Q(null);else{P.pipe(zt()).subscribe();let x=P.pipe(Ae(V=>V.getRedirectResult().then(J=>J,()=>null)),Um,Qu({bufferSize:1,refCount:!1})),F=P.pipe(Ae(V=>new oe(J=>({unsubscribe:o.runOutsideAngular(()=>V.onAuthStateChanged(ge=>J.next(ge),ge=>J.error(ge),()=>J.complete()))})))),G=P.pipe(Ae(V=>new oe(J=>({unsubscribe:o.runOutsideAngular(()=>V.onIdTokenChanged(ge=>J.next(ge),ge=>J.error(ge),()=>J.complete()))}))));this.authState=x.pipe(Zu(F),Jt(s.outsideAngular),$t(s.insideAngular)),this.user=x.pipe(Zu(G),Jt(s.outsideAngular),$t(s.insideAngular)),this.idToken=this.user.pipe(Ae(V=>V?de(V.getIdToken()):Q(null))),this.idTokenResult=this.user.pipe(Ae(V=>V?de(V.getIdTokenResult()):Q(null))),this.credential=ep(x,S,this.authState.pipe(ut(V=>!V))).pipe(ee(V=>V?.user?V:null),Jt(s.outsideAngular),$t(s.insideAngular))}return Zx(this,P,o,{spy:{apply:(x,F,G)=>{(x.startsWith("signIn")||x.startsWith("createUser"))&&G.then(V=>S.next(V))}}})}static \u0275fac=function(r){return new(r||n)($(Xh),$(ef,8),$(it),$(_e),$($i),$(q$,8),$(G$,8),$(W$,8),$(K$,8),$(Q$,8),$(Y$,8),$(Xr,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),dw=(()=>{class n{constructor(){fn.registerVersion("angularfire",jt.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=st({type:n});static \u0275inj=ot({providers:[lw]})}return n})();var tf={apiKey:"AIzaSyBRSAjljFn3J_Lpk_CD10_a3tb2tYz4kQw",authDomain:"shopforemi.firebaseapp.com",projectId:"shopforemi",storageBucket:"shopforemi.firebasestorage.app",messagingSenderId:"181782064973",appId:"1:181782064973:web:0193f057d46b9b38a99104",measurementId:"G-YFRW93XMFZ"};Bo(uw.initializeApp(tf));Bo(lw);Bo(dw);var Xx={providers:[UD({eventCoalescing:!0}),Pb(),j_(tw),Mm(),$m(()=>zm(tf)),Ub(()=>zb()),j_(tw),Es,$m(()=>zm(tf)),Mm(),Bo(uw.initializeApp(tf),dw,qS,kb)]};function J$(n,e){if(n&1&&(T(0,"option",25),R(1),A()),n&2){let t=e.$implicit;Ee("value",t),H(),Te(" ",t," ")}}function X$(n,e){if(n&1){let t=In();T(0,"li",8)(1,"a",26),Ie("click",function(){Ot(t);let i=qe();return kt(i.login())}),R(2," Connexion "),A()()}}function e4(n,e){if(n&1){let t=In();T(0,"li",8)(1,"a",26),Ie("click",function(){Ot(t);let i=qe();return kt(i.logout())}),R(2," Deconnexion "),A()()}}var eM=(()=>{class n{productService;searchService;router;selectedCategory="";searchKey="";categories=[];constructor(t,r,i){this.productService=t,this.searchService=r,this.router=i}authService=N(cn);ngOnInit(){this.productService.getCategoriesOfProducts().subscribe(t=>{this.categories=t}),this.authService.user$.subscribe(t=>{t?this.authService.currentUserSig.set({email:t.email,username:t.displayName}):this.authService.currentUserSig.set(null),console.log(this.authService.currentUserSig())})}onSearch(t){this.searchService.setCategory(""),this.searchService.setSearchTerm(t),this.router.navigate(["/products"])}onCategoryChange(){this.searchService.setCategory(this.selectedCategory),this.router.navigate(["/products"])}logout(){this.authService.logout(),this.router.navigateByUrl("/")}login(){this.router.navigateByUrl("signin")}static \u0275fac=function(r){return new(r||n)(z(Ns),z(Os),z(Me))};static \u0275cmp=Oe({type:n,selectors:[["app-navbar"]],standalone:!0,features:[Fe],decls:43,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-dark"],[1,"container-fluid"],["routerLink","/","routerLinkActive","active",1,"navbar-brand"],["src","unv.png","alt","Universe Logo","height","120"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/","routerLinkActive","active",1,"nav-link","active"],["href","#",1,"nav-link"],["role","searchbox",1,"d-flex","gap-2"],[1,"categories-dropdown"],[1,"dropdown-select",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["role","search",1,"d-flex"],["type","search","placeholder","Search","aria-label","Search",1,"dd","form-control","me-2",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline"],[1,"panier","fa-sharp","fa-solid","fa-magnifying-glass"],[1,"navbar-nav","mb-2","mb-lg-0"],["routerLink","/account","routerLinkActive","active",1,"nav-link"],["routerLink","/orders","routerLinkActive","active",1,"nav-link"],["routerLink","/panier","routerLinkActive","active",1,"nav-link"],[1,"fa-solid","fa-cart-shopping"],[3,"value"],[1,"btn","btn-outline",3,"click"]],template:function(r,i){r&1&&(T(0,"nav",0)(1,"div",1)(2,"a",2),Z(3,"img",3),R(4," UNIVERSO "),A(),T(5,"button",4),Z(6,"span",5),A(),T(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),R(11,"Home"),A()(),T(12,"li",8)(13,"a",10),R(14,"Prime"),A()(),T(15,"li",8)(16,"a",10),R(17,"Deals"),A()(),T(18,"li",8)(19,"a",10),R(20,"Customer Service"),A()()(),T(21,"div",11)(22,"div",12)(23,"select",13),Wo("ngModelChange",function(s){return Na(i.selectedCategory,s)||(i.selectedCategory=s),s}),Ie("ngModelChange",function(){return i.onCategoryChange()}),T(24,"option",14),R(25,"All"),A(),$e(26,J$,2,2,"option",15),A()(),T(27,"div",16)(28,"input",17),Ie("ngModelChange",function(s){return i.onSearch(s)}),Wo("ngModelChange",function(s){return Na(i.searchKey,s)||(i.searchKey=s),s}),A(),T(29,"button",18),Z(30,"i",19),A()()(),T(31,"ul",20),$e(32,X$,3,0,"li",8)(33,e4,3,0,"li",8),T(34,"li",8)(35,"a",21),R(36," Account "),A()(),T(37,"li",8)(38,"a",22),R(39,"Orders"),A()(),T(40,"li",8)(41,"a",23),Z(42,"i",24),A()()()()()()),r&2&&(H(23),Go("ngModel",i.selectedCategory),H(3),Ee("ngForOf",i.categories),H(2),Go("ngModel",i.searchKey),H(4),ki(i.authService.currentUserSig()==null?32:-1),H(),ki(i.authService.currentUserSig()?33:-1))},dependencies:[an,js,Sx,xx,Xn,Wh,hi,zc,dn,ln,Jn],styles:[".navbar-brand[_ngcontent-%COMP%]{font-weight:700;color:#000}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#030000}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#61c206}.navbar-nav[_ngcontent-%COMP%]   ms-auto[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.navbar-nav[_ngcontent-%COMP%]   ms-auto[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#73ff00}.categories-dropdown[_ngcontent-%COMP%]{margin-right:0}.categories-dropdown[_ngcontent-%COMP%]   .dropdown-select[_ngcontent-%COMP%]{appearance:y;border:1px solid #ced4da;padding:.5rem 1rem;font-size:16px;background-color:#fff;color:#495057;border-radius:8px;width:120px}.categories-dropdown[_ngcontent-%COMP%]   .dropdown-select[_ngcontent-%COMP%]:focus{border-color:#0a2645;outline:none;box-shadow:0 0 0 .2rem #007bff40}.form-control[_ngcontent-%COMP%]:focus{outline:none;transition:all .4s ease-in-out}.form-control[_ngcontent-%COMP%]{width:500px}"]})}return n})();var tM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Oe({type:n,selectors:[["app-root"]],standalone:!0,features:[Fe],decls:2,vars:0,consts:[[2,"margin-top","7rem"]],template:function(r,i){r&1&&Z(0,"app-navbar")(1,"router-outlet",0)},dependencies:[O_,eM]})}return n})();Mb(tM,Xx).catch(n=>console.error(n));
